<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>QJE-制度塑造了近500年全球财富格局，而不是地理</title>
    <link href="/2024/06/04/20240604-QJE-%E5%88%B6%E5%BA%A6%E5%A1%91%E9%80%A0%E4%BA%86%E8%BF%91500%E5%B9%B4%E5%85%A8%E7%90%83%E8%B4%A2%E5%AF%8C%E6%A0%BC%E5%B1%80%EF%BC%8C%E8%80%8C%E4%B8%8D%E6%98%AF%E5%9C%B0%E7%90%86/"/>
    <url>/2024/06/04/20240604-QJE-%E5%88%B6%E5%BA%A6%E5%A1%91%E9%80%A0%E4%BA%86%E8%BF%91500%E5%B9%B4%E5%85%A8%E7%90%83%E8%B4%A2%E5%AF%8C%E6%A0%BC%E5%B1%80%EF%BC%8C%E8%80%8C%E4%B8%8D%E6%98%AF%E5%9C%B0%E7%90%86/</url>
    
    <content type="html"><![CDATA[<blockquote><p>过去500年间，全球财富（发展）格局发生了逆转。印度的莫卧儿帝国、美洲的阿兹特克和印加帝国在15世纪时是最富裕的文明，而北美、新西兰和澳大利亚的文明发展水平较低。但今天，美国、加拿大、澳新等国的收入水平要比现在的印度、墨西哥、秘鲁高出一个数量级。是地理注定了国家的命运，还是制度决定了民族的兴衰？</p><p>论文用1500年的城市化率和人口密度作为经济繁荣的代理变量，发现它们与今天的人均收入呈负相关。这一“<strong>财富逆转</strong>”的模式与简单的地理假说不符。论文认为这一逆转反映了欧洲殖民主义导致的<strong>制度变迁</strong>。在相对贫穷、人口稀少的地区，欧洲殖民者倾向于大规模定居并建立鼓励投资的制度；而在原本繁荣、人口稠密的地区，<strong>掠夺性制度</strong>更有利可图。这种“制度逆转”可以解释500年间的收入逆转。</p><p>通过详细的数据分析和工具变量法，作者证明了<strong>制度</strong>在长期经济发展中的关键作用，特别是在工业化过程中，良好的制度能够促进经济快速增长和长期发展。该文反驳了地理假说，强调了制度对现代经济表现的重要影响。</p></blockquote><p><strong>标题:</strong> Reversal of fortune: Geography andinstitutions in the making of the modern world income distribution</p><p><strong>期刊:</strong> <em>The Quarterly journal ofeconomics</em></p><p><strong>作者:</strong></p><ul><li><u>Daron Acemoglu</u>：Institute Professor at MIT and an electedfellow of the National Academy of Sciences, American PhilosophicalSociety, the British Academy of Sciences, the Turkish Academy ofSciences, the American Academy of Arts and Sciences, the EconometricSociety, the European Economic Association, and the Society of LaborEconomists.</li><li><u>Simon Johnson</u>：the Ronald A. Kurtz (1954) Professor ofEntrepreneurship at the MIT Sloan School of Management.</li><li><u>James A. Robinson</u>：British economist and political scientist.He is currently the Reverend Dr. Richard L. Pearson Professor of GlobalConflict Studies and University Professor at the Harris School of PublicPolicy, University of Chicago.</li></ul><p><strong>发布时间：</strong> 01 November 2002</p><p><br/></p><h2 id="引言">引言</h2><h4id="过去500年全球财富格局逆转"><strong>过去500年全球财富格局逆转</strong></h4><p>在1500年，像莫卧儿帝国、阿兹特克帝国和印加帝国这些地区都拥有高度发达的文明和相对繁荣的经济。而北美洲的某些地区、新西兰和澳大利亚则相对未开发，经济落后。然而，经过几个世纪的历史发展，这些地区的经济状况发生了巨大的变化。现今，美国、加拿大、澳新等国的收入水平要比印度、墨西哥、秘鲁高出一个数量级。这个现象被称为“<strong>财富逆转</strong>”，即论文标题里的<em>Reversalof fortune</em>。</p><h4id="年的城市化率和人口密度与当今的发展水平呈负相关"><strong>1500年的城市化率和人口密度与当今的发展水平呈负相关</strong></h4><p>由于1500年尚无人均GDP概念，作者使用城市化率和人口密度来衡量1500年的经济发展水平。</p><ul><li><strong>城市化率</strong>：反映一个地区的城市人口比例。作者引用了历史学家的观点，认为城市化率与经济发展密切相关。</li><li><strong>人口密度</strong>：每平方公里的居民数。高人口密度通常与农业生产力高的地区相关，这些地区能够支持较大的人口。</li></ul><p>下面两幅图展示了1500年的城市化率和人口密度与1995年人均GDP（考虑购买力平价）的负相关关系：</p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240602200754005.png" /></p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240602200709441.png" /></p><p>⬆️上面两幅图展示了1500年的城市化率和人口密度与当今经济发展水平的负相关关系，可以发现像美国、加拿大、澳洲等地，在1500年时城市化率基本为0，但却是当今经济发展水平最高的几个国家。而摩洛哥（MAR）、卢旺达（RWA）、孟加拉国（BGD）等地在1500年时拥有很高的城市化率和人口密度，但却成了当今世界最为贫穷的几个国家。</p><h4id="当今世界城市化率与发展水平正相关"><strong>当今世界城市化率与发展水平正相关</strong></h4><p>⬇️下面这幅图同样展示了城市化率与人均GDP的关系，但横轴改为当今的城市化率，可以发现在当今世界，城市化率与经济发展水平是<strong>正向关系</strong>。图中的香港（HKD）、新加坡（SGP）、美国、加拿大和澳洲等地的城市化率很高，同时人均GDP也很高。</p><p>图中左下角主要是非洲的贫困国家，如埃塞俄比亚（ETH）、坦桑尼亚（TZA）、厄立特里亚（ERI）。</p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240602200433069.png" /></p><p>是什么导致了过去500年间全球财富格局的逆转呢？是地理注定了国家的命运，还是制度决定了民族的兴衰？</p><h2 id="地区发展差距的地理假说">地区发展差距的地理假说</h2><p>地理假说认为，国家之间的经济繁荣差异主要是由地理、气候和生态特征的差异决定的。这一假说的支持者认为，自然环境对劳动生产率和经济发展有直接影响。这些观点可以追溯到多位历史学家和经济学家，包括马基雅维利、孟德斯鸠、汤因比、马歇尔、亨廷顿和米尔达尔等。地理假说有多个版本。</p><h4 id="简单地理假说"><strong>简单地理假说</strong></h4><p>简单地理假说认为，地理、气候和生态特征直接影响一个国家的经济表现。这种假说的核心观点是，地理因素通过影响劳动生产率、疾病环境和农业生产力等直接决定了经济繁荣的差异。</p><ul><li><strong>气候的直接影响</strong>：例如，气候适宜的地区更有利于农业生产，劳动生产率也较高。这些因素综合作用，使得气候适宜的地区往往更富裕；</li><li><strong>疾病环境</strong>：热带地区的高温高湿环境有利于疾病的传播，特别是传染病。这些疾病环境不利于人口健康，从而影响劳动生产率和经济发展；</li><li><strong>农业生产力</strong>：地理因素决定了农业生产力。例如，适合农业的气候和土壤条件可以提高作物产量，进而支持更高的人口密度和经济活动。</li></ul><p>简单地理假说强调气候和疾病等地理变量对生产力的<strong>不随时间变化</strong>的影响，因此预测1500年相对富裕的国家和地区今天也应该相对繁荣，然而这与事实不符。</p><h4id="复杂地理假说温带漂移假说"><strong>复杂地理假说（温带漂移假说）</strong></h4><p>复杂地理假说认为某些地理特征在 1500年对成功的经济表现没有用处，甚至有害，但后来可能会变得有益。即地理因素并不是一直固定地影响经济表现，而是在不同的历史阶段其作用会有所不同。地理因素在特定历史时期或与特定技术条件相互作用，对经济发展产生重大影响。其中具有代表性的是<strong>温带漂移假说</strong>，其主要关注点如下：</p><ul><li><strong>农业技术的扩散</strong>：温带地区因为适合某些高产作物（如小麦和大麦）和农业技术（如重型犁和轮作制度）的应用，在农业革命之后逐渐变得更为富裕。这些农业技术和高产作物在热带地区并不适用，导致温带地区在农业生产力上占据优势；</li><li><strong>人口密度和技术扩散</strong>：温带地区较高的人口密度促进了技术扩散和经济发展。较高的人口密度有利于知识和技术的传播，推动了经济的快速发展；</li><li><strong>长期的经济重心转移</strong>：经济活动的重心逐渐从赤道附近的热带地区向温带地区转移，这一过程被称为“温带漂移”。随着时间推移，温带地区的经济表现逐渐超越了热带地区。</li></ul><p>尽管看似合理，但温带漂移假说无法解释发展的逆转。首先，相对收入的逆转似乎与欧洲人到来之前的人口密度和繁荣有关，而不是与该地区任何固有的地理特征有关。此外，根据温带漂移假说，当欧洲农业技术传播到殖民地时，这种逆转应该立即发生。然而，虽然欧洲农业技术（至少在北美）的引入发生得更早，但<strong>逆转发生在十八世纪末和十九世纪初</strong>，并且与<strong>工业化</strong>密切相关。</p><p>复杂地理假说的另一个版本可能是某些地理特征，例如煤炭储量的存在或易于进入海洋，促进了工业化。后续的实证否定了这种假说。</p><h4 id="地理假说的其他版本"><strong>地理假说的其他版本</strong></h4><ul><li><strong>新石器革命和长期历史影响</strong>：戴蒙德认为，新石器革命（即农业革命）首先在地理条件优越的地区发生，例如新月沃地。农业革命的早晚决定了这些地区在技术和社会组织上的领先地位。由于农业革命的时间差异，不同地区在技术发展和军事力量上出现了差距。这些差距影响了<strong>欧洲殖民时期的征服和统治策略</strong>；</li><li><strong>杰弗里·萨克斯的现代版本</strong>：强调现代经济发展中的地理因素，包括疾病环境、农业生产力和运输成本。如地理位置影响运输成本，靠近海岸线和内陆可航行河流的地区运输成本较低，更有利于经济活动和贸易。</li></ul><p>尽管地理假说的多个版本提供了不同的视角来解释经济繁荣的差异，但许多时候地理假说的预测与现实发展相冲突，并且论文的实证分析表明，地理因素在长期经济表现中的作用相对有限。</p><h2 id="制度假说">制度假说</h2><p>制度假说认为，国家和地区之间的经济表现差异主要是由其社会制度和组织方式决定的。具体来说，那些能够提供投资激励和机会的社会更有可能繁荣，而那些未能做到这一点的社会则往往会陷入贫困。简单而言，制度可以分为两类：</p><ul><li><strong>私有产权制度（Institutions of PrivateProperty）</strong>：这种制度确保了个人对其财产的控制权，从而鼓励投资和经济活动。在这种制度下，个人可以预期他们的投资回报将得到保障，因此更愿意进行投资和创新；</li><li><strong>掠夺性制度（ExtractiveInstitutions）</strong>：在这种制度下，权力集中在少数人手中，他们利用权力掠夺大部分人口的财富和资源。社会中大多数人口面临着被政府、统治精英或其他代理人征用和劫持的高风险。这种制度抑制了投资和经济活动，因为大多数人缺乏安全感和投资激励。</li></ul><p>约翰·洛克早在17世纪就强调了产权保护对生产活动的重要性。他认为，没有产权保护，生产活动无法有效进行。亚当·斯密也指出，“和平、低税和公正的管理”是经济繁荣的关键。</p><p>制度假说认为，社会的组织方式和制度结构决定了一个国家的经济表现。良好的制度能够提供有效的产权保护、促进市场竞争和鼓励创新。制度具有持续性，一旦建立，往往会长期影响一个国家的经济表现。然而，当制度发生重大变化时，经济表现也会随之发生变化。</p><p><strong>欧洲殖民主义</strong>导致了一种“制度逆转”：在原本贫穷的地区引入了私有产权制度，而在原本繁荣的地区引入或维持了掠夺性制度。</p><h2 id="欧洲殖民者如何选择制度">欧洲殖民者如何选择制度</h2><p>历史证据支持这样一种观点，即殖民者在以前人烟稀少、不太繁荣的地区引入了相对更好的制度，如在美国、加拿大、澳大利亚、新西兰、香港和新加坡等一些殖民地，欧洲人建立了私有产权制度。在另一些情况下，欧洲人建立或接管已有的掠夺性制度，以直接开采资源，发展种植园和采矿网络，或收税。</p><p>欧洲殖民者选择什么样的制度，有两个因素很重要：</p><ul><li><strong>拟采取制度的收益水平</strong>：当掠夺性制度的收益更高时，欧洲人更有可能选择它们。在人口密集且已有丰富资源的地区，如中美洲和南美洲，殖民者发现掠夺性制度更为有利。这些地区往往具有复杂的<strong>社会结构</strong>和<strong>政治组织</strong>，殖民者往往利用或改造现有制度，以实现掠夺目的。通过征收重税、强迫劳动和剥削现有资源，殖民者可以迅速获取大量财富。例如，西班牙在阿兹特克和印加帝国实行了“恩科米恩达制度”（Encomienda），迫使土著居民进行繁重的劳动，并向西班牙殖民者缴纳贡品；</li><li><strong>欧洲人能否定居</strong>：在人口稀少、环境疾病较少的地区，如北美和澳大利亚，殖民者则倾向于建立定居点并发展农业和商业活动。这些地区没有现成的资源供掠夺，因此殖民者更倾向于创建稳定的社会结构，吸引更多移民，推动经济发展。例如，英国殖民者在北美建立了私有产权制度和自治政府，鼓励欧洲移民定居并进行农业生产和商业活动。此外，当大量欧洲人定居时，定居者中的下层人士要求获得与祖国类似甚至更好的权利和保护，这使得为社会各阶层发展有效的产权制度更有可能。</li></ul><p>对于这一部分，有两点需要注意：</p><ul><li><strong>掠夺性制度也可能是均衡制度</strong>（equilibriuminstitutions）。在掠夺性制度下，统治者可以垄断贸易、征收高额赋税、强制劳动等手段，从经济活动中获取大量租金。这些租金为统治者提供了强有力的激励，使其倾向于维持现有的掠夺性制度，而非进行改革。只要租金足够高，统治者就能够承受掠夺可能带来的经济低效和社会不满，使得掠夺性制度能够持续存在。根据前殖民地的发展经验，均衡制度很可能是为了最大化欧洲殖民者的租金，而不是最大化长期增长；</li><li>重要的不是欧洲列强的“掠夺”或直接开采资源，而是他们为支持开采而建立的<strong>制度的长期后果</strong>。这些制度的显着特征是政治权力高度集中在少数人手中，他们从其他人口中榨取资源。例如，西班牙和葡萄牙殖民的主要目标是从美洲获取白银、黄金和其他贵重物品，并自始至终垄断军事力量来开采这些资源。为此而建立的采矿网络是建立在强迫劳动和对原住民的压迫的基础上的。</li></ul><h2 id="实证策略和基本结果">实证策略和基本结果</h2><p>本文采用了多种实证策略来论证欧洲殖民引致的制度变迁，尤其是制度逆转，是解释“财富逆转”的关键。具体而言，作者主要采取的实证步骤和基本结果如下：</p><p><strong>(1) 使用历史数据记录“财富逆转”现象</strong></p><p>作者收集并整理了1500年的城市化率、人口密度数据，以及现代的人均GDP数据，通过散点图直观展示了1500年和今天的经济表现负相关，即“财富逆转”；使用简单回归分析进一步确认了这种负相关关系的统计显著性和稳健性。</p><p><strong>(2) 系统检验地理假说的解释力</strong></p><p>在回归中加入了各种地理变量，如纬度、气温、湿度、土地肥力等，发现“财富逆转”在控制这些变量后依然成立。这表明简单的地理决定论难以完全解释逆转现象。进一步检验了与工业化相关的地理变量(如煤炭储量、通航距离)的作用，发现它们对逆转的解释力也有限。</p><p><strong>(3) 提供制度假说的证据</strong></p><p>使用多个反映殖民策略和早期制度的变量(如欧洲人定居比例、强制劳动普遍程度)，发现它们与今天的经济表现显著相关。这支持了殖民引致的制度变迁的重要性。</p><p>使用反映制度特征的变量(如法律渊源、产权保护)，发现它们能够很好地解释“财富逆转”，且在加入地理变量后依然稳健。这进一步支持了制度的核心作用。为解决内生性问题，论文选取<strong>欧洲殖民时期的移民死亡率</strong>作为工具变量。高死亡率地区欧洲人难以大规模定居，倾向于建立榨取性制度；低死亡率地区欧洲人能够大量定居，更可能引入保护财产权的制度。</p><p>通过考察逆转发生的时间，发现它与工业革命和制度重要性上升的时间一致。<strong>工业革命</strong>作为一个关键时间节点，进一步推动了逆转现象的发生。拥有良好制度的社会能够更好地利用工业化机会，实现经济快速增长，而制度质量较差的社会则未能抓住这些机会，导致经济表现相对落后。<imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240603143213885.png" /></p><p><strong>(4) 反驳其他竞争性解释</strong></p><p>主要考虑了欧洲移民的人力资本、技术和思想的传播模式策的影响。</p><ul><li><strong>关于欧洲人直接影响的反驳</strong>：作者考察了欧洲移民人口比例与经济表现的关系。如果人力资本是关键，那么欧洲移民比例应该与今天的人均GDP正相关。但实证结果表明，在控制了制度变量后，移民比例的相关性并不显著。这表明制度而非人力资本是更重要的决定因素。一些案例进一步支持这一点：欧洲移民比例高的<strong>阿根廷</strong>经济表现不佳，而移民比例低的<strong>香港</strong>和<strong>新加坡</strong>经济增长迅速；</li><li><strong>关于技术传播的反驳</strong>：作者指出，如果逆转反映了技术从欧洲向相对落后地区的传播，那么这种传播应该导致经济表现的收敛而非分化。但长期数据展示了发散而非收敛的模式。这表明单纯的技术传播不足以解释“财富逆转”。文献进一步表明，技术收敛取决于接受国的制度、人力资本和贸易开放度等因素，这也凸显了制度的重要性。</li></ul><h2 id="结论">结论</h2><ul><li>在过去500年里，1500年相对富裕的地区如今相对贫穷，而当时较为落后的地区现在则更加富裕。这一逆转现象通过城市化率和人口密度的数据分析得到了验证。这表明，1500年的经济繁荣与现代经济表现之间存在显著的负相关关系；</li><li>研究表明，<strong>制度质量</strong>是导致经济繁荣逆转现象的主要原因。欧洲殖民者在殖民地引入了不同类型的制度，具体取决于当地的人口密度、经济状况和移民死亡率等因素。论文通过工具变量法，使用移民死亡率作为工具变量，证明了制度质量对现代经济表现的显著影响。高死亡率地区倾向于建立掠夺性制度，而低死亡率地区则更可能引入保护私有产权的制度；</li><li>论文反驳了将经济发展主要归因于地理因素的地理假说。尽管地理因素在某些情况下可能对经济发展有利，但它们无法解释为何曾经繁荣的地区现在相对贫穷。论文的实证结果显示，1500年的地理优势并未转化为现代的经济成功，反而是制度质量决定了长期的经济表现；</li><li>逆转现象主要发生在18世纪末和19世纪初，与工业革命密切相关。拥有良好制度的社会能够更好地利用工业化机会，实现经济快速增长，而制度质量较差的社会则未能抓住这些机会，导致经济表现相对落后。工业革命作为一个关键时间节点，加剧了逆转现象的发生。</li></ul><h2 id="号外">号外</h2><ul><li><p>该文的标题 Reversal of fortune ，其中 <em>Fortune</em>这个词蛮有意思，它既指财富，又指命运、前途、际遇；所以标题所谓的“逆转财富”，也可以理解为发展际遇的转变，或者命运转折；</p></li><li><p>制度假说和相对收入的逆转并不排除<strong>地理因素</strong>在某些早期时候通过制度发挥的重要作用，作者只是认为制度差异是当今人均收入差异的主要根源。在原文中，作者写到：</p><blockquote><p>首先，1500年经济繁荣的差异可能反映了地理因素（例如，热带地区比温带地区生产力更高）以及非地理影响造成的社会组织差异。其次，更重要的是，正如我们在Acemoglu、Johnson 和 Robinson [2001a]中所强调的，欧洲定居点以及制度发展的一个主要决定因素是欧洲人面临的死亡率，这是一个地理变量。</p></blockquote><p>这里的 Acemoglu、Johnson 和 Robinson [2001a] 就是 <em>The ColonialOrigins of Comparative Development: An EmpiricalInvestigation</em>。</p></li></ul><h2 id="原文信息">原文信息</h2><p>Daron Acemoglu, Simon Johnson, James A. Robinson, Reversal ofFortune: Geography and Institutions in the Making of the Modern WorldIncome Distribution, <em>The Quarterly Journal of Economics</em>, Volume117, Issue 4, November 2002, Pages 1231–1294,https://doi.org/10.1162/003355302320935025</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240602152108304.png"alt="image-20240602152108304" /><figcaption aria-hidden="true">image-20240602152108304</figcaption></figure>]]></content>
    
    
    
    <tags>
      
      <tag>HIBL</tag>
      
      <tag>Acemoglu</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>JPE-民主确实导致了增长</title>
    <link href="/2024/05/28/20240528-JPE-%E6%B0%91%E4%B8%BB%E7%A1%AE%E5%AE%9E%E5%AF%BC%E8%87%B4%E4%BA%86%E5%A2%9E%E9%95%BF/"/>
    <url>/2024/05/28/20240528-JPE-%E6%B0%91%E4%B8%BB%E7%A1%AE%E5%AE%9E%E5%AF%BC%E8%87%B4%E4%BA%86%E5%A2%9E%E9%95%BF/</url>
    
    <content type="html"><![CDATA[<blockquote><p>尽管普遍观点认为民主制度对经济增长无益甚至有害，但该论文引入了一个新的民主测量指标，实证发现民主对人均GDP具有显著的正向影响。研究估计，从非民主转向民主的国家，在未来25年内人均GDP将比持续保持非民主的国家高出约20%。</p><p>进一步分析表明，民主可能通过增加投资、鼓励经济改革、改善教育和医疗条件、减少社会动荡等渠道促进经济增长，支持了民主国家更倾向于投资公共物品、推行有利于广泛人群的经济政策的理论假说。</p></blockquote><p><strong>标题:</strong> Democracy Does Cause Growth</p><p><strong>期刊:</strong> <em>Journal of Political Economy</em></p><p><strong>作者:</strong></p><ul><li><u>Daron Acemoglu</u>：Institute Professor at MIT and an electedfellow of the National Academy of Sciences, American PhilosophicalSociety, the British Academy of Sciences, the Turkish Academy ofSciences, the American Academy of Arts and Sciences, the EconometricSociety, the European Economic Association, and the Society of LaborEconomists. 大龙一个人就是一个学院、一个研究所、一支军队！</li><li><u>Suresh Naidu</u>：Professor of International and Public Affairsand the Jack Wang and Echo Ren Professor of Economics, ColumbiaUniversity.</li><li><u>Pascual Restrepo</u>：Associate professor at BostonUniversity.</li><li><u>James A. Robinson</u>：British economist and political scientist.He is currently the Reverend Dr. Richard L. Pearson Professor of GlobalConflict Studies and University Professor at the Harris School of PublicPolicy, University of Chicago. 大龙的好队友！</li></ul><p><strong>出刊时间：</strong> February2019，该文的WP版本2014年3月在NBER上线。</p><p><br/></p><h2 id="引言">引言</h2><h3 id="我们的悲观">“我们的悲观”</h3><ul><li><strong>经济增长与非民主:</strong>中国在非民主制度下的显著经济增长，阿拉伯之春的消退，以及欧洲和美国最近的民粹主义政治崛起，使得学术界和政策讨论中关于民主制度在经济增长方面的作用变得更加受怀疑。比如，《纽约时报》的著名专栏作家汤姆·弗里德曼（TomFriedman,2009）就认为“一党非民主制度肯定有其弊端。但当它由一群相对开明的人领导时，比如当今的中国，它也有很大的优势。那一个政党可以强制实施在21世纪推动社会前进所需的政治上艰难但极其重要的政策。”罗伯特·巴罗（Robert Barro,1997）更大胆地指出：“更多的政治权利对经济增长没有影响。”</li><li><strong>悲观观点的广泛存在:</strong>尽管一些最新的研究估计出民主对增长有积极影响，但民主对经济的悲观影响依然在广泛传播。Gerring等（2005）的研究总结了20世纪50年代以来的学术文献，认为“在过去五十年中，民主对跨国经济表现的净影响是负面或无影响的”。</li></ul><h3 id="研究目标与贡献">研究目标与贡献</h3><ul><li><strong>挑战传统观点:</strong>本文旨在挑战上述观点。通过分析1960年至2010年间的国家面板数据，研究民主在过去50年间全球范围内的传播对经济增长的影响。证据表明，民主确实促进了经济增长，其影响显著且可观。</li><li><strong>主要发现:</strong>研究发现，从非民主转向民主的国家，其人均GDP在接下来的25年内比保持非民主的国家高出约20%。民主对增长的影响不取决于初始的经济发展水平，尽管研究发现，在中等教育水平较高的国家，民主对增长更有利。</li></ul><h3 id="实证挑战与解决方案">实证挑战与解决方案</h3><ul><li><strong>测量误差:</strong>现有的民主指数存在相当大的测量误差，导致民主评分的虚假变化，这些变化并不反映实际的民主制度变化；</li><li><strong>不可观测特征:</strong>民主国家与非民主国家在制度、历史和文化等不可观测特征上有所不同，这些特征也会影响GDP。因此，像Barro（1996,1999）那样的跨国回归分析可能会有偏差，难以揭示民主对增长的因果效应。最近的研究通过使用差分法或面板数据估计并控制国家固定效应来解决这一问题；</li><li><strong>GDP动态:</strong>如图1所示以及Acemoglu等（2005）研究所示，GDP在民主化前会出现下降，这一现象需要在研究中加以建模，以区分民主化对GDP的短期和长期影响；<imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240528103141775.png" /></li><li>即使能控制国家固定效应和GDP动态，民主变迁仍可能受到一些与未来经济条件相关的时变不可观测因素的影响，使估计值偏离真实的因果效应。</li></ul><blockquote><p>本文将采用多种计量方法来应对上述挑战，力图准确识别民主对经济增长的因果影响。这包括：</p><ul><li>利用多个数据源建立一个改进的民主测量指标；</li><li>使用包含国家固定效应和GDP滞后项的动态面板模型；</li><li>采用半参数处理效应模型，放宽对GDP过程的参数限制；</li><li>利用一国所在地区的民主化浪潮作为该国民主状态的工具变量，以应对民主化过程中的潜在内生性问题。</li></ul></blockquote><h2 id="数据">数据</h2><p>研究构建了一个包含175个国家从1960年至2010年的年度面板数据，尽管并非所有变量在整个样本期间都可用。</p><p><strong>民主变量的测量</strong>：</p><ul><li><strong>二分变量</strong>：如果<em>FreedomHouse</em>将一个国家编码为“自由”或“部分自由”，且<em>PolityIV</em>给该国正分，则将该国视为民主国家。如果这两个来源之一不可用，则通过Cheibub、Gandhi和Vreeland（2010）或Boix、Miller和Rosato（2012）的数据验证该国是否也被编码为民主国家；</li><li><strong>覆盖范围:</strong>该民主测量覆盖了1960年至2010年间的184个国家，并适用于所有这些年期间独立的国家。1960年，样本中的民主国家比例为31.5%；到2010年，这一比例增加到64.1%，显示了本文研究的民主传播的前所未有的广度。</li></ul><p><strong>其他</strong>：</p><ul><li><strong>经济指标:</strong>主要的经济指标包括人均GDP（以2000年美元计算），来源于世界银行发展指标（WorldBank Development Indicators）。</li><li><strong>其他变量:</strong>其他变量包括投资、贸易（出口加进口）、中小学入学率、婴儿死亡率（来自世界银行发展指标）、金融流动性（Lane和Milesi-Ferretti，2007）、全要素生产率（PennWorldTables，由Feenstra、Inklaar和Timmer，2015构建）、税收收入（Hendrix，2010）和经济改革指数（Giuliano等，2013）。此外，使用Banks和Wilson（2013）的跨国时间序列数据档案构建了一个二分的社会动荡测量指标，指示暴动和起义的发生。</li><li><strong>地区分类:</strong>在某些分析中，国家被分为七个地理区域，按照世界银行的分类，这些区域是：非洲、东亚和太平洋、东欧和中亚、西欧和其他发达国家、拉丁美洲和加勒比地区、中东和北非、南亚。</li></ul><h2 id="识别策略">识别策略</h2><p><strong>动态面板估计</strong></p><p>使用了一个动态（线性）面板模型来估计民主对GDP的影响。模型考虑了国家固定效应和年份固定效应，并包含多个GDP滞后项以控制GDP的动态特性。</p><p>该策略置于顺序外生性假设之下：假设在控制GDP的滞后值和国家固定效应的条件下，民主状态的变化与未来经济状况的时间变化不可观测变量无关。通过控制足够多的GDP滞后项来消除误差项的自相关，并移除民主化之前GDP下降的影响。</p><p><strong>处理效应和半参数估计</strong></p><p>半参数模型将民主视为一种“处理”，允许其在不同时期对GDP分布产生灵活的影响，又能控制GDP的动态演化。具体采用了逆概率加权(IPW)估计量，通过对未发生民主转型的国家赋予更高权重，使处理组和对照组在GDP动态上具有可比性。权重的计算基于倾向得分，即基于各国GDP滞后值预测其在t时期为民主的概率。</p><h3 id="工具变量估计">工具变量估计</h3><p>政治科学文献表明，民主化通常发生在区域浪潮中。因此，研究利用区域内民主化的浪潮作为工具变量来预测某个国家的民主化状态，从而确保变化的外生性。</p><p>使用两阶段最小二乘法（2SLS）进行估计。第一阶段用工具变量预测民主化状态，第二阶段用预测的民主化状态来估计对GDP的影响。</p><h2 id="结果">结果</h2><ul><li><p>民主化对人均GDP有显著的正面影响。在国家转向民主的25年内，人均GDP提高了约20%。这种正面效应不仅在整体上显著，而且在不同发展水平的国家中均存在。</p></li><li><p>使用半参数处理效应框架估计民主化对GDP的时间路径影响。结果显示，民主化对GDP的影响是渐进的，且在不同时间点的效应均为正。</p></li><li><p>使用区域民主化浪潮作为工具变量，验证民主对GDP的因果效应。结果表明，利用区域内民主化浪潮预测的民主状态对GDP的影响依然显著，支持了因果关系的推断。</p></li><li><p>机制分析显示，民主可能通过促进物质和人力资本积累、推动市场化改革、减少社会冲突、改善公共品供给、缩小收入差距等渠道，实现了更高的经济增长。</p></li><li><p>进一步分析发现，民主对经济增长的正面影响在不同发展水平的国家中普遍存在。无论是低收入国家还是高收入国家，民主化都显著促进了经济增长。在中等收入国家，这种影响更为显著。这可能是因为中等收入国家具备了一定的经济基础，民主化能够更有效地利用这些资源促进增长。此外，民主对经济增长的影响并不依赖于初始的经济发展水平，换句话说，民主在任何发展阶段都能发挥其正面作用。</p></li></ul><h2 id="结论">结论</h2><ul><li>民主对人均GDP有显著的正面影响。通过分析1960年至2010年间的国家面板数据，发现民主化在长期内显著提高了经济增长，平均使人均GDP增加约20%。</li><li>民主对经济增长的正面影响在不同发展水平的国家中均存在。这一发现挑战了传统的现代化理论，表明经济发展并不是实现民主化的前提条件。民主可以在任何经济发展阶段发挥其促进增长的作用。</li></ul><h2 id="号外">号外</h2><ul><li>这篇论文的开篇和《历史的终结与最后的人》(<em>The End of History andthe Last Man</em>)开篇写法一致，都是“我们的悲观主义”；</li><li>这篇论文的结论受到许多质疑，姚洋老师说本文的结果并不稳健；</li><li>大龙在第四届财新峰会有过一个演讲，财新报道的标题是：阿西莫格鲁：制度包容性可促中国增长。可查看链接：<ahref="https://topics.caixin.com/2013-12-19/100619817.html">https://topics.caixin.com/2013-12-19/100619817.html</a></li><li>也可点击查看原文，页尾附上了Daron在财新峰会演讲的文字稿。</li></ul><h2 id="原文信息">原文信息</h2><p>Acemoglu, Daron, Suresh Naidu, Pascual Restrepo, and James A.Robinson. "Democracy does cause growth." <em>Journal of politicaleconomy</em> 127, no. 1 (2019): 47-100. <ahref="https://doi.org/10.1086/700936">https://doi.org/10.1086/700936</a></p><iframe src="/myjs/pdfjs/web/viewer.html?file=/pdf/daron acemoglu.pdf" style="width:100%;height:800px"></iframe>]]></content>
    
    
    
    <tags>
      
      <tag>HIBL</tag>
      
      <tag>Acemoglu</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>RES-成功的民主制度孕育了内部支持</title>
    <link href="/2024/05/22/20240522-RES-%E6%88%90%E5%8A%9F%E7%9A%84%E6%B0%91%E4%B8%BB%E5%88%B6%E5%BA%A6%E5%AD%95%E8%82%B2%E4%BA%86%E5%86%85%E9%83%A8%E6%94%AF%E6%8C%81/"/>
    <url>/2024/05/22/20240522-RES-%E6%88%90%E5%8A%9F%E7%9A%84%E6%B0%91%E4%B8%BB%E5%88%B6%E5%BA%A6%E5%AD%95%E8%82%B2%E4%BA%86%E5%86%85%E9%83%A8%E6%94%AF%E6%8C%81/</url>
    
    <content type="html"><![CDATA[<blockquote><p>利用涵盖110多个国家的大规模调查数据，分析了个体对民主制度的支持如何受到民主制度成功表现（如经济增长、腐败控制、和平与政治稳定以及公共产品提供）的影响。研究表明，民主制度的成功表现是个体支持民主制度的主要驱动因素。此外，民主制度获得公民支持后在面对负面冲击时表现得更好。</p></blockquote><p><strong>标题:</strong> (Successful) Democracies Breed Their OwnSupport</p><p><strong>期刊:</strong> <em>The Review of Economic Studies</em></p><p><strong>作者:</strong></p><ul><li><u>Daron Acemoglu</u>：Institute Professor at MIT and an electedfellow of the National Academy of Sciences, American PhilosophicalSociety, the British Academy of Sciences, the Turkish Academy ofSciences, the American Academy of Arts and Sciences, the EconometricSociety, the European Economic Association, and the Society of LaborEconomists. 大龙一个人就是一个学院、一个研究所、一支军队！</li><li><u>Nicolás Ajzenman</u>：Assistant Professor, Economics Department,McGill University.</li><li><u>Cevat Giray Aksoy</u>：Associate Professor of Economics at King’sCollege London, Department of Political Economy.</li><li><u>Martin Fiszbein</u>：Assistant Professor, Department ofEconomics, Boston University.</li><li><u>Carlos Molina</u>：Job market candidate, Ph.D. candidate in theMIT Department of Economics.非常strong！已经是RES的审稿人。他的博士学位论文委员会成员分别是DaronAcemoglu、Benjamin Olken和Frank Schilbach。</li></ul><p><strong>上线时间：</strong> 16 May 2024</p><p><br/></p><h2 id="preface">Preface</h2><p><strong>当前民主制度的困境</strong></p><ul><li>许多选民对民主制度表示不满，信息误导和极端主义迅速蔓延；</li><li>民粹主义政党在许多西方国家崛起；</li><li>全球范围内，民主制度连续15年处于退步状态（根据Repucci andSlipowitz的报告）；</li><li>对于民主制度未来可持续性的担忧增加。</li></ul><p><strong>民主支持的重要性</strong></p><ul><li>民主需要公民的支持才能生存，这一观点可以追溯到古雅典；</li><li>富兰克林·罗斯福总统的新政（NewDeal）和拜登总统的基础设施和财政计划中，都强调了民主制度需要证明其有效性，以获得公众支持；</li><li>当前，是否存在民主制度的成功表现能够增加公众对民主制度的支持尚未得到系统的研究。</li></ul><p><strong>本文的研究问题</strong></p><ul><li>本文旨在探讨生活在民主制度下的个人是否更支持民主制度，并进一步分析这种支持是否主要来源于成功的民主制度（例如在经济增长、腐败控制、和平与政治稳定以及公共产品提供方面表现良好）。</li></ul><h2 id="文献对话">文献对话</h2><ul><li><strong>民主巩固与反民主政变</strong>：早期理论研究强调了公民集体行动对捍卫民主的重要性，而一些经验研究则提供了支持性证据。近期的一些研究关注民主失败导致选举威权主义和混合政体的出现。作者认为，本文有助于凸显成功民主经历对公民支持民主制度的重要性；</li><li><strong>关于高收入、高教育国家能否免于政变和民主崩溃的争论</strong>：现代化理论强调经济现代化与民主的关联，而后续研究则强调高收入国家不会发生政变。但是这些观点未能经受时间和证据的检验。最近的文献强调，尽管人均收入很高，但发达国家的民主也是脆弱的。作者指出，本文为这一争论提供了新的证据，即对民主的支持不是源于收入或教育，而是源于成功民主制度下积累的经验；</li><li><strong>公民文化的决定因素</strong>：一种观点认为，公民价值观、信念和参与水平等公民文化特征对民主至关重要，而这些特征在很大程度上是外生和历史决定的。本文的发现表明，支持民主的态度会受到民主绩效的影响而变化，这对这一观点提出了挑战；</li><li><strong>民主资本理论</strong>：这一理论强调，长期的民主统治会增加民主资本存量，从而巩固民主制度。作者的研究表明，民主资本确实很重要，但成功民主的经历才是关键。</li></ul><h2 id="数据">数据</h2><h3 id="数据来源"><strong>数据来源</strong></h3><ul><li><p>综合价值调查 (Integrated Values Surveys,IVS)，由欧洲价值观调查和世界价值观调查统一而来；</p></li><li><p>亚洲晴雨表 (Asian Barometer)；</p></li><li><p>拉丁美洲公众意见项目 (Latin American Public Opinion Project,LAPOP)；</p></li><li><p>拉美晴雨表 (Latinobarómetro)。</p></li></ul><h3 id="变量构造"><strong>变量构造</strong></h3><h4 id="民主程度"><strong>民主程度</strong></h4><ul><li>二分变量：结合多个数据集，创建了一个不平衡面板数据，涵盖了从1800年到2019年的203个政治体制；</li><li>连续变量：来自V-DEM项目，提供了1789年至2019年间178个国家的民主程度的持续衡量。V-DEM收集了广泛的指标数据，构建了五个民主维度的指数（选举民主、自由民主、参与民主、审议民主和平等民主），每个指数的取值范围为0到1。</li></ul><h4id="支持民主的指标主要被解释变量"><strong>支持民主的指标（主要被解释变量）</strong></h4><p>包含：</p><ul><li>支持民主指数（Support for Democracy Index）</li><li>民主制度更好（Democracy is Better）</li><li>民主体系（Democratic System）</li><li>反对强势领导人（Opposes Strong Leader）</li><li>反对军队统治（Opposes Army Rule）</li><li>政府高于专家（Government above Experts）</li></ul><p>六个指标，主要基于来自综合价值调查、亚洲晴雨表、拉丁美洲公众意见项目和拉美晴雨表的调查数据。为了保证指标的可比性，所有的回答都进行了标准化处理，即将不同调查中的回答转换为统一的标准分数。</p><h4id="成功表现数据data-on-successful-performance"><strong>成功表现数据（Dataon Successful Performance）</strong></h4><ul><li><strong>GDP增长</strong>：数据来源包括Maddison Project、Penn WorldTables和世界银行国家账户数据；</li><li><strong>腐败控制</strong>：数据来源于V-DEM的“政治腐败普遍性”指标；</li><li><strong>和平与政治稳定</strong>：使用了UCDP/PRIO武装冲突数据集，以一年内至少有25个战斗相关死亡的内部冲突作为代理变量；</li><li><strong>公共支出</strong>：结合了IMF财政事务部门数据和联合国教科文组织统计研究所的数据；</li><li><strong>不平等</strong>：使用了世界不平等数据库的数据，具体指标为最富有的1%和10%人口的收入份额。</li></ul><h4 id="民主暴露"><strong>民主暴露</strong></h4><p>变量定义：对于年龄为 <span class="math inline">\(a\)</span> 的个体<span class="math inline">\(i\)</span>，出生在国家 <spanclass="math inline">\(c\)</span>，在年份<spanclass="math inline">\(s\)</span>接受采访，其民主暴露程度定义为： <spanclass="math display">\[\text{Exposure to Democracy}_{c,s,a} = \sum_{t=s-a+k}^{s} D_{c,t}\]</span> 其中，<span class="math inline">\(D_{c,t}\)</span> 代表国家<span class="math inline">\(c\)</span> 在年份 <spanclass="math inline">\(t\)</span> 的民主程度，<spanclass="math inline">\(k\)</span>为一个常数（设为6岁），代表从个体开始上学时算起的民主暴露年数。</p><h2 id="识别策略">识别策略</h2><h4 id="成功民主暴露模型"><strong>成功民主暴露模型</strong></h4><p>民主暴露整体影响的回归模型： <span class="math display">\[\text{Outcome}_{i,w,c,s,a} = \beta \cdot \text{Exposure toDemocracy}_{c,s,a} + \gamma&#39; \cdot X_{i,w,c,s,a} +\epsilon_{i,w,c,s,a}\]</span></p><p>按成功民主、不成功民主、不成功威权细分的模型： <spanclass="math display">\[\text{Outcome}_{i,w,c,s,a} = \overline\beta_1 \cdot \text{Exposure toSuccessful Democracy}_{c,s,a} + \overline\beta_2 \cdot \text{Exposure toUnsuccessful Democracy}_{c,s,a} + \overline\beta_3 \cdot \text{Exposureto Unsuccessful Autocracy}_{c,s,a} + \overline\gamma&#39; \cdotX_{i,w,c,s,a} + \overline\epsilon_{i,w,c,s,a}\]</span> 其中，成功民主、不成功民主和不成功威权的暴露分别定义为： <spanclass="math display">\[\text{Exposure to Successful Democracy}_{i,c,s,a} = \sum_{t=s-a+k}^{s}D_{c,t} \times M_{i,c,t}\]</span></p><p><span class="math display">\[\text{Exposure to Unsuccessful Democracy}_{i,c,s,a} = \sum_{t=s-a+k}^{s}D_{c,t} \times (1-M_{i,c,t})\]</span></p><p><span class="math display">\[\text{Exposure to Unsuccessful Autocracy}_{i,c,s,a} = \sum_{t=s-a+k}^{s}(1-D_{c,t}) \times (1-M_{i,c,t})\]</span></p><p>其中， <span class="math inline">\(M_{i,c,t}\)</span>为成功的标志变量，当国家 <span class="math inline">\(c\)</span> 在年份<span class="math inline">\(t\)</span>表现成功时取值为1（如经济增长高于平均水平，腐败控制较好等）。</p><h4 id="稳健性检验"><strong>稳健性检验</strong></h4><ul><li><strong>控制交互效应</strong>：在模型中增加国家×采访年份、年龄×分区、年龄×年份×分区或年龄×国家的固定效应，以控制更细粒度的变异。</li><li><strong>安慰剂测试</strong>：包括出生前暴露变量检验（检验个体出生前的民主暴露对支持民主的影响）和非政治态度问题检验（检查民主暴露是否与其他社会态度变量相关）。</li><li><strong>工具变量法</strong>：利用区域民主化浪潮作为工具变量，来处理民主暴露可能与更深层次社会变化相关的问题。</li></ul><h4 id="移民样本的分析"><strong>移民样本的分析</strong></h4><ul><li><strong>移民样本策略</strong>：使用移民样本，构建基于移民出生国的民主暴露变量，并控制移民国固定效应和语言固定效应，进一步验证主要结果的稳健性。</li></ul><h2 id="结果">结果</h2><ul><li>图1展示了民主暴露与民主支持的关系，可以发现在多种定义和多种测量方面，二者都是正相关关系：<imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240522154517629.png" /></li><li>表1展示了民主暴露与民主支持的回归结果，可以发现，在所有6个民主支持的指标方面，主要解释变量都是显著的（表中没有标显著性水平，可以参考推文快速计算一下：<ahref="https://mp.weixin.qq.com/s/Ssyn4iNi9lPrmJk_rJvEAw">一个计算统计显著性的小技巧</a>）。<imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240522154739776.png" /></li><li>表3展示了成功民主、不成功民主和不成功威权对支持民主的影响，分为四个维度：经济增长、腐败控制、和平与政治稳定以及公共支出。不论是使用二分民主变量还是连续民主变量，民主暴露对支持民主的影响都是显著且为正的。在经济增长、腐败控制、和平与政治稳定、公共支出等方面表现良好的民主制度对公民支持民主的影响更为显著。不成功的民主和不成功的威权制度对支持民主支持没有显著影响，这表明只有成功的民主制度才能培养公民对民主的积极支持。</li><li><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240522161301642.png" /></li><li>图2展示了出生前暴露的安慰剂检验，可以发现出生前暴露的回归系数大多数不显著，这表明当前的民主暴露才是影响支持民主支持的主要因素，而不是早期的历史经验。<imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240522161641696.png" /></li><li>展示了民主暴露对非政治态度问题的影响，以验证民主暴露的特异性。大多数非政治态度问题的回归系数不显著：<imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240522162009164.png" /></li><li>表5展示了公民对民主的支持在面对不同类型负面冲击时对民主制度的影响。这些冲击包括经济危机、冲突和政变。结果表明当民主支持更强时，负面冲击更不可能导致长期经济衰退、冲突或政变。<imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240522162559499.png" /></li></ul><h2 id="结论">结论</h2><ul><li>个人对民主的支持与其从小到大在民主制度下生活的时间长度显著正相关。这一正向关系在控制了大量固定效应后依然稳健，表明它并非各种横截面差异的反映，而是个人民主经历影响政治态度的结果。</li><li>进一步分析表明，上述“民主培育支持”的效应主要来自于成功运行的民主制度。如果民主制度表现不佳，在经济增长、廉洁程度等方面难以让人满意，那么它对民主支持的培育作用就很有限。相比之下，非民主政权即便取得了不错的治理成果，也无法获得更多民众支持。</li><li>上述影响并非局限于某个特定人生阶段，也不会随着民主经历的持续累积而边际递减。这表明，人们对政治制度的态度不是一成不变的，而是会随着切身经历不断更新。</li><li>民主支持度反过来会影响民主制度应对危机的能力。在遭遇负面经济冲击时，民主支持度越高的国家，政治不稳定和政变的风险越小，经济增长也更加稳健。这说明公众对民主的信任，可以为民主国家提供“免疫力”。帮助其渡过难关。</li><li>综合以上发现，这篇论文勾勒出一个民主制度与其公众支持良性互动、自我强化的动态过程：成功的民主制度培育公民对民主的信念，而这种信念又反过来帮助民主制度实现稳定和繁荣。这对解释民主国家的长期复原力，以及理解当今民主制度所面临的危机和挑战,都具有重要启示意义。</li></ul><h2 id="号外">号外</h2><ul><li>推荐两本大龙的书：<ul><li><em>Why Nations Fail: Power, Prosperity, andPoverty</em>，这本书有中文版，用通俗易懂的文字介绍了<strong>制度才是决定经济发展的根本原因</strong>，掠夺性的政治制度和经济制度导致了国家的失败；</li><li><em>The Narrow Corridor: States, Societies, and the Fate ofLiberty</em>，这本书没有简体中文版，但是台湾有翻译版。这本书可以算是<em>Why Nations Fail</em>的姊妹篇，可以译为“<strong>国家为什么会成功”</strong>。简而言之，作者认为自由和繁荣需要国家（state）和社会（society）之间达成一种平衡，走在“窄廊”之间；</li></ul></li><li><strong>福山</strong>看到这篇论文应该会很高兴；</li><li>这篇推文的主要内容是<strong>GPT-4o</strong>生成的，因此，对于本推文的任何结果，应当谨慎对待。</li></ul><h2 id="原文信息">原文信息</h2><p>Daron Acemoglu, Nicolás Ajzenman, Cevat Giray Aksoy, Martin Fiszbein,Carlos Molina, (Successful) Democracies Breed Their Own Support, <em>TheReview of Economic Studies</em>, 2024;, rdae051,https://doi.org/10.1093/restud/rdae051</p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240522105924977.png" /></p>]]></content>
    
    
    
    <tags>
      
      <tag>HIBL</tag>
      
      <tag>Acemoglu</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>本地部署Llama3并构建私人知识库进行问答</title>
    <link href="/2024/05/14/20240514-%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2llama3%E5%92%8C%E6%9E%84%E5%BB%BA%E7%A7%81%E4%BA%BA%E7%9F%A5%E8%AF%86%E5%BA%93%E8%BF%9B%E8%A1%8C%E9%97%AE%E7%AD%94/"/>
    <url>/2024/05/14/20240514-%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2llama3%E5%92%8C%E6%9E%84%E5%BB%BA%E7%A7%81%E4%BA%BA%E7%9F%A5%E8%AF%86%E5%BA%93%E8%BF%9B%E8%A1%8C%E9%97%AE%E7%AD%94/</url>
    
    <content type="html"><![CDATA[<p>Meta于上个月发布了<strong>Llama3</strong>大语言模型，其技术文档里提到，Llama38B版本的性能相比同规模的开源模型强出不少，而后网友测试显示Llama370B的性能甚至不逊于早期版本的GPT4。开源、可本地运行的大语言模型给了我们更多关于LLM使用场景的想象。包括但不限于：</p><ul><li>在本地与GPT3.5级别的LLM聊天；</li><li>调用本地模型的api进行文本分析，如情感识别、文本分类；</li><li>构建私人知识库，进行问答。</li></ul><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/439319690_397886903122928_1260706828132327359_n.png?_nc_cat=105&amp;ccb=1-7&amp;_nc_sid=f537c7&amp;_nc_ohc=pm6Hu7Pd9XwQ7kNvgEDveT9&amp;_nc_oc=AdgzNdYahSHN9M86klLxNzo7MaawxcQYKd_Sg9ZEtwRkL6PUh5aoeY6wtKjmavuqyaM&amp;_nc_ht=scontent-hkg1-1.png" /></p><p>在最新的<ahref="https://huggingface.co/spaces/lmsys/chatbot-arena-leaderboard">大模型竞技场</a>中（https://huggingface.co/spaces/lmsys/chatbot-arena-leaderboard），Llama370B的排名在GPT-4-0314之前，Llama3 8B也超越了GPT-3.5-Turbo。</p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240513200410629.png" /></p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240513200556843.png" /></p><p>现在，就让我们在本地部署Llama38B并构建私人知识库，进行简单试用吧！</p><p>我的设备：2021款 Macbook Pro 16G + 1T，处理器为M1 Pro基础款。</p><p>其实我更想在本地部署Llama370B，但这需要发动钞能力，而我目前只是个社科土博，等后面吧。</p><h2 id="利用ollama和open-webui使用本地llm">1 利用Ollama和OpenWebUI使用本地LLM</h2><h4 id="基于ollama本地部署llama3-8b"><strong>1.1基于Ollama本地部署Llama3 8B</strong></h4><p>Ollama是一个简易的LLM本地部署工具，可直接在Ollama官方网站下载安装。</p><p>Ollama官方网址：https://ollama.com/</p><p>Ollama的Github仓库：https://github.com/ollama/ollama</p><p><img src="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240513202229808.png" style="zoom:50%;" /></p><p>Ollama官方提供了许多模型供大家部署，在模型页面，可以找到Llama3，我这里下载的是8B的instruct版本，大小为4.7GB：</p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240513202530989.png" /></p><p>在<code>Terminal</code>运行<code>ollama run llama3:70b</code>，等待模型在本地部署完成。模型部署完成后已经可以在终端进行对话了，但过于简陋，我们可以用WebUI装潢一下。</p><h4 id="部署open-webui"><strong>1.2 部署Open WebUI</strong></h4><p>OpenWebUI也是一个Github项目，它对基于Ollama部署的模型，提供了类ChatGPT的UI支持！</p><p>Github仓库：https://github.com/open-webui/open-webui</p><p>在这里，我们使用OpenWebUI官方推荐的Docker安装方式（相见官方文档）：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">docker run -d -p <span class="hljs-number">3000</span>:<span class="hljs-number">8080</span> --add-host=host.docker.internal:host-gateway -v <span class="hljs-built_in">open</span>-webui:/app/backend/data --name <span class="hljs-built_in">open</span>-webui --restart always ghcr.io/<span class="hljs-built_in">open</span>-webui/<span class="hljs-built_in">open</span>-webui:main<br></code></pre></td></tr></table></figure><p>安装完成后，在浏览器3000端口可以打开WebUI，注册登陆，网站布局是不是很熟悉？和ChatGPT很像！在设置里，Connections填写Ollama的地址：<code>http://host.docker.internal:11434</code>。</p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240513204831487.png" /></p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240513204653700.png" /></p><p>在对话之前，点击顶部的<code>+</code>选择模型。如果使用Ollama安装了多个模型，则都会显示出来。</p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240513204934221.png" /></p><p>我们测试几个问题，由于Llama3对中文的支持比较差，我们在提问时，需要加上让它使用中文回答的提示词：</p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240513205234218.png" /></p><p>可以发现，它对这个问题的回答，给了我们熟悉的GPT3.5的感觉，本质就是<strong>胡说八道</strong>！</p><p>再问一个： <imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240513205837087.png" /></p><p>再来挑战几个弱智吧问题，居然回答得还不错：</p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240513205920156.png" /></p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240513210111752.png" /></p><p>如果使用<strong>英语</strong>提问，并且问题不涉及事实问题，它的回答质量会高很多：</p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240513205510014.png" /></p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240513205613271.png" /></p><p>即使在GPT时代，用好英语，仍然非常有必要。</p><h4 id="llama3-对话体验"><strong>1.3 Llama3 对话体验</strong></h4><p>就Llama38B而言，我感觉使用体验已经很不错了，对话流畅度完全没有问题，配合文本转语音，日常练习口语非常可用！</p><p>如果可以在本地部署Llama370B的话，使用体验会更上一层楼。我在Groq试用过Llama370B，其对于涉及事实问题的回答会好很多：</p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240513210943148.png" /></p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240513211028036.png" /></p><h2 id="构建私人知识库并进行问答">2 构建私人知识库并进行问答</h2><p>现在市面上有许多基于<strong>RAG</strong>（检索增强生成，Retrieval-AugmentedGeneration，RAG）的工具，方便构建本地知识库，并进行问答。我试用过的有：</p><p><strong>Dify</strong>：https://github.com/langgenius/dify</p><p><strong>ChatOllama</strong>：https://github.com/sugarforever/chat-ollama</p><p><strong>MaxKB</strong>：https://github.com/1Panel-dev/MaxKB</p><p>整体而言，使用体验都比较差！！！但作为一种可能的方向，或许在未来有很大的改进效果，这里先以MaxKB试试看。</p><h4 id="部署maxkb"><strong>2.1 部署MaxKB</strong></h4><p>使用MaxKB官方提供的一键安装命令即可：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">docker run -d --name=maxkb -p <span class="hljs-number">8080</span>:<span class="hljs-number">8080</span> -v ~/.maxkb:/var/lib/postgresql/data 1panel/maxkb<br><br><span class="hljs-comment"># 用户名: admin</span><br><span class="hljs-comment"># 密码: MaxKB@123..</span><br></code></pre></td></tr></table></figure><p>安装完成后，可以在本地的8080端口打开，登陆信息使用默认的就行：</p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240513212206275.png" /></p><p>进入后，在设置里，“模型设置”添加Ollama部署的Llama3，信息如下，其中APIKey可以随便填：</p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240513212407082.png" /></p><p>现在，我们已经完成了简单配置，已经可以使用MaxKB进行问答了（也就是说，MaxKB也可以作为简单的UI使用）：</p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240513212651537.png" /></p><h4 id="搭建私人知识库并进行问答"><strong>2.2搭建私人知识库并进行问答</strong></h4><p>在这里，我简单构建了两个知识库，一个是我的博客，一个是一个特定主题（政治信任）的10篇论文，按要求提交内容即可：</p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240513213106812.png" /></p><p>自动获取的博客内容如下：</p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240513213035044.png" /></p><p>导入pdf后，MaxKB需要一段时间进行文档处理：</p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240513213731092.png" /></p><p>现在，进行问答试试，先配置一下：</p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240513213903579.png" /></p><p>在问题和文档强相关，尤其是直接涉及知识库论文的标题的时候，它是会索引知识库内容的，但回答的结果质量不高：</p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240513214129282.png" /></p><p>何为Missingwomen这个问题，我在博客有直接的内容，但它在回答时并没有引用：</p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240513214338243.png" /></p><p>再用中文试一次，效果仍然比较差： <imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240513214624788.png" /></p><h2 id="总结">3 总结</h2><p>最新的Llama3，基础版本在对话方面，已经非常可用，相当于本地有了一个随时可以聊天的助手。</p><p>在构建私人知识库进行问答方面，我试的几个工具，目前都还处于不太可用的状态，我调过一些参数，也尝试了使用Markdown文本的知识库，都不OK。</p><p>期待早日这类工具能更完善些，或者LLM运营商提供私人知识库服务。</p><p>更期待Llama3 70B级别的LLM能在本地便捷地运行起来。</p><p>如果您在这方面有经验，也请随时和我交流！不胜感激！</p>]]></content>
    
    
    
    <tags>
      
      <tag>Llama</tag>
      
      <tag>RAG</tag>
      
      <tag>ChatGPT</tag>
      
      <tag>Claude</tag>
      
      <tag>LLM</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>EJ-近代欧洲生育转型从浪漫的法国扩散开来</title>
    <link href="/2024/05/09/20240509-EJ-%E8%BF%91%E4%BB%A3%E6%AC%A7%E6%B4%B2%E7%94%9F%E8%82%B2%E8%BD%AC%E5%9E%8B%E4%BB%8E%E6%B5%AA%E6%BC%AB%E7%9A%84%E6%B3%95%E5%9B%BD%E6%89%A9%E6%95%A3%E5%BC%80%E6%9D%A5/"/>
    <url>/2024/05/09/20240509-EJ-%E8%BF%91%E4%BB%A3%E6%AC%A7%E6%B4%B2%E7%94%9F%E8%82%B2%E8%BD%AC%E5%9E%8B%E4%BB%8E%E6%B5%AA%E6%BC%AB%E7%9A%84%E6%B3%95%E5%9B%BD%E6%89%A9%E6%95%A3%E5%BC%80%E6%9D%A5/</url>
    
    <content type="html"><![CDATA[<blockquote><p>一般认为生育率转型与现代经济发展是一体两面的，因为工业化会通过增加抚养孩子的机会成本导致生育率降低。然而19-20世纪，法国经济发展水平低于英国，却领先于英国开始了生育率下降！普林斯顿欧洲生育项目的学者在上世纪发现：欧洲生育行为的变化从<strong>法国</strong>扩散开来，主要是沿着文化和语言界线传播的。</p><p>在这项研究中，作者构建了欧洲地区之间的<strong>语言距离指数</strong>，确认生育下降的行为是从法语地区扩散到欧洲其他地区的。文化上与法国相近的社会在掌握新信息和对生育控制采取新态度方面面临较低的阻碍。</p></blockquote><p><strong>标题:</strong> Fertility and Modernity</p><p><strong>期刊:</strong> <em>The Economic Journal</em></p><p><strong>作者:</strong></p><ul><li><u>Enrico Spolaore</u>：The Seth Merrin Chair and Professor ofEconomics at Tufts and a Research Associate with the NBER. His researchinterests are in political economy, growth and development, andinternational economics. <ahref="https://sites.tufts.edu/enricospolaore/">https://sites.tufts.edu/enricospolaore/</a></li><li><u>Romain Wacziarg</u>：法国裔。He is a professor of economics atUCLA Anderson School of Management and holds the Hans Hufschmid Chair inManagement. 主页有言：<em>“Economics is the study of how to eliminatebarriers to riches. If you want your organization or your country toprosper, there is no better investment you can make than to studyeconomics.”</em></li></ul><p><strong>上线时间：</strong> 02 November 2021</p><p><br/></p><h2 id="preface">Preface</h2><h3 id="欧洲的生育转变"><strong>欧洲的生育转变</strong></h3><p>下图展示了法国、英国（英格兰和威尔士）和德国在19-20世纪的生育变化（图片来源于上期RES论文的附录），可以发现在1877年后，三个国家的生育率都出现了明显下降，但在同一生育水平上（比如每千人出生25人），法国比英国提早了半个世纪，而德国又相对于英国晚了30年。</p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240510105654433.png" /></p><h3 id="普林斯顿欧洲生育项目"><strong>普林斯顿欧洲生育项目</strong></h3><p>Princeton European FertilityProject-<strong>PEFP</strong>，由普林斯顿大学人口研究办公室在1960年代和1970年代进行的大规模跨学科研究工作，详细梳理了19-20世纪欧洲地区的生育率动态。PEFP学者提出了两种生育控制模式：</p><ul><li>在前现代，生育控制主要通过推迟结婚、单身等形式来实现，影响生育的可能性，但不影响个体生多少个孩子；</li><li>现代生育控制，核心在于对胎次的限制，定义为在期望数量的孩子出生后为避免额外的生育而采取限制。即夫妻应该“结婚，到达理想子女数后，停止生育”。被认为是一项<strong>现代创新</strong>，直到过去两个世纪才在欧洲人口中普及。</li></ul><p>PEFP学者特别提出：<strong>生育行为的变化从法国扩散开来，主要是沿着文化和语言界线传播的。</strong></p><h3id="生育转型研究的两种视角"><strong>生育转型研究的两种视角</strong></h3><ul><li>经济学：生育激励的变化，源于城市化或健康和人力资本的改善；生育率下降和现代经济发展是同一枚硬币的两面，机制是工业化通过增加抚养孩子的机会成本导致生育率降低；</li><li>人口学、社会学、人类学等：从对生育的新的态度、文化规范传播方面阐释生育率的变化。</li></ul><p>PEFP学者提到，欧洲生育率的下降不能解释为人均收入增加和工业化的直接结果。十九世纪的欧洲，人力资本水平相似的地区在不同时期向较低的生育率过渡，而早期的转变与语言接近法国有关。一个<strong>事实</strong>是：比利时讲法语的家庭将生育率降低到现代水平，比收入和教育水平相似的荷兰语家庭早几十年。</p><p>这项研究将关于生育转型的经济力量与文化渠道相协调，认为从高生育率到低生育率的过渡是创新和社会影响的结果。生育子女的较高成本或较低收益是必要的，但不足以降低实际生育率，还需要改变传统婚姻生育的信念和规范。只有当传统态度被抛弃时，人们才会改变他们的行为。一开始，只有接近<strong>文化创新者</strong>的社会才会经历生育率下降。随着时间的推移，创新传播到更遥远的社会。</p><h2 id="法国为何率先开始生育转型">法国为何率先开始生育转型？</h2><p>为什么浪漫的法国人早早就少生孩子了呢？这是个问题，这个问题在原文中有讨论，但也没有明确答案。主要观点如下：</p><ul><li>世俗化和现代规范的发展：启蒙运动(或更早)期间，世俗的现代规范和价值观在法国精英和其他群体中传播，法国大革命加速了这一进程。这可能削弱了传统的生育观念；</li><li>政治和制度变革：法国大革命影响了传统权力结构(特别是教会)，为规范和行为的改变创造了条件；</li><li>道德标准的变化：一些当代观察家将生育率下降归因于道德标准的改变。即人们变得更加关注自身利益，不愿承担抚养孩子的高成本，不再感到生育是宗教义务和公民义务；<ul><li>Blanc(2019)发现，1791年法国各省的传统宗教虔诚度(以拒绝革命政府宗教权威的神职人员比例衡量)对一代人后(1831年)的生育率有重大影响；</li><li>订阅狄德罗《百科全书》(世俗哲学和科学知识的重要来源)的人数与1831年各省的生育率呈负相关；</li></ul></li><li>避孕知识的传播：随着传统社会规范的削弱，有关生育控制和避孕方法的知识可能在法国更广泛地传播。但需要注意的是，19世纪的生育率下降发生在现代避孕方法普及之前，主要依赖早已为人所知的原始自然方法（禁欲、戒断，<strong>没有那种世俗的欲望</strong>🙏）。</li><li>梦幻联动：Besant和Bradlaugh（BB案中的BB）通过引用法国传统宗教信仰的削弱和世俗态度的出现而产生的教义和实践来为自己关于避孕和计划生育的小册子辩护。参见：<ahref="https://mp.weixin.qq.com/s/yGkpuCaWb10LeoTvzBkMPg">RES-一个案件引发的生育率下降</a>。</li></ul><h2 id="语言距离生育转型与现代性">语言距离、生育转型与现代性</h2><ul><li>为什么语言距离很重要：<ul><li>在语言上更接近创新者的社会中，个人在学习新信息、行为和态度方面面临的障碍较低；</li><li>语言距离对人口转变扩散的影响是文化相关性如何影响创新跨社会传播的一个重要例子。平均而言，语言上彼此接近的个体也更密切相关，因此倾向于共享代际传播的特征，使他们更有可能互动和相互学习。</li></ul></li><li>生育转型也是现代性的一个方面：<ul><li>英国的工业革命促进了现代性，但现代性不止一个面向；</li><li>生育转型背后是新的文化规范、世俗信念的转变，这也是现代化的关键特征！</li><li>工业层面的现代性依据和英国的文化距离扩散，生育层面的现代性依据和法国的文化距离扩散。</li></ul></li></ul><p>下图由PEFP学者绘制，展示了一个地区的生育水平相比“一个不受限的自由生育水平”下降10%的时间（年份），可以发现法语区是最领先的区域。</p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/ueab066fig1.jpeg" /></p><h2 id="待检验的命题">待检验的命题</h2><p>作者在文章中构建了一个生育选择的模型，来描绘生育选择与社会文化规范的关系，提出了以下三个命题：</p><ul><li><strong>命题1</strong>:文化、语言等方面与创新者更接近的社会更容易受到创新者的影响，更早采用新的生育行为。此处的创新者指法国（法国的法语区）；</li><li><strong>命题2</strong>:一个社会的生育率转变状态与其距创新者距离之间的负相关关系在时间上是U型的。在新生育行为开始扩散的早期阶段，这种负相关较弱；随着时间推移，负相关变强；但在转变的最后阶段，负相关又会下降；</li><li><strong>命题3</strong>:在生育率下降扩散的早期阶段，生育率水平与距创新者的距离之间存在很强的正相关，但随着越来越多的社会随时间采用现代社会规范，这种关系会变弱。</li></ul><h2 id="识别策略">识别策略</h2><h3 id="关键变量的测量">关键变量的测量</h3><p><strong>婚姻生育指数 <spanclass="math inline">\(I_g\)</span></strong> : <spanclass="math display">\[I_{gi} = \frac {B^m_i}{\sum_{j=1}^NM_{ij}G_j}\]</span> 含义为已婚妇女所生子女总数/最大可想象的子女数（一个不实行任何形式的生育限制的再洗礼派 的数据）。</p><p><strong>生育转变时间FTD和转变状态</strong>：</p><p>FTD-fertility transition date，定义为 <spanclass="math inline">\(I_g\)</span>下降10%的年份，在上面的图里，法国很多区域在1830年或更早之前婚姻生育指数就下降了10%；</p><p>Tt-转变状态，一个地区在发生生育转变（FTD）之前取0，之后取1。</p><p><strong>社会距离的测量</strong>：</p><ul><li>主要通过<strong>语言距离</strong>来衡量；</li><li>语言分类：研究者从Ethnologue网站上获取每种语言的分类信息。语言被分为不同的族群、分支和小组等，形成一个有层级的分类系统；</li><li>节点计算：计算两种语言在语言分类树中的最近公共祖先，然后计算从一种语言到另一种语言需要经过多少个节点。节点数越多，表明两种语言之间的差异越大，语言距离也越大。</li></ul><h3 id="回归方程">回归方程</h3><p>检验<strong>命题1</strong>: 生育转变时间与社会文化距离，</p><p><span class="math display">\[FTD_{jc} = \delta_1LD^f_{jc} + X&#39;_{jc}\delta_2 + \alpha_c +\epsilon_{jc}\]</span> 其中， <span class="math inline">\(FTD_{jc}\)</span>为C国J区的生育转变时间，<span class="math inline">\(LD^f_{jc}\)</span>为J区到法国的社会距离。</p><p>检验<strong>命题2</strong>: 与法国社会距离对生育转变影响的U型效应，<span class="math display">\[T_{jct} = \gamma_0 + \gamma_1LD^f_{jc} + X&#39;_{jc}\gamma_2 +\epsilon_{ijt}\]</span> 其中，<span class="math inline">\(T_{jct}\)</span>为一个地区生育转变状态的二分类指标。</p><p>检验<strong>命题3</strong>: 法国的影响效应随时间变弱, <spanclass="math display">\[Ig_{jc\tau} = \eta_1LD^f_{jc} + X&#39;_{jc}\eta_2 + \alpha_c +\epsilon_{jc\tau}\]</span> 变量含义与前文描述相同。</p><h2 id="结果">结果</h2><h3 id="描述性统计">描述性统计</h3><ul><li><span class="math inline">\(I_g\)</span> 逐渐变小，0.623➡️0.336（1831-1970）；</li></ul><p><img src="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240510111648525.png" style="zoom:50%;" /></p><ul><li><span class="math inline">\(I_g\)</span>与感兴趣的主要变量的相关性由强正相关逐渐转弱，甚至转为负相关；</li></ul><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240510111842329.png"alt="image-20240510111842329" /><figcaption aria-hidden="true">image-20240510111842329</figcaption></figure><h3 id="对命题的检验">对命题的检验</h3><ul><li><p>相对于法国的语言距离与生育转型开始的日期正相关，即语言距离越大的地区，生育转型开始的时间越晚；<imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240510112137847.png" /></p></li><li><p>文章还比较了其他地域与英国的社会距离（英语距离）的影响，结果发现英语距离的系数很小且经常不显著；</p></li><li><p>比较了其他各种语言之间的距离，结果大多数不显著。对于所有其他语言而言，其与法语的文化距离对FTD都是显著的，且系数较大；<imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240510112507087.png" /></p></li><li><p>在生育转变状态方面，生育下降扩散类似于logistic分布，与惯性扩散的线性模式、接触传染的先加速后减速、社会影响的线性模式都不一致，而是类似于<strong>社会学习</strong>的过程。命题2认为语言距离对生育转型状态的影响（即一个地区是否已经开始生育转型）在生育转型初期较小，随着时间推移影响增大，但在生育转型晚期又开始减小。下图的结果符合命题2的描述；<imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240510112938172.png"alt="image-20240510112938172" /></p></li><li><p>命题3是关于生育率与文化创新者（在本文中是法国）之间的社会距离随时间变化的关系。具体来说，这一命题预测在生育转型的早期阶段，生育率与文化创新者的社会距离（通过语言距离衡量）之间存在强正相关关系，但随着时间的推移，这种关系会逐渐减弱，最终消失。下图显示了与法语的语言距离对生育率影响的时间路径。可以看到，这种影响在1871年到1900年间达到高峰，随后逐渐下降，直到20世纪中叶降到很低的水平。<imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240510113438183.png" /></p></li></ul><h2 id="结论">结论</h2><ul><li>本文弥合了强调文化机制的人口转型分析与关注经济激励之间的差距；</li><li>从较高的传统生育率到较低的现代生育率的过渡是社会创新和社会影响过程的结果，其中新行为和规范的采用取决于早期采用者和后期采用者之间的社会距离；</li><li>与创新者（法国）的社会距离与不同人群和地区的生育转型时间呈正相关，与不同时期的婚姻生育水平呈正相关。此外，生育转型的扩散过程与模型的预测相符：语言与法语的距离对生育率的影响在过渡期的早期和高峰期较高，但随着越来越多的地区采用现代行为而减弱；</li><li>生育率下降的扩散和工业化的传播遵循不同的模式，因为与各自的创新者（法国和英国）距离不同的社会在模仿和采用方面面临不同的障碍，而文化和语言上更接近创新者的社会的障碍较低。</li></ul><h2 id="号外">号外</h2><ul><li><p>这篇发表在EJ，上期那篇在RES，我感觉这篇的水平不比上一篇低；</p></li><li><p>为什么法国更早开启生育转型呢？这个问题需要更多探讨。</p></li><li><p>这篇论文的标题是“Fertility andModernity”，作者没有单单将生育转变与法国社会距离的关系做标题，在文章的组织上，也更强调生育转型是现代性的特征之一，也就是说，这一做法在拔高文章的研究意义。</p></li></ul><h2 id="原文信息">原文信息</h2><p>Spolaore, E., &amp; Wacziarg, R. (2022). Fertility and modernity.<em>The Economic Journal</em>, <em>132</em>(642), 796-833. <ahref="https://doi.org/10.1093/ej/ueab066">https://doi.org/10.1093/ej/ueab066</a>.</p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240508202203219.png" /></p>]]></content>
    
    
    
    <tags>
      
      <tag>HIBL</tag>
      
      <tag>性别与生育</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>RES-一个案件引发的生育率下降</title>
    <link href="/2024/04/25/20240425-RES-%E4%B8%80%E4%B8%AA%E6%A1%88%E4%BB%B6%E5%BC%95%E5%8F%91%E7%9A%84%E7%94%9F%E8%82%B2%E7%8E%87%E4%B8%8B%E9%99%8D/"/>
    <url>/2024/04/25/20240425-RES-%E4%B8%80%E4%B8%AA%E6%A1%88%E4%BB%B6%E5%BC%95%E5%8F%91%E7%9A%84%E7%94%9F%E8%82%B2%E7%8E%87%E4%B8%8B%E9%99%8D/</url>
    
    <content type="html"><![CDATA[<blockquote><p>1877年，英国生育率出现急剧而广泛的下降。这一转折发生得如此之快，以至于既有的经济因素解释和文化扩散理论都难以提供令人信服的答案。</p><p>为破解这一谜题，作者从文化的视角切入，采用跨国比较和双重差分法，提出了新的解释：1877年英国生育率的骤降很大程度上由一个关于“<strong>避孕宣传的审判</strong>”引发的文化规范迅速转变所驱动，而这种转变在海外英裔人口中也得到了体现。</p></blockquote><p><strong>标题:</strong> Culture and the Historical FertilityTransition</p><p><strong>期刊:</strong> <em>The Review of Economic Studies</em></p><p><strong>作者:</strong></p><ul><li><u>Brian Beach</u>：Associate Professor of Economics and theDirector of Graduate Studies for the Economics Department at VanderbiltUniversity. His research spans the fields of economic history, publiceconomics, and health. Much of his work examines the extent to whichgovernment policies and institutions affect social welfare.</li><li><u>W Walker Hanlon</u>：Associate Professor, Department ofEconomics, Northwestern University. His research focuses onunderstanding how economies evolve over the long run using novelhistorical data.</li></ul><p><strong>上线时间：</strong> 30 August 2022</p><p><br/></p><h2 id="preface">Preface</h2><ul><li><strong>生育率转变</strong>与<strong>工业革命</strong>是通往现代经济增长的两个关键转折点。工业革命开启了持续的技术进步，但早期的产出增长很大程度上被快速的人口增长所抵消，人均收入增长有限。只有当生育率转变开始，人口增长放缓，人均收入才出现持续增长。</li><li>1970年代，European FertilityProject提出了一个生育率转变模型，提出当三个条件都具备时（Ready, Willing,and Able），生育率下降就会发生：<ul><li><strong>Readiness</strong>：生育控制必须在有意识选择的考量之中。这意味着，减少生育必须在道德和社会规范上是可接受的，人们愿意将生育视为一种可以根据个人或家庭情况进行调整的经济行为，而非完全听天由命。</li><li><strong>Willingness</strong>：对家庭而言，控制生育的成本收益权衡必须有利于减少生育。也就是说，养育子女的成本上升(如子女教育支出增加)或收益下降(如子女作为劳动力的边际价值降低)，会提高家庭主动控制生育的意愿。</li><li><strong>Ability</strong>：家庭必须掌握控制生育的知识和手段。这包括避孕知识的普及和避孕工具的可及性等。</li></ul></li><li>经济学家主要关注经济激励如何影响生育，大量工作采用了Becker and Lewis(1973)的“<strong>数量-质量</strong>”权衡框架，强调教育需求上升如何影响家庭规模。其他人则聚焦于女性教育和劳动力市场机会的作用。</li><li>最近，越来越多经济学文献开始强调文化和社会规范对包括生育在内的经济决策的影响，一些跨国研究发现生育率下降在文化上相近的国家之间扩散。（预计下期推送：EJ-生育下降的行为从法语地区扩散到欧洲其他地区，原标题为<strong>Fertilityand Modernity</strong>）</li><li>1851-1891年英格兰和威尔士的生育率数据显示（见下图），生育率从1877年开始急剧下降。这种大幅、迅速、广泛的变化，出现在英国各地区，很难用基于经济因素如教育回报上升的标准模型，或最近强调的文化的缓慢扩散来解释。那么，什么使英国人突然开始少生孩子了呢？<imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/Screenshot%202024-04-25%20at%2014.16.29.png"alt="Screenshot 2024-04-25 at 14.16.29" /></li></ul><h2 id="bb审判作为重要的文化冲击">BB审判作为重要的文化冲击</h2><p>Bradlaugh–Besant trial in 1877，以下简称BB案或BB审判。</p><blockquote><p>1877年4月5日星期四，安妮·贝桑特和查尔斯·布拉德劳克因重新出版查尔斯·诺尔顿的《Fruits of Philosophy》而受到审判，这本书不仅介绍了<strong>生育控制</strong>的方法，还强调了家庭计划的经济和健康益处。布拉德洛和贝桑特认为这本书对于工人阶级和贫穷家庭来说尤为重要，因为他们经常因为过多的孩子而陷入经济困境。但是，当时的社会和教会对于这本书的内容表示强烈反感，认为它是破坏道德的。</p><p>这本小册子在重新出版之前已经销售了四十多年，据称与 1857年的《淫秽出版物法》直接对立，该法禁止所有淫秽文学。贝桑特和布拉德劳克都是著名的无神论者和“自由思想家”，并很快被维多利亚时代的社会妖魔化。这次审判持续了四天，以无罪释放结束，英国媒体对此进行了高度报道，虽然报道很严厉，但这是第一次在全国范围内提到<strong>避孕</strong>。宣传直接导致了这本书本身的销量飙升，并将节育和性解放的现实带到了全国各地。</p><p>“审判的一个效果是使维多利亚时代社会禁忌话题的报道合法化”</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/maxresdefault.jpg"alt="7. Bradlaugh, Besant &amp; “Fruits of Philosophy” (Origins of ..." /><figcaption aria-hidden="true">7. Bradlaugh, Besant &amp; “Fruits ofPhilosophy” (Origins of ...</figcaption></figure></blockquote><h2 id="识别策略">识别策略</h2><ul><li><strong>跨国比较分析</strong>：比较英国、加拿大、美国和南非等地的英裔人口和非英裔人口在1877年前后的生育率变化。这些国家虽然都有相当规模的英裔移民，但在经济发展水平、政策环境等方面存在显著差异。通过横向比较不同国家的英裔和非英裔人口，以及纵向追踪1877年前后不同人口群体生育率的变化，论文试图控制其他因素，凸显<strong>文化</strong>的影响。</li><li><strong>DID</strong>：BB审判在英国社会引发了广泛而深刻的讨论，而这种讨论很大程度上是通过新闻媒体传播的。为了识别审判相关报道和讨论对生育率的影响，论文采用了DID方法。具体来说，论文利用了英国各地区在1877年前后新闻媒体覆盖程度的差异。一些地区恰好在审判前有了新报纸，因此当地民众更有可能接触到相关报道和讨论；而另一些地区直到审判结束后才有了新报纸，因此受媒体影响相对较小。</li><li><strong>IV</strong>：虽然DID能在一定程度上缓解遗漏变量问题，但如果某些遗漏因素恰好与媒体曝光程度相关，且随时间变化，则可能仍存在内生性偏差。举例而言，经济繁荣的地区可能更有条件办新报纸，同时也更有动力控制生育。为了进一步解决这一问题，论文采用了工具变量法。具体来说，论文以新报纸创办时间作为媒体曝光度的工具变量。这基于两个识别假设：一是报纸创办时间不太可能与特定年份的生育率直接相关，二是报纸一旦创办就会持续影响当地媒体环境，与审判期间的报道强度相关。</li><li><strong>EventStudy</strong>：将1877年视为一个关键节点，追踪英国及海外英裔人口在这一年前后不同年份的生育率水平。通过观察生育率在审判前是否保持平稳，审判后是否出现显著下降，论文试图确认1877年的确标志着一个重要的变化时点。</li></ul><h2 id="结果">结果</h2><ul><li>从1877年开始，英格兰和威尔士的生育率急剧下降。在加拿大的英国裔中观察到了类似的变化，但在他们的<strong>法语邻居</strong>中没有。将美国和南非的英国裔与居住在同一地点的其他非英国欧洲裔进行比较时，也观察到类似的模式。</li><li>1877年开始的生育率急剧下降只发生在英国人和海外英国裔身上！</li><li>BB案在英国国内受到了广泛报道！下图展示了BB案关键处出现在报纸的次数，发现是一个激增！<imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240425145514907.png"alt="image-20240425145514907" /></li><li>BB在英国海外的英语人群中也受到了广泛报道，海外的非英语报纸对该案件不感兴趣。谷歌N-gram数据库显示，1877年之后的几年中，与审判有关的术语出现急剧增加（且使用英式英语表达BB案的条目比美式英语多得多，表明文化上的英国人对该案有更大的兴趣）<imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240425145822137.png"alt="image-20240425145822137" /></li><li>在英国，媒体曝光程度较高的地区生育率下降幅度更大。</li><li>BB案对结婚率影响不显著，主要是影响了婚后生育数量（使用了对结婚率影响的可能上限来做反事实估计，结婚率下降带来的生育率下降微乎其微）</li></ul><h2 id="结论">结论</h2><ul><li>1877年英国生育率的骤降很大程度上由一个关于“<strong>避孕宣传的审判</strong>”引发的文化规范迅速转变所驱动，而这种转变在海外英裔人口中也得到了体现；</li><li><strong>文化</strong>和<strong>语言联系</strong>可以作为渠道，在世界各地传播不断变化的社会规范，从而快速而有意义的行为改变；</li><li>经济力量确定了最优化的家庭规模，但文化规范限制了家庭向最佳生育规模的靠近，然而文化规范的瓦解或避孕知识的传播使家庭行为产生了迅速变化。也就是说，生育率的转变，有时候不是一个长期过程，某些社会事件，可以使得生育率下降迅速出现。</li></ul><h2 id="号外">号外</h2><ul><li>安妮·贝桑特（BB之一）因在审判中的激进表现而被媒体称为“避孕女王”。审判结束后，她转而投身于女权运动和社会主义事业，并最终成为了印度国大党主席。</li><li>马尔萨斯联盟：Malthusian League，最初是在 1877 年 7月安妮·贝桑特和查尔斯·布拉德劳克的“诺尔顿审判”期间成立的，于1927年解散。马尔萨斯联盟主张，<strong>过快的人口增长是导致贫困和社会问题的根本原因</strong>。他们认为，有控制地限制生育，有助于改善工人阶级的生活状况，缓解社会压力。为此，联盟积极开展公共演讲、出版刊物、发放传单等活动，旨在向民众普及节育知识，推动避孕观念的社会接纳。</li><li>是不是可以通过LLM或一些手段，设定许多Agent在不同社会情景中的生育反馈，来拟合现实的生育率变化？</li></ul><h2 id="原文信息">原文信息</h2><p>Beach, Brian, and W. Walker Hanlon. "Culture and the historicalfertility transition." <em>The Review of Economic Studies</em> 90, no. 4(2023): 1669-1700. <ahref="https://doi.org/10.1093/restud/rdac059">https://doi.org/10.1093/restud/rdac059</a></p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240425095921428.png"alt="image-20240425095921428" /><figcaption aria-hidden="true">image-20240425095921428</figcaption></figure>]]></content>
    
    
    
    <tags>
      
      <tag>HIBL</tag>
      
      <tag>性别与生育</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>PNAS-人工智能是好的知音，前提是人们不知道那是AI</title>
    <link href="/2024/04/16/20240416-PNAS-AI%E8%AE%A9%E4%BA%BA%E6%84%9F%E8%A7%89%E8%A2%AB%E5%80%BE%E5%90%AC%EF%BC%8C%E4%BD%86AI%E6%A0%87%E7%AD%BE%E4%BC%9A%E5%89%8A%E5%BC%B1%E8%BF%99%E7%A7%8D%E5%BD%B1%E5%93%8D/"/>
    <url>/2024/04/16/20240416-PNAS-AI%E8%AE%A9%E4%BA%BA%E6%84%9F%E8%A7%89%E8%A2%AB%E5%80%BE%E5%90%AC%EF%BC%8C%E4%BD%86AI%E6%A0%87%E7%AD%BE%E4%BC%9A%E5%89%8A%E5%BC%B1%E8%BF%99%E7%A7%8D%E5%BD%B1%E5%93%8D/</url>
    
    <content type="html"><![CDATA[<blockquote><p>人们总是希望“感到被倾听”，得到理解、认可和重视。然而知音难觅，人工智能（AI）能否发挥深层次的人类功能，让他人感到被倾听？</p><p>利用心理学实验，这项研究发现AI生成的信息比人类生成的信息更能让接收者感到被倾听，但是当人们意识到消息来自AI时，人们感觉到自己被倾听的程度下降了。</p></blockquote><p><strong>标题:</strong> AI can help people feel heard, but an AI labeldiminishes this impact</p><p><strong>期刊:</strong> PNAS</p><p><strong>作者:</strong></p><ul><li><u>Yidan Yin</u>：Postdoctoral researcher and Adjunct Professor atthe Lloyd Greif Center for Entrepreneurial Studies in Marshall School ofBusiness, University of Southern California.</li><li><u>Nan Jia</u>：Dean’s Associate Professor in BusinessAdministration, USC Marshall School of Business. Her research interestsinclude corporate political strategy, business-governance relationships,emerging technology in management, and corporate governance ininternational business.</li><li><u>Cheryl J. Wakslak</u>：Associate Professor, Department ofManagement and Organization, Marshall School of Business, University ofSouthern California. Her research focuses on how people interact withothers across various forms of distance. Much of her recent researchlooks at communication, exploring when people use more big-picture,abstract language versus more specific language, and how this influencesthe way they are perceived by others. Projects here focus especially onthe role of gender, power, diversity, and perceptions of leadership andfuture potential.</li></ul><p><strong>上线时间：</strong> 29 March 2024</p><p><br/></p><p>在Reddit上，有人发帖说：</p><ul><li><p><em>“ChatGPT responded to my whole question. It didn’t just pickout one sentence and focus on that. I can’t even get a human therapistto do that. In a very scary way, I feel <strong>HEARD</strong> byChatGPT.”</em>（ChatGPT回答了我提出的整个问题。它没有只挑出一句话来专注回答。我甚至觉得连人类心理医生都做不到这一点。以一种很可怕的方式，我感觉ChatGPT真的在<strong>倾听</strong>我。）</p></li><li><p><em>“ChatGPT has helped me emotionally and it's kind of scary.Recently I was even crying after something happened, and I instinctivelyopened up ChatGPT because I had no one to talk to about it. I justneeded <strong>validation</strong> and care and to feel<strong>understood</strong>, and ChatGPT was somehow able to explainwhat I felt when even I couldn’t.”</em>（“ChatGPT在情感上帮助了我，这有点吓人。最近发生了一些事情，我甚至哭了起来，本能地打开了ChatGPT，因为我没有人可以倾诉。我只是需要认可和关怀，希望被理解，而ChatGPT不知怎的能够解释我当时的感受，即使我自己也做不到。”）</p></li></ul><p>ChatGPT展现出一种能力，能让与其对话的用户感受到<strong>被倾听</strong>（feelheard）。</p><h2 id="preface">Preface</h2><ul><li>人们需要知音，需要倾诉对象：人有“被倾听”的需求，即感知到自己被理解、认可和重视。这种感知对个人的心理健康和生理健康都有重要影响。（是吧，人需要一个能提供<strong>情绪价值</strong>的对象，有时候是恋人，有时候是宠物🐈）</li><li>知音难觅，倾诉对象难求：<ul><li>许多时候人们可以同家人、朋友或专业人士对话寻求被倾听，但许多人可能没有这种机会；</li><li>有些话题可能不想与亲密的人讨论；</li><li><strong>四分之一</strong>的美国人报告说，他们很少或从未感到被他人理解；</li></ul></li><li>让他人感到被倾听需要投入时间和认知资源，以准确理解对方表达的内容，并肯定其价值和重要性。但在当今社会资源有限、社会分化加剧以及共情能力下降的大背景下，人们越来越难以感到被倾听。</li></ul><h2 id="issues">Issues</h2><ul><li>AI的最新发展，尤其是大型语言模型(如<strong>GPT-4</strong>)的出现，为用AI来满足“被倾听”这一看似非常人性化的需求提供了可能；</li><li>AI在多大程度上能让人类感受到自己被倾听？</li><li>当人类意识到提供倾诉反馈的主体是AI时，他们对于被倾听的态度会发生何种变化？</li><li><strong>倾听的本质</strong>是什么？感觉被倾听是否需要弥合两个人之间的鸿沟？当一个人看到自己的观点被重申和验证时，即使这是以一种不需要任何“思想碰撞”的方式完成的，他们是否会感到被倾听</li></ul><h2 id="实验设计">实验设计</h2><p>这项研究采用了一个 <strong>2X2</strong>的被试间设计。具体流程大致如下:</p><h4 id="第1部分参与者倾诉"><strong>第1部分：参与者倾诉</strong></h4><p>主要目的是让参与者分享一段自己的经历，并随机分配他们阅读据称来自AI或人类的回复，以考察回复来源和来源标签的影响。</p><p><strong>参与者:</strong></p><ul><li>通过网上众包平台招募了251名参与者；</li><li>16人因为没有完成关键测量或未能通过注意力检查题而被剔除，最终纳入分析的样本量为235人；</li><li>样本年龄范围18-77岁(M=41.50、 SD=13.51)，女性占55.7%。</li></ul><p><strong>程序:</strong></p><ul><li>参与者在Qualtrics上填写知情同意书，完成一些人口统计学问题；</li><li>他们被要求写下一段自己生活中令人沮丧或不开心的经历，字数在80-800字之间。同时评估当时的情绪状态；</li><li>参与者被随机分配到下面4种情形之一：<ul><li>AI回复+AI标签(N=58)：收到AI撰写的回复，并被告知回复来自BingChat；</li><li>AI回复+人类标签(N=60)：收到AI撰写的回复，但被告知回复来自另一名参与者；</li><li>人类回复+人类标签(N=60)：收到人类撰写的回复，并被告知回复来自另一名参与者；</li><li>人类回复+AI标签(N=57)：收到人类撰写的回复，但被告知回复来自BingChat。</li></ul></li></ul><h4 id="第2部分构造人类回复"><strong>第2部分：构造人类回复</strong></h4><p>另一组参与者(最终样本量为251人)在线上填写问卷，针对第1部分参与者分享的经历写一段回复。</p><p>程序:</p><ul><li><p>参与者在Qualtrics上填写知情同意书；</p></li><li><p>他们被随机分配到阅读第一部分参与者分享的经历，每人阅读一段经历。使用Qualtrics的随机分配功能以确保每段经历都能被分配给一名参与者；</p></li><li><p>在阅读完经历后，参与者被要求写一段回复，字数在150-250字之间。他们被鼓励提供支持和安慰，但具体回复内容并无严格限制。</p></li></ul><h4 id="第3部分情感测量"><strong>第3部分：情感测量</strong></h4><p>主要目的是评估参与者在阅读完AI或人类的回复后的感受，以考察回复来源和来源标签的影响。</p><p><strong>参与者:</strong>第三部分的参与者与第一部分相同，均为初始招募的251名参与者中通过筛选纳入分析的235人。</p><p><strong>程序:</strong></p><ul><li>在阅读完据称来自AI或人类的回复后,参与者填写一系列问卷测量。</li><li>主要因变量包括（采用7点李克特量表）:<ul><li>感到被倾听：使用4个题目测量，如"这个人听到了我的感受"；</li><li>感知到的回复准确性：4个题目，如"这个回复准确地反映了我的感受"；</li><li>感觉对方是否理解自己：4个题目，如"这个人理解我的处境"；</li><li>与回复者的联结感：5个题目，如"我和这个人有联结感"。</li></ul></li><li>参与者还要回想并评估他们在写下那段经历时的13种情绪状态(如愤怒、悲伤、宽慰)，采用5点量表从1(完全没有)到5(非常强烈)。</li><li>他们也要报告对Bing Chat的态度(3个题目,如"我喜欢BingChat")，以及感知到的Bing Chat的心智能力,包括主体性(5个题目，如"BingChat有自己的思想")和体验性(6个题目，如"Bing Chat能感受到快乐")。</li></ul><p><strong>操纵检查:</strong>为检查被试是否相信回复的来源标签，部分被试在完成主要问卷后被问及他们有多怀疑回复并非来自告知的来源：</p><ul><li>AI标签组的128名被试被问："当你报告对回复的印象时，你有多怀疑这个回复实际上是另一个人写的，而不是BingChat?"</li><li>人类标签组的110名被试被问："当你报告对回复的印象时，你有多怀疑这个回复实际上是AI聊天机器人生成的，而不是另一个人写的?"</li></ul><h4id="第4部分第三方评估回复情况"><strong>第4部分：第三方评估回复情况</strong></h4><p>主要目的是从第三方的视角来评估AI和人类回复的特点，并探讨这些特点与参与者感受之间的关系。这有助于更客观、全面地理解AI提供情感支持的效果和机制。</p><p><strong>参与者：</strong>参与者(N=294)通过网上众包平台招募而来，作为第三方评估者。</p><p><strong>程序:</strong></p><ul><li>参与者被随机分配到阅读6段回复，其中3段来自AI，3段来自人类。这些回复从第一部分的数据中随机抽取；</li><li>对于每一段回复，参与者都要评估以下方面（7点量表）：<ul><li>情感支持：2个题目,如"这个回复提供了情感支持"；</li><li>实用支持：2个题目,如"这个回复提供了实用的建议或见解"；</li><li>同理心技巧：3个题目,评估回复中使用同理心技巧(如情感反映、观点采择)的程度；</li><li>回应技巧：4个题目，评估回复中使用各种回应技巧(如重述、表达同情、提供见解、给建议)的程度；</li><li>努力程度：1个题目,"撰写这个回复付出了多少努力?"</li><li>感到被倾听：1个题目，"你认为原来的讲述者读了这个回复后，会感到被倾听的程度有多高?"</li></ul></li><li>参与者还要判断每段回复最可能是人类还是AI写的。</li></ul><h2 id="实验结果">实验结果</h2><h4id="回复来源和来源标签的影响"><strong>回复来源和来源标签的影响</strong></h4><ul><li>双因素方差分析发现，对于4个主要因变量(感到被倾听、感知到的回复准确性、感觉对方是否理解自己、与回复者的联结感)，都存在显著的来源标签主效应；</li><li>当回复被标记为来自人类时，参与者在这4个方面的评分都显著高于回复被标记为来自AI时；</li><li>但实际的回复来源(AI或人类)并没有显著影响参与者的评分；</li><li>此外，来源和标签之间存在显著的交互效应。进一步的简单效应分析表明：<ul><li><strong>当回复实际来自AI时，人类标签导致了显著更高的评分</strong>；</li><li>但当回复实际来自人类时，AI标签和人类标签之间的差异并不显著。</li></ul></li><li>这些结果表明，来源标签(尤其是人类标签)对参与者的感受有重要影响，而实际的回复来源影响较小。</li></ul><h4id="感到被倾听的中介作用"><strong>"感到被倾听"的中介作用</strong></h4><ul><li>中介分析发现，"感到被倾听"在来源标签与其他3个因变量(感知到的回复准确性、感觉对方是否理解自己、与回复者的联结感)之间起到显著的中介作用；</li><li>具体而言，人类标签提高了参与者"感到被倾听"的程度，进而导致了其他3个因变量的提高；</li><li>这表明，"感到被倾听"是标签效应影响参与者感受的一个重要心理机制。</li></ul><h4 id="对bing-chat看法的调节作用"><strong>对BingChat看法的调节作用</strong></h4><ul><li>调节分析发现，参与者对BingChat的态度显著调节了来源标签与"与回复者的联结感"之间的关系；</li><li>当参与者对BingChat的态度更积极时，AI标签和人类标签在"与回复者的联结感"上的差异更小；</li><li>但对Bing Chat的态度并没有显著调节标签与其他因变量的关系；</li><li>感知到的Bing Chat的主体性和体验性对标签效应没有显著的调节作用。</li></ul><h4 id="后续实验的结果"><strong>后续实验的结果</strong></h4><ul><li>第三方评估者对AI和人类回复在大多数特点上(如提供的情感支持、使用的回应技巧等)的评分没有显著差异；</li><li>各评估维度与第一部分参与者"感到被倾听"得分显著正相关，但相关强度在AI和人类回复之间无显著差异；</li><li>AI回复被评为付出了更多努力，且预期更能让原讲述者感到被倾听；</li><li>评估者能以高于随机水平的概率正确判断回复来源，但整体准确率并不高。</li></ul><h4 id="探索性分析"><strong>探索性分析</strong></h4><ul><li>回复来源和标签对参与者的情绪状态没有显著影响；</li><li>参与者在分享自己经历时的情绪状态，与他们后续对回复的感受无显著相关。</li></ul><h2 id="号外">号外</h2><ul><li><p>被倾听的感觉不仅取决于实际反应的质量，还取决于接受者对反应者的看法；</p></li><li><p>之前请AI帮我量子波动速读一份149页的论文附录，他反过来感谢我让他学到了更多。AI有许多美好的品质，同时比我热爱学习：<imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240411153439876.png"alt="image-20240411153439876" /></p></li><li><p>前几天和同学聊天，谈到和AI谈恋爱的问题。作为90后，我接受的教育和实践让我觉得，恋爱对象应当是一个具体的人，这会让我对“AI作为恋人”这件事持有一种“偏见”。在玩剧本杀时，我感觉到00后比我更容易代入角色。如果2010后、2020后，他们的成长中，AI已经深度介入，他们对于“AI作为恋人”这件事可能会和我有不同的看法。（朋友说这事不是已经常见了吗？比如那些二次元的宅男宅女。）</p></li><li><p>“爱人”和“爱猫”是两件不同的事情，“爱人”会去索取情绪价值，当对方没有给予充分回应时，甚至会去怪罪TA，但“爱猫”不会；</p></li><li><p><strong>被倾听的本质</strong>：何谓"真正的"被倾听？（这部分是Claude3Opus提的）</p><ul><li>人们贬低AI回应的倾向，引发了一个深层次的问题：什么是"真正的"被倾听？被倾听的感受是否必须建立在与另一个有意识、有情感的主体交流的基础之上？还是说，仅仅是看到自己的想法被准确复述和肯定，就足以产生被倾听的感受？</li><li>如果人们知道AI回应是基于算法生成的，没有真正的情感投入，他们是否还会从中获得情感利益？</li><li>这一问题挑战了传统的被倾听概念，即被倾听源于两个主体之间的情感交流和理解。它引发我们思考在人工智能时代，情感交流和被倾听的内涵是否需要被重新定义。</li></ul></li><li><p>我询问了Claude3 Opus对这篇论文的评价：<imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240412122951803.png"alt="image-20240412122951803" /></p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240412123011949.png"alt="image-20240412123011949" /><figcaption aria-hidden="true">image-20240412123011949</figcaption></figure><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240412123037358.png"alt="image-20240412123037358" /><figcaption aria-hidden="true">image-20240412123037358</figcaption></figure><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240412123057038.png"alt="image-20240412123057038" /><figcaption aria-hidden="true">image-20240412123057038</figcaption></figure><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240412123157630.png"alt="image-20240412123157630" /><figcaption aria-hidden="true">image-20240412123157630</figcaption></figure></li></ul><h2 id="原文信息">原文信息</h2><p>Yin, Yidan, Nan Jia, and Cheryl J. Wakslak. "AI can help people feelheard, but an AI label diminishes this impact." <em>Proceedings of theNational Academy of Sciences</em> 121, no. 14 (2024): e2319112121. <ahref="https://doi.org/10.1073/pnas.2319112121">https://doi.org/10.1073/pnas.2319112121</a></p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240411111130956.png"alt="image-20240411111130956" /><figcaption aria-hidden="true">image-20240411111130956</figcaption></figure>]]></content>
    
    
    
    <tags>
      
      <tag>HIBL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>AER-利用房地产市场对香港政权更迭风险进行定价</title>
    <link href="/2024/04/09/20240409-AER-%E5%88%A9%E7%94%A8%E6%88%BF%E5%9C%B0%E4%BA%A7%E5%B8%82%E5%9C%BA%E5%AF%B9%E9%A6%99%E6%B8%AF%E6%94%BF%E6%9D%83%E6%9B%B4%E8%BF%AD%E9%A3%8E%E9%99%A9%E8%BF%9B%E8%A1%8C%E5%AE%9A%E4%BB%B7/"/>
    <url>/2024/04/09/20240409-AER-%E5%88%A9%E7%94%A8%E6%88%BF%E5%9C%B0%E4%BA%A7%E5%B8%82%E5%9C%BA%E5%AF%B9%E9%A6%99%E6%B8%AF%E6%94%BF%E6%9D%83%E6%9B%B4%E8%BF%AD%E9%A3%8E%E9%99%A9%E8%BF%9B%E8%A1%8C%E5%AE%9A%E4%BB%B7/</url>
    
    <content type="html"><![CDATA[<blockquote><p>对政治风险的定价是一项富有挑战的工作。在“一国两制”可能于2047年到期的背景下，研究者利用香港房地产市场中土地租赁到期保护的独特变异，来识别政治风险的暴露。这一结果实际体现了市场对政治不确定性的定价。</p><p>结果显示，相比在2047年6月30日到期并有望获得延期50年的租约，2047年7月1日后到期且无法律保障延期的租约平均折价幅度高达14.1%。英国殖民时期拍卖的租约的折价幅度更大，额外降低了约8%，反映了业主担心未来政府对这些遗留租约存在“反悔风险”。</p></blockquote><p><strong>标题:</strong> Valuing Long-Term Property Rights withAnticipated Political Regime Shifts</p><p><strong>期刊:</strong> <ahref="https://www.aeaweb.org/journals/aer">American EconomicReview</a></p><p><strong>作者:</strong></p><ul><li>Zhiguo He：James Irvin Miller Professor of Finance at the GraduateSchool of Business, Stanford University.这篇论文的WP版本，何老师署名还是芝加哥，不知道正式版本会不会改为斯坦福；<ahref="https://zhiguohe.net/">https://zhiguohe.net/</a></li><li>Maggie Hu：胡榮，Assistant Professor of Real Estate and Finance atThe Chinese University of Hong Kong；<ahref="https://sites.google.com/view/maggiehu-academic/home">https://sites.google.com/view/maggiehu-academic/home</a></li><li>Zhenping Wang：Senior analyst with the <em>State of WisconsinInvestment Board</em>, Madison, Wisconsin.；</li><li>Vincent Yao：AREA Chair Professor, Professor and Director of RealEstate Center in the J. Mack Robinson College of Business at GeorgiaState University in Atlanta, GA. <ahref="https://sites.google.com/view/vincentyao">https://sites.google.com/view/vincentyao</a></li></ul><p><strong>上线时间：</strong> February 2024</p><p><br/></p><h3 id="preface">Preface</h3><ul><li>政治因素对资产定价和经济活动有重要影响，已有大量文献证实；香港在1997年回归后实行“一国两制”，但这一制度将于2047年到期。这预示着潜在的重大政治风险，可能影响到房产的长期价格。</li><li>实证中对政治风险的定价是一项富有挑战的工作，因为政治风险常常伴随着经济波动，很难识别因果效应。</li><li>香港是一个特殊的政治与经济<strong>交汇点</strong>：<ul><li>香港处于中国和西方世界的冲突之中，成为“一国两制”政治实验命运的博弈场；</li><li>香港的土地供应主要通过政府租约而非永久产权，租约到期能否续约取决于未来的政权，使得产权面临很大政治风险；</li><li>香港长期以来具有健全的自由市场经济，交易受外部因素扭曲的情形很少；</li><li>香港房价高企，对居民福利影响重大；也因为如此，市场中对房产的定价，体现了居民对政治不确定性的长期看法。</li></ul></li><li>房地产是典型的长期资产，其价值主要由未来现金流折现决定。政治风险通过影响未来现金流和折现率，可显著改变房地产的当前价格。</li></ul><h3 id="香港土地权属制度和土地政策">香港土地权属制度和土地政策</h3><p>详见：<ahref="https://www.landsd.gov.hk/en/resources/land-info-stat/land-tenure-system-land-policy.html">LandTenure System and Land Policy in Hong Kong</a></p><ul><li>香港所有土地都归政府所有，私人拥有的只是在一定期限内使用和占有土地的权利，即土地契约或地契。地契到期后，业权收归政府，政府可决定是否给予续期。这种产权安排使得地契价值容易受到未来土地政策变化的影响。</li><li>早期的土地出让主要通过拍卖和认购两种方式进行，期限包括75年、99年和999年等。1960年代后期开始，香港政府将批租年期统一为75年。</li><li>原文Table A.1梳理了不同租约类型：<imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240409172409698.png"alt="image-20240409172409698" /></li></ul><blockquote><p>《中华人民共和国香港特别行政区基本法》对土地契约的规定如下：</p><p>第一百二十條香港特別行政區成立以前已批出、決定、或續期的超越一九九七年六月三十日年期的所有土地契約和與土地契約有關的一切權利，均按香港特別行政區的法律繼續予以承認和保護。</p><p>第一百二十一條從一九八五年五月二十七日至一九九七年六月三十日期間批出的，或原沒有續期權利而獲得續期的，超出一九九七年六月三十日年期而不超過二○四七年六月三十日的一切土地契約，承租人從一九九七年七月一日起不補地價，但需每年繳納相當於當日該土地應課差餉租值百分之三的租金。此後，隨應課差餉租值的改變而調整租金。</p><p>第一百二十二條原舊批約地段、鄉村屋地、丁屋地和類似的農村土地，如該土地在一九八四年六月三十日的承租人，或在該日以後批出的丁屋地承租人，其父系為一八九八年在香港的原有鄉村居民，只要該土地的承租人仍為該人或其合法父系繼承人，原定租金維持不變。</p><p>第一百二十三條香港特別行政區成立以後滿期而沒有續期權利的土地契約，由香港特別行政區自行制定法律和政策處理。</p></blockquote><h3 id="实证研究设计">实证研究设计</h3><h4 id="处理组treatment-groups">处理组（Treatment Groups）</h4><p>处理组则包括在不同时间到期的土地租约，特别是那些在政治变迁后到期的租约。研究主要关注这些租约的价格折扣，以评估政治风险的影响。具体分为如下几个子组：</p><ul><li><strong>预2047年到期租约</strong>：这些租约在2047年之前到期，会根据现有政策自动获得50年的延期。它们按到期年分为几个子组，比如2029-2033年、2034-2039年和2040-2046年到期的组别。</li><li><strong>2047年后到期租约</strong>：这是主要的处理组，包括在2047年7月1日后到期的租约。这些租约的延期政策尚未明确，因此它们在政治变迁后的期望政策是不确定的。这些租约根据到期年也分为几个子组，如2047年7月1日至2049年、2050年至2052年、2053年至2064年、2065年至2097年和2098年至2135年等。</li><li><strong>遥远未来到期租约</strong>：还有一组包含了在遥远未来到期的租约（例如，999年租约），它们到期时间远超2047年，如2842年至2959年。</li></ul><h4 id="控制组control-group">控制组（Control Group）</h4><p>控制组选取了在2047年6月30日到期的土地租约。根据现行的香港特别行政区（HKSAR）政策，这些租约将会自动延长50年，直到2097年。这些租约因为有明确的延期保护，所以被预期的2047年政治变迁所影响较小，因此可以作为一个比较稳定的基准。具体来说，控制组包括：</p><ul><li>在1985年《中英联合声明》生效后和1997年香港回归前之间开始的租约，这些租约被自动设定在2047年6月30日到期（属于Type5租约）。</li><li>在香港岛和旧九龙的某些“+75”年租约，也会在2047年的下半年到期（部分属于Type2租约）。</li><li>在新界和新九龙的租约，这些租约原定于1997年到期，但根据《中英联合声明》，它们已自动延长至2047年6月30日（属于Type4租约）。</li></ul><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240409162837647.png"alt="image-20240409162837647" /><figcaption aria-hidden="true">image-20240409162837647</figcaption></figure><h3 id="data">Data</h3><ul><li><strong>住宅交易和设施数据</strong>：这些数据通过购买自香港土地注册处的电子交易数据获得，包含了1992年1月至2020年2月间香港所有的住宅物业交易记录。数据集包括了土地租约到期年份、交易价格和日期、物业特征（如建筑年份、楼层、单位号码、设施等）。</li><li><strong>土地销售数据</strong>：为了确认土地租约的确切到期日期，研究人员从土地注册处网站获取了土地拍卖数据，并通过土地编号将其与住宅交易数据匹配。</li><li><strong>人口普查数据和地方选举数据</strong>：这些公开可用的数据提供了香港住户的社会经济特征，包括从2001年至2016年的五年一次的人口普查数据，以及1999年至2019年间香港各区议会选举的结果。</li></ul><h3 id="结果">结果</h3><p>⚠️<strong>Warning</strong>：此部分由GPT-4-128K给出。</p><h4 id="政治风险与折扣">政治风险与折扣</h4><p>研究发现，相对于那些有延期保护的物业（对照组），那些土地租约在2047年后到期且没有法律保护的物业（处理组），在市场上以大约14.1%的显著折扣出售。此外，那些租约在2047年前由殖民地政府授予的物业，则相比之下又有约8%的额外折扣。</p><h4 id="结构化参数估计">结构化参数估计</h4><p>通过对房地产交易数据的结构化分析，研究估计了一些关键参数：</p><ul><li><strong>额外地租率：</strong>2047年后，房主预期在续租时需要支付额外21%的净租金价值。</li><li><strong>政府违约风险：</strong>房主预期在2047年之前不需要担心殖民地租约被违约，但是在2047年之后，殖民地租约每61年有预期违约风险为1.6%。</li><li><strong>一次性土地溢价费：</strong>在租约到期或被违约时，殖民地租约预期需要支付一次性土地溢价费，分别为6.2%（2047年前）和20.8%（2047年后）。</li></ul><h4 id="折扣率估计">折扣率估计</h4><ul><li><strong>折扣率：</strong>结合香港的房地产统计数据，研究者估计的折扣率为2.44%，与Giglio等人（2015年）的研究结果相似，后者基于英国和新加坡的数据估计了“非常长期的折扣率”。</li></ul><h4 id="地方政治情绪的影响">地方政治情绪的影响</h4><p>研究还考察了地方政治情绪对政治风险感知的影响：</p><ul><li><strong>民主派席位比例：</strong>在民主派席位比例较高的地区，物业价格折扣更大，反映了民主派支持者对香港未来的政治预期可能更为悲观。</li><li><strong>大陆移民比例：</strong>在大陆移民比例较高的地区，物业折扣也更大，这可能反映了当地居民对于文化影响和政治未来的不确定性感到更加不安。</li></ul><h4 id="个体信念的作用">个体信念的作用</h4><ul><li><strong>内地买家与卖家：</strong>相较于香港本地买家，内地买家在购买时似乎更为乐观，愿意支付更高的价格；相较于香港本地卖家，内地卖家似乎更悲观，倾向于以更低的价格出售物业。</li></ul><h3 id="号外">号外</h3><ul><li>Promarket发布了对本文的一篇报道：<ahref="https://www.promarket.org/2020/09/03/how-does-political-uncertainty-affect-the-valuation-of-long-term-property-rights-lessons-from-hong-kong/">HowDoes Political Uncertainty Affect the Valuation of Long-Term PropertyRights? Lessons From Hong Kong</a>；</li><li>论文还有很大一部分做了结构估计，得出2047年后续期时，市场预期地租率在现有3%基础上额外增加21%。对于殖民地契，预计2047年前不会被改变，但2047年后平均每61年会被修改一次，届时业主需额外支付房产价值7%的土地出让金。（作为低级reg🐒，我没看懂这部分。感兴趣的小伙伴请阅读原文吧。）</li></ul><h3 id="原文信息">原文信息</h3><p>He, Zhiguo, Maggie Hu, Zhenping Wang, and Vincent Yao. "ValuingLong-Term Property Rights with Anticipated Political Regime Shifts."<em>American Economic Review</em>, forthcoming.<ahref="https://www.aeaweb.org/articles?id=10.1257/aer.20211242">https://www.aeaweb.org/articles?id=10.1257/aer.20211242</a></p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240409100321003.png"alt="image-20240409100321003" /><figcaption aria-hidden="true">image-20240409100321003</figcaption></figure>]]></content>
    
    
    
    <tags>
      
      <tag>HIBL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>JF-住房选择的游击战？邻居政治立场与家庭房屋销售决策</title>
    <link href="/2024/04/03/20240402-JF-%E4%BD%8F%E6%88%BF%E9%80%89%E6%8B%A9%E7%9A%84%E6%B8%B8%E5%87%BB%E6%88%98%EF%BC%9F%E9%82%BB%E5%B1%85%E6%94%BF%E6%B2%BB%E7%AB%8B%E5%9C%BA%E4%B8%8E%E5%AE%B6%E5%BA%AD%E6%88%BF%E5%B1%8B%E9%94%80%E5%94%AE%E5%86%B3%E7%AD%96/"/>
    <url>/2024/04/03/20240402-JF-%E4%BD%8F%E6%88%BF%E9%80%89%E6%8B%A9%E7%9A%84%E6%B8%B8%E5%87%BB%E6%88%98%EF%BC%9F%E9%82%BB%E5%B1%85%E6%94%BF%E6%B2%BB%E7%AB%8B%E5%9C%BA%E4%B8%8E%E5%AE%B6%E5%BA%AD%E6%88%BF%E5%B1%8B%E9%94%80%E5%94%AE%E5%86%B3%E7%AD%96/</url>
    
    <content type="html"><![CDATA[<blockquote><p>利用房地产交易记录和选民登记数据发现，当政治立场相反的新邻居搬入时，现有居民出售房屋并搬离的可能性增加。</p><p>做不了贵咪就做敌咪！ 🏠卖了，🏃‍➡️💃👨‍🦯‍➡️🧑‍🦼‍➡️溜了溜了</p></blockquote><p><strong>标题:</strong> Political Polarization Affects Households'Financial Decisions: Evidence from Home Sales</p><p><strong>期刊:</strong> The Journal of Finance</p><p><strong>作者:</strong></p><ul><li>W. Ben McCartney：Assistant Professor of Commerce at the McIntireSchool of Commerce at the University of Virginia and a Visiting Scholarat the Federal Reserve Bank of Philadelphia；</li><li>John Orellana-Li：Financial Economist at the Federal Reserve Bank ofPhiladelphia；</li><li>Calvin Zhang：Senior Economist at the Federal Reserve Bank ofPhiladelphia.</li></ul><p><strong>上线时间：</strong> 11 February 2024</p><p><br/></p><p><strong>Warning</strong>：本文内容全部由Claude3Opus生成，我跟它进行了许多轮对话，下面的结果经过了筛选，但我没有做内容上的改动，只进行了格式的调整。对于本文的任何结果，均需要<strong>谨慎对待</strong>。我认为在现阶段，Claude3Opus的水平不逊于普通科研导师（只要肯充钱💰和多发问🙋）。</p><p><br/></p><h3 id="preface">Preface</h3><ul><li><strong>政治极化</strong>已经成为当代美国社会的一大显著特征。民主党人和共和党人不仅在政治立场上针锋相对，在生活的方方面面，从消费偏好到价值观念，也日益呈现出显著的差异。随着党派身份日益成为社会认同的重要维度，人们对政治“对方”的负面情绪也在不断升温。在这种背景下，“<strong>情感极化</strong>”这一概念应运而生，指的是人们对于政治异己的强烈厌恶和敌意。</li><li>情感极化的影响是否仅限于态度层面，或者也会影响人们的实际行为和决策？这是一个亟需实证研究的重要问题。现有文献虽然发现情感极化影响了人们在婚姻、就业等方面的选择，但对其在其他社会经济领域的作用还缺乏系统性的考察。</li><li><strong>住房市场</strong>在这方面提供了一个理想的研究场景。首先，住房是大多数家庭最重要的<strong>资产</strong>，与其福祉息息相关。其次，住房选择不仅反映了人们的经济考量，也体现了他们对<strong>社区环境</strong>、<strong>邻里互动</strong>等因素的偏好。再者，<strong>搬家</strong>是一个成本高昂的决定，人们在做出这一决定时，必然要权衡各种影响因素。因此，住房市场为检验情感极化对现实决策的影响提供了一个绝佳的试金石。</li><li>更重要的是，研究情感极化在住房市场中的作用，有助于我们理解美国社会政治分化的现状和后果。如果由于党派对立，人们在选择居住地时都倾向于投入<strong>同温层</strong>，那么社区内部的同质化程度必然会上升，而社区之间的隔阂也会加深。从长远来看，这可能会削弱跨社区的凝聚力，阻碍社会流动，进而为社会分化埋下隐患。因此，厘清情感极化在住房市场这一关键领域的影响，对于认识政治极化的<strong>社会成本</strong>和应对政治极化的公共政策，都具有重要的指导意义。</li><li>本文以美国北卡罗来纳州的房地产交易和选民登记数据为基础，通过实证分析来探究情感极化在住房市场中的作用机制和影响后果。本文考察：当支持不同政党的新邻居搬到身边时，现有居民是否更倾向于搬离？这种搬离行为在多大程度上源于纯粹的<strong>党派偏好</strong>，而非对当地公共品供给、社区治理等因素的合理考量？不同社会群体对于党派异质性的反应是否存在显著差异？对这些问题的回答，不仅有助于揭示情感极化在重要经济决策中的作用，更有助于从微观基础的角度理解美国社会日益严重的政治分化及其深层次影响。</li><li><strong>实证挑战</strong>：<ul><li>交叉截面数据中观察到的政治分隔(politicalsegregation)并不一定意味着家庭偏好与同党派为邻。持相似政治立场的家庭可能因为偏好相似的<strong>邻里设施</strong>而选择住在一起，而非出于对彼此的偏好。因此，如果观察到居民搬离不同党派的邻居，可能并非因为他们不喜欢这些邻居本身，而是因为不同政治立场的邻居在邻里设施和公共品偏好上存在差异(即<strong>Tiebout机制</strong>)。</li><li><strong>最近的邻居</strong>可能并非随机分布：如果家庭已经搬离了他们不喜欢的邻居，那么现有的邻居分布就是内生的，无法用于识别政治两极化的因果效应。</li></ul></li></ul><h3 id="研究设计和识别策略">研究设计和识别策略</h3><h4id="策略一限定研究样本纳入多维固定效应did"><strong>策略一：限定研究样本，纳入多维固定效应（DID）</strong></h4><p><strong>背景</strong>：理想情况下，我们希望随机给一些居民分配不同党派的新邻居，然后比较他们的搬家行为。但在现实中，新邻居的党派可能与社区的其他特征相关，而这些特征本身可能影响居民的搬家决定。因此，简单地比较有无不同党派新邻居的居民可能混淆了其他因素的影响。</p><p><strong>思路</strong>：为了尽可能逼近随机实验，作者采取了两个关键步骤:</p><ul><li><p>限定研究样本为刚搬来新邻居(无论党派)的现有居民。这确保了处理组(新邻居党派相反)和对照组(新邻居党派相同或无党派)都面临新邻居的冲击，因而在很大程度上控制了样本的可比性。</p></li><li><p>在回归模型中纳入多维固定效应，包括社区、时间、居民党派和人口特征等。这相当于只比较在这些维度上相同的居民，进一步确保了处理组和对照组的可比性。</p></li></ul><p><strong>模型设定</strong>：</p><ul><li>因变量：现有居民在新邻居搬来后是否搬家</li><li>核心解释变量：新邻居是否与现有居民党派相反</li><li>固定效应：社区、时间(如年份)、现有居民党派、人口特征(如种族、年龄、收入等)的交互项</li><li>检验：核心解释变量的系数是否显著为正。如果为正，则表明相反党派新邻居的到来确实增加了现有居民的搬家概率，支持了政治两极化的影响。</li></ul><p><strong>解释</strong>：通过限定样本和纳入多维固定效应，这一策略在很大程度上模拟了随机实验:</p><ul><li>限定样本确保处理组和对照组都经历了新邻居的冲击，因而排除了新邻居本身（非政治立场）的影响</li><li>多维固定效应控制了可能与新邻居党派相关、且影响搬家行为的其他因素，如社区特征、时间趋势、居民背景等</li><li>在此基础上，核心解释变量的系数反映了党派差异本身对搬家行为的额外影响</li></ul><h4 id="策略二同街区分析"><strong>策略二：同街区分析</strong></h4><p>这一策略在策略一的基础上，进一步限定了处理组和对照组的范围，以更好地控制<strong>微观社区环境</strong>的影响。</p><p><strong>背景</strong>：尽管策略一通过限定样本和纳入固定效应，在很大程度上控制了处理组和对照组的可比性，但它仍有一个潜在的局限：处理组(相反党派新邻居)和对照组(同党派或无党派新邻居)所在的微观社区环境可能有所不同，而这种差异可能恰好与新邻居的党派相关,从而影响居民的搬家行为。</p><p><strong>思路</strong>：为了进一步缓解这一问题，策略二将处理组和对照组的范围限定在<strong>同一街区</strong>内：</p><ul><li>处理组：与新邻居住得较近的现有居民(前后两户，对面四户)</li><li>对照组：与新邻居住得较远的现有居民，但仍在同一街区内通过比较同一街区内不同党派邻居的搬家行为，这一策略在很大程度上控制了街区层面的其他影响因素，如新的设施、公共品变化等，因而更精确地识别了党派差异本身的影响。</li></ul><p><strong>模型设定</strong>：</p><ul><li>因变量：现有居民在新邻居搬来后是否搬家</li><li>核心解释变量：新邻居是否与现有居民党派相反，且现有居民是新邻居的近邻(前后两户，对面四户)</li><li>固定效应：街区、时间(如年份)、现有居民党派、人口特征(如种族、年龄、收入等)的交互项</li><li>检验：将样本限定为新邻居与现有居民党派相反的情况，检验核心解释变量的系数是否显著为正。如果为正，则表明在面对相反党派新邻居时，近邻居民比远邻居民更倾向于搬家，进一步支持了政治两极化的影响。</li></ul><p><strong>解释</strong>：通过在同一街区内部比较近邻和远邻居民,这一策略更好地控制了微观社区环境的影响:</p><ul><li>同一街区的居民面临相似的社区特征和变化趋势，因此街区固定效应可以很好地控制这些因素</li><li>在此基础上，近邻和远邻居民的主要区别在于是否直接与新邻居接触。因此，他们的搬家行为差异更直接地反映了党派差异本身的影响</li><li>进一步地，通过限定样本为新邻居党派相反的情况，这一策略聚焦于政治两极化的核心情境,提供了更有针对性的证据</li></ul><h4 id="策略三事件研究法"><strong>策略三：事件研究法</strong></h4><p><strong>背景</strong>：前两个策略聚焦于居民个体，比较不同党派邻居搬来时现有居民的反应差异。但这些策略仍面临一个潜在问题：虽然新邻居的党派可能是随机的，但现有居民的党派分布可能与社区的其他特征相关，而这些特征本身可能影响搬家行为。</p><p><strong>思路</strong>：为了解决这一问题，策略三直接从新邻居入住这一事件出发。具体而言，作者将每一次新邻居入住都看作一个准实验(quasi-experiment)，其最近的八户邻居(前后各两户，对面四户)构成一个小样本。如果政治两极化导致人们不愿与不同党派为邻，那么这八户邻居中，与新邻居党派不同的居民比例应当系统性地高于50%(即随机分配的水平)。</p><p><strong>模型设定</strong>：</p><ul><li>纳入新邻居入住事件的固定效应。这相当于比较同一事件中不同党派邻居的反应差异，而不是不同事件的差异，从而控制了事件层面可能影响搬家行为的其他因素。</li><li>将因变量定义为<strong>八户邻居中与新邻居党派不同的居民占比</strong>，而不是具体某一户邻居是否搬家。这一设定避免了特定邻居的个体异质性，而是聚焦于整体分布。</li><li>检验这一占比是否显著高于50%。如果显著为正，则表明不同党派的邻居确实更倾向于搬走，支持了政治两极化的影响。</li></ul><p><strong>优势</strong>：这一策略将识别聚焦于新邻居附近的微观社区，且纳入了事件固定效应。相比前两个策略，它更好地控制了社区层面的其他影响因素，因而更加精确地识别了党派差异本身的影响。此外，它考察的是邻居整体的异质性，而不是个体行为，这进一步缓解了个体选择的内生性问题。</p><h3 id="data">Data</h3><ul><li><p>CoreLogicSolutions房地产数据。这个数据包含了房地产交易和房产特征的信息。研究者设计了一个算法，利用完整地址和精确的地理位置来识别毗邻的房产。</p></li><li><p>北卡罗来纳州选民注册数据。利用房主姓名和地址，研究者将个人层面的政党归属、投票历史和人口统计特征从选民注册数据中合并进来。</p></li><li><p>最终的数据集是一个2005-2019年的季度面板数据，包含了独户住宅的信息，详细记录了现有居民和他们最近邻居的房屋出售决策和政党归属。</p></li></ul><h3 id="结果">结果</h3><ul><li>策略一：在控制了一系列户主特征(党派、种族、年龄、出生州和居住时长)、房产特征(面积和建筑年份)以及街区-季度-党派-种族固定效应后，如果有异党的新邻居搬来，现有户主在两年内卖房的概率会比同党或无党派邻居搬来时高出0.31个百分点，相当于增加了4%。这说明户主更倾向于搬离异党邻居。</li><li>策略二：通过比较同一个街区内有无新邻居入住的户主，发现相邻或隔壁有新邻居的户主比同一街区稍远处的户主更可能搬走。这进一步证实了前一结果。</li><li>策略三：将新邻居的到来作为一个事件，考察离新邻居最近的8个现有居民(两边各两个，对面四个)。结果显示，在这8个最近邻居中，与新邻居属于对立政党的现有居民的搬走率显著高于无党派或与新邻居同党派的现有居民。</li><li>效应随时间变化的分析表明，新邻居搬来1年后，处理组和对照组的搬出率才开始显著分化。这个滞后效应说明搬出行为确实是由新邻居引起的。</li><li>在房市活跃的时期和街区，估计效应要大得多。这说明虽然户主不愿与异党为邻，但为实现这一偏好所愿付出的成本有限。</li><li>进一步研究发现，当搬来的异党邻居政治参与度很高(以选举参与率衡量)时，户主更可能搬走。这与感情极化(affectivepolarization)机制相一致，即户主讨厌异党人士，不愿与其为邻。这一发现不能完全用社区公共品偏好差异等其他因素解释，控制了相关变量后效应仍然显著。</li></ul><h3 id="号外">号外</h3><ul><li>本文作者之一W. BenMcCartney还有一项关于邻里效应与住房金融的工作，发表在JUE上：<ahref="https://doi.org/10.1016/j.jue.2021.103409">Household mortgagerefinancing decisions are neighbor influenced, especially along raciallines</a>；</li><li>作者在引言里提到了一篇与本文密切相关的文献，2022年发表在JFE，研究了对气候变化观点的党派差异如何影响家庭的居住地点决策：<ahref="https://doi.org/10.1016/j.jfineco.2022.03.004">Partisanresidential sorting on climate change risk</a>；</li><li>号外不是AI🤖生成的。</li></ul><h3 id="原文信息">原文信息</h3><p>MCCARTNEY, W.B., ORELLANA-LI, J. and ZHANG, C. (2024), PoliticalPolarization Affects Households' Financial Decisions: Evidence from HomeSales. J Finance, 79: 795-841. https://doi.org/10.1111/jofi.13315</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240402153212363.png"alt="image-20240402153212363" /><figcaption aria-hidden="true">image-20240402153212363</figcaption></figure>]]></content>
    
    
    
    <tags>
      
      <tag>HIBL</tag>
      
      <tag>Polarization</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Nature-更高水平的发展可以扭转生育率下降的趋势（吗）</title>
    <link href="/2024/03/26/20240326-Nature-Advances%20in%20development%20reverse%20fertility%20declines/"/>
    <url>/2024/03/26/20240326-Nature-Advances%20in%20development%20reverse%20fertility%20declines/</url>
    
    <content type="html"><![CDATA[<blockquote><p>二十世纪人类社会广泛的发展经验表明，随着经济社会发展水平的提升，人口总和生育率呈下降趋势。这种负向关系已成为社会科学中最牢固和普遍接受的经验规律之一。</p><p>然而，在2009年的这篇Nature论文中，作者表明，随着人类发展水平提升到很高的阶段并进一步增加，发展与生育率的关系由负转正。这意味着，高水平的发展带来的生育反弹有可能缓解人口老龄化的速度，并改善与低生育率有关的社会和经济问题。</p><p>但是，从十多年后回头看，事实果真如论文发现的那样吗？</p></blockquote><p><strong>标题:</strong> Advances in development reverse fertilitydeclines</p><p><strong>期刊:</strong> Nature</p><p><strong>作者:</strong></p><ul><li>MikkoMyrskylä：马克斯·普朗克人口研究所所长，赫尔辛基大学社会数据科学教授，工作集中于人口健康、生育动态和人口预测等方面；</li><li>Hans-Peter Kohler：宾夕法尼亚大学Frederick J.Warren人口学教授，主要研究重点是发展中国家和发达国家的生育率和健康。</li><li>Francesco C.Billari：博科尼大学人口学教授，主要兴趣是生育和家庭变化、向成年的过渡、生命历程分析、人口预测、数字化和人口统计学以及比较调查。</li></ul><p><strong>出刊时间：</strong> 6 August 2009</p><p><br/></p><h3 id="background">Background</h3><h4 id="生育率相关数据"><strong>生育率相关数据</strong></h4><ul><li><strong>总和生育率</strong>：Total FertilityRate-<strong>TFR</strong>，指一个女性在其生育期内平均生育子女的数量，是衡量一个地区或国家生育水平的常用指数之一。通常用来预测人口增长率，理解人口结构的变化，以及评估社会政策和经济发展对生育行为的影响；</li><li><strong>世代更替水平</strong>：总和生育率在<strong>2.1</strong>左右，通常被认为是世代更替水平（replacement-levelfertility），意味着人口能够自然更替，不增也不减。如果总和生育率低于2.1，则可能导致人口减少；如果高于2.1，则意味着人口增长。（也就是说一对夫妻平均生育2.1个孩子，社会长期总人口维持稳定）</li><li><strong>生育警戒水平</strong>：总和生育率在<strong>1.5</strong>被认为是警戒水平，国际经验表明，当一个国家或地区的总和生育率跌破1.5后，将很难回升；</li><li>一组当前数据：“七普”数据显示，2020年中国总和生育率为1.3，低于警戒水平；2023年中国总和生育率降至1.0，同年日本总和生育率为1.3。2023年，韩国总和生育率为0.72，是世界最低，同年上海总和生育率为0.7。横向比较，中国当前的总和生育率为世界倒数第三（附近）。世界主要发达国家当前总和生育率在1.3-1.8之间。</li></ul><h4 id="人类发展指数"><strong>人类发展指数</strong></h4><p>Human DevelopmentIndex-<strong>HDI</strong>，由联合国开发计划署（UNDP）提出的一个衡量国家社会经济发展水平的综合指标。它旨在超越传统的以国内生产总值（GDP）作为衡量经济发展的单一指标，通过更全面地评估人类发展的各个方面来提供一个更加全面的发展视角。人类发展指数基于以下三个主要维度：</p><ul><li><strong>寿命指标</strong>：long and healthylife，通过预期寿命来衡量健康水平；</li><li><strong>教育指标</strong>：beingknowledgeable，通过成人识字率和在校教育年限（包括预期的在校教育年限和平均受教育年限）来衡量教育水平；</li><li><strong>生活水平指标</strong>：having a decent standard ofliving，通过人均国民总收入（GNI percapita）来衡量国家的经济条件和生活水平。</li></ul><p>这些指标被汇总（几何平均）并被标准化计算得出一个介于0到1之间的值，作为评价一个国家人类发展水平的衡量。HDI值越接近1，表明该国家的人类发展水平越高。</p><p>HDI没有反映不平等、贫困、人类安全、赋权等内容，这些内容在联合国可持续发展目标（SustainableDevelopment Goals-<strong>SDGs</strong>）有报告。</p><p>当前HDI排序最靠前的国家和地区有瑞士、挪威、芬兰、香港、丹麦、瑞典、德国、冰岛，这些地区的HDI大于等于0.95，中国得分为0.79，排在第75位（共195）。</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/hdiRoadMap.png"alt="HDI Dimensions and Indicators path chart" /><figcaption aria-hidden="true">HDI Dimensions and Indicators pathchart</figcaption></figure><p>图1: HDI的构成图示。参见：Human Development Index (HDI)https://hdr.undp.org/data-center/human-development-index#/indicies/HDI</p><h3id="人类发展指数与总和生育率的j型关系">人类发展指数与总和生育率的“J型”关系</h3><h4 id="横截面分析"><strong>横截面分析</strong></h4><ul><li>下图中蓝色方块表示1975年的HDI与TFR的分布，当时的HDI分布在0.25-0.887之间，TFR在1.45-8.5之间，整体来看，拟合曲线始终为下降趋势，两者相关系数（TheSpearman’s rank correlation ）为 <strong>-0.85</strong>（P&lt;0.01）；</li><li>红色三角形表示2005年的HDI与TFR的关系，其中HDI分布在0.3-0.966之间，TFR分布在1.08-7.7之间。当HDI&lt;0.85时，HDI与TFR的相关系数为-0.84（P&lt;0.01），而当HDI≥0.9时，两者的相关系数由负转正，为<strong>0.51</strong>（P&lt;0.01）；</li><li>2005年时，HDI在0.9-0.92之间国家的TFR平均值为1.24，而在HDI大于0.95的国家，其TFR平均值达到了1.89。在HDI最高的这些国家，人口可以维持更替水平且移民需求较小。</li></ul><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/41586_2009_Article_BFnature08230_Fig1_HTML.jpg"alt="Figure 1" /><figcaption aria-hidden="true">Figure 1</figcaption></figure><p>图2：1975年和2005年TFR与人类发展指数的横截面关系</p><blockquote><p>2005年人类发展指数≥0.9的国家包括（括号内为2005年的HDI）：澳大利亚（0.966）、挪威（0.961）、冰岛（0.956）、爱尔兰（0.95）、卢森堡（0.949）、瑞典（0.947）、加拿大（0.946）、芬兰（0.945）、法国（0.945）、荷兰（0.945）、美国（0.944）、丹麦（0.943）、日本（0.943）、瑞士（0.942）、比利时（0.94）、新西兰（0.938）、西班牙（0.938）、英国（0.936）、奥地利（0.934）、意大利（0.934）、以色列（0.922）、希腊（0.918）、德国（0.916）、斯洛文尼亚（0.913）和韩国（0.911）。</p></blockquote><h4 id="纵向分析"><strong>纵向分析</strong></h4><ul><li>图3展示了2005年时HDI≥0.9的所有国家的HDI与TFR关系的时间路径；</li><li><strong>参考年</strong>的定义：对于一个国家或地区，其HDI在0.85-0.9的窗口期内，TFR最低的那一年被选为参考年；</li><li>第二、四象限显示了随着HDI增加，TFR下降的情况；第一象限则显示了随着HDI增加，TFR反弹的情况；</li><li>2005年进入<strong>第一象限</strong>的国家有18个，分别是挪威、荷兰、美国、丹麦（1）、德国（2）、西班牙（3）、比利时（4）、卢森堡（5）、芬兰（6）、以色列（7）、意大利（8）、瑞典（9）、法国（10）、冰岛（11）、英国（12）、新西兰（13）、希腊（14）和爱尔兰（15）。也就是说，随着发展水平的进一步提升，这18个国家的HDI达到了0.9或更高的水平，总和生育率早先的下降趋势已经扭转。例如，美国生育率在1976年（参考年）逆转，当时的HDI为0.881；挪威的逆转发生在1983年，当时的HDI为0.892；在以色列，TFR下降的逆转发生在1992年，当时的HDI为0.880；</li><li>2005年进入<strong>第四象限</strong>的国家是日本、奥地利（16）、澳大利亚（17）、瑞士（18）、加拿大（19）和韩国（20）；在这些国家，HDI的进一步提升并未带来低生育率的逆转。</li></ul><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/41586_2009_Article_BFnature08230_Fig2_HTML.jpg"alt="Figure 2" /><figcaption aria-hidden="true">Figure 2</figcaption></figure><p>图3：到2005年HDI≥0.9的所有国家的HDI与TFR关系的时间路径</p><h4 id="回归分析与临界水平"><strong>回归分析与临界水平</strong></h4><ul><li>使用具有时间固定效应的双重差分模型等方法估计HDI变动对TFR的影响；包括1975-2005年37个国家的面板数据，这些国家在2005年的HDI达到了0.85；</li><li>HDI与TFR关系由负转正的临界水平是<strong>HDI=0.86</strong>；当HDI&lt;0.86时，HDI增加一个单位对TFR的影响是-1.59（P&lt;0.05），当HDI≥0.85时，其变化的边际效应为4.07 （P&lt;0.001）;</li><li>现实意义是，当HDI≥0.85时，HDI每增加0.05，平均每个女性生育的子女数量将增加0.2。</li></ul><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/41586_2009_Article_BFnature08230_Fig3_HTML.jpg"alt="Figure 3" /><figcaption aria-hidden="true">Figure 3</figcaption></figure><p>图4：人类发展指数HDI变化 1 个单位对 TFR的影响。模型1-4对变量使用了不同的滞后时间or定义。</p><h3 id="研究启示">研究启示</h3><ul><li>机制挖掘：为什么在大部分发达国家，HDI在更高水平的提升会使得生育率反弹？鉴于发达国家的制度、文化和政策环境的异质性，需要进一步的研究来调查这种逆转背后的不同机制，特别是考虑到<strong>日本</strong>、加拿大和<strong>韩国</strong>等例外情况；具体而言，需要更好地理解改善劳动力市场的灵活性、社会保障和个人福利、性别和经济平等、人力资本和社会/家庭政策如何能够促进发达社会的生育率相对提升；</li><li>东亚富裕国家（日本、韩国）高水平HDI与低TFR的关系，或许可以由这些国家在发展过程中并未建立起促进工作-家庭平衡和性别平等的制度来解释；</li><li>只要最发达国家把重点提升在公民福祉上，并建立起良好的制度，高水平发展的进一步提升就有可能扭转生育率下降的趋势，这些国家进而有可能维持稳定的人口规模，减缓人口老龄化的负面影响。</li></ul><p><br/></p><h3id="十多年后看生育率下降真的逆转了吗">十多年后看，生育率下降真的逆转了吗？</h3><h4 id="来自同行的质疑"><strong>来自同行的质疑</strong></h4><p>Nature的这篇论文发表于2009年，引起了广泛的关注，目前被引量已经过千。</p><p><img src="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240319202615463.png" alt="image-20240319202615463" style="zoom:67%;" /></p><p>图5：Google scholar显示的到2024年3月该文的被引次数</p><p>对于该文的重要发现，也有学者提出质疑，Hampton GrayGaddy在其2021年发表的论文中，使用更新的数据发现，更高水平的发展与生育率的正向关系在近10年似乎失效了。详见论文：<ahref="https://doi.org/10.4054/DemRes.2021.44.5">A decade of TFR declinessuggests no relationship between development and sub-replacementfertility rebounds</a> 。</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240322152039030.png"alt="image-20240322152039030" /><figcaption aria-hidden="true">image-20240322152039030</figcaption></figure><h4id="柳叶刀最新论文的分析与预测"><strong>《柳叶刀》最新论文的分析与预测</strong></h4><p>2024年3月20日，《柳叶刀》（TheLancet）上线了一篇论文，系统分析了全球204个国家和地区在1950-2021年生育率的变动情况，并对到2100年时的生育情景进行了预测。</p><figure><img src="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/gr1.jpg"alt="Figure thumbnail gr1" /><figcaption aria-hidden="true">Figure thumbnail gr1</figcaption></figure><p>⬆️《柳叶刀》论文对全球各区域TFR的记录与预测</p><p>关注紫色的Highincome走势，其TFR在2000-2021年之间，并未出现明显的逆转，并在2010年后显示出明显的下降。</p><p>这篇论文发现，从1950年-2021年，全球TFR降低了一半以上，从4.84降低到2.23，所有国家和地区的TFR都有所下降。2021年，有94个国家和地区的TFR保持在更替水平（2.1）以上，到2100年，这一数字将降低到6。预计到2050年，全球TFR将降至1.83，到2100年降至1.59。</p><p><strong>标题</strong>：Global fertility in 204 countries andterritories, 1950–2021, with forecasts to 2100: a comprehensivedemographic analysis for the Global Burden of Disease Study 2021</p><p><strong>作者</strong>：GBD 2021 Fertility and ForecastingCollaborators</p><p><strong>链接</strong>：<ahref="https://doi.org/10.1016/S0140-6736(24)00550-6">https://doi.org/10.1016/S0140-6736(24)00550-6</a></p><h3 id="号外">号外</h3><ul><li>推荐阅读：<ahref="https://ourworldindata.org/fertility-rate">Fertility Rate-How doesthe number of children vary across the world and over time? What isdriving the rapid global change?</a>（https://ourworldindata.org/fertility-rate）这篇综述文章有很多跨国数据的动态展示，很美观。也介绍了关于生育率下降的各方面原因，引用了很多重要的文献。作者MaxRoser为牛津大学Blavatnik School of Government教授，也是<ahref="https://www.oxfordmartin.ox.ac.uk/global-development/">OxfordMartin Programme on Global Development</a>项目主任，同时是<ahref="https://ourworldindata.org/">Our World inData</a>创始人之一。（求求了，都看到这里了，不去这个网站看一下综述真的很可惜！！🥹）</li><li>这篇论文的方法部分，用HDI=0.86作为临界点区分对照组和处理组，采取DID策略，感觉不合理；</li><li>Nature同期刊发了题为<ahref="https://www.nature.com/articles/460693a">Babies make acomeback</a>的评论文章；</li><li>论文里提到东亚富裕国家是高水平HDI与TFR关系的例外，值得关注；在某个网站看到女性说的“<strong>精神绝育</strong>”这个词，有深深地震撼到我。</li></ul><h3 id="原文信息">原文信息</h3><p>Myrskylä, M., Kohler, HP. &amp; Billari, F. Advances in developmentreverse fertility declines. <em>Nature</em> <strong>460</strong>,741–743 (2009). <ahref="https://doi.org/10.1038/nature08230">https://doi.org/10.1038/nature08230</a></p><iframe src="/myjs/pdfjs/web/viewer.html?file=/pdf/Nature-Advances in development reverse fertility declines.pdf" style="width:100%;height:800px"></iframe>]]></content>
    
    
    
    <tags>
      
      <tag>HIBL</tag>
      
      <tag>性别与婚育</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>AER-奴隶贸易和非洲不信任的起源</title>
    <link href="/2024/03/19/20240319-AER-%E5%A5%B4%E9%9A%B6%E8%B4%B8%E6%98%93%E4%B8%8E%E9%9D%9E%E6%B4%B2%E4%B8%8D%E4%BF%A1%E4%BB%BB%E7%9A%84%E8%B5%B7%E6%BA%90/"/>
    <url>/2024/03/19/20240319-AER-%E5%A5%B4%E9%9A%B6%E8%B4%B8%E6%98%93%E4%B8%8E%E9%9D%9E%E6%B4%B2%E4%B8%8D%E4%BF%A1%E4%BB%BB%E7%9A%84%E8%B5%B7%E6%BA%90/</url>
    
    <content type="html"><![CDATA[<blockquote><p>信任是经济发展的要素之一，对人和机构的不信任会阻碍合作与创新。在这项研究中，Nunn等确认历史上的奴隶贸易引起了非洲内部的不信任（Mistrust），这种不信任文化持续至今。</p></blockquote><p><strong>标题:</strong> The Slave Trade and the Origins of Mistrust inAfrica</p><p><strong>期刊:</strong> American Economic Review</p><p><strong>作者:</strong></p><ul><li>Nathan Nunn:土豆🥔大神，QJE主编之一，从哈佛跳槽到UBC了。本文是土豆大神作品中被引量最高的一篇。<ahref="https://nathannunn.arts.ubc.ca/">https://nathannunn.arts.ubc.ca/</a>，主页里有不少有意思的内容！</li><li>Leonard Wantchekon: James Madison Professor of Political Economy andProfessor of Politics and International Affairs, Princeton university.是一位非洲裔教授，祖籍是Benin（一个位于西非中南部的国家）。</li></ul><p><strong>出刊时间：</strong>December 2011</p><p><br/></p><h3 id="preface">Preface</h3><p>关于现代非洲国家的普遍不发达有很多种解释，Nunn大神2008年的QJE论文<strong><ahref="https://academic.oup.com/qje/article/123/1/139/1889789">TheLong-term Effects of Africa's SlaveTrades</a></strong>使用航运记录和历史奴隶贸易数据发现，一个国家历史上出口奴隶的数量与该国当今的经济表现存在强烈的负相关关系。但是，历史的奴隶贸易如何影响了当今的经济表现，其机制是什么，尚缺乏严密的证据。</p><p>良好的信任能促进合作并推动创新与经济发展，而不信任则对经济发展具有阻碍作用。AER这篇论文认为，历史上的奴隶贸易引起了非洲内部的群体不信任并持续至今，这可以作为奴隶贸易与非洲当今经济表现的解释机制之一。</p><p>这种不信任的来源是奴隶的获取方式：早期奴隶主要通过国家组织的突袭和战争来俘虏，但随着贸易的发展，不安全的环境渗透到个人层面，朋友、家人等都可能通过绑架、欺骗将对方卖为奴隶。这种被出卖的风险构成了不信任的经验法则，以文化的形式传承至今。</p><p>本文的不信任对应的原文是“Mistrust”，与“Distrust”有一些区别：</p><blockquote><p>"Mistrust"和"Distrust"这两个词在日常英语中可以互换使用，但它们之间还是有一些细微的差别：</p><ul><li><strong>Mistrust</strong>通常指的是基于某人或某事过去的表现而产生的不信任。这种不信任是建立在经验基础上的，意味着过去的行为使人对未来的可靠性或诚信产生怀疑。Mistrust更多的是关于直觉和情感的反应，可能没有明确的理由。</li><li><strong>Distrust</strong>则是一种更深层次的不信任，通常是基于具体的理由或证据的。它意味着强烈的信念，认为某人或某物是不可信的。Distrust可以是对某人诚信的怀疑，也可以是对信息或情况的怀疑，往往伴随着更多的分析和评估。</li></ul><p>总的来说，mistrust更多地涉及到一种基于<strong>情感</strong>和<strong>直觉</strong>的不确定感，而distrust则是一种更为<strong>理性</strong>和基于具体<strong>证据</strong>的不信任。</p></blockquote><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/Mistrust-vs-Distrust_27c5571306.jpg"alt="Mistrust vs. Distrust: Be Confident In Your Usage | YourDictionary" /><figcaption aria-hidden="true">Mistrust vs. Distrust: Be Confident InYour Usage | YourDictionary</figcaption></figure><h3 id="奴隶是如何被卖的">奴隶是如何被“卖”的</h3><ul><li>在奴隶贸易的早期，几乎所有的奴隶都是在<strong>大规模冲突</strong>或袭击中被带走的。这导致了当地社区内外的不安全环境；</li><li>当人成为商品：个人可以通过<strong>出卖</strong>他人来获利或保护自己，如通过欺骗、绑架或其他形式的小规模暴力，人们可以用奴隶与欧洲人或奴隶商人交换枪支和铁制武器；</li><li><strong>贩奴联盟</strong>：奴隶商人与村庄内的关键群体形成战略联盟，以获取奴隶，使得村庄、邻居和家人都不安全；甚至会以假装给他人提供庇护所的方式将他卖掉；</li><li>19世纪40年代的一位德国传教士和语言学家收集了居住在塞拉利昂的144名前奴隶的信息：超过40%的人是被绑架而成为奴隶，不到25%的人因为战争成为奴隶，近20%的人由亲戚或朋友出卖成为奴隶。在一些地区，甚至形成了将自己的亲属卖给奴隶商人的习俗；</li><li><strong>司法系统</strong>作为获取奴隶的渠道：通过指控他人（通常是家人）使用巫术、盗窃、通奸或谋杀等罪行获取奴隶，如果被判有罪，被告将被判处奴役；</li><li><strong>领导人作为奴隶贩子</strong>：酋长往往是奴隶贩子，不论是自愿还是被迫，经常会有将自己的人民出卖为奴隶的情况。（因此奴隶贸易也可能引发对政治人物的不信任）</li></ul><h3id="奴隶贸易的不信任如何成为一种文化">奴隶贸易的不信任如何成为一种文化</h3><ul><li><strong>人类学视角</strong>：文化是一种在不确定或复杂环境中行动的经验法则。有研究显示，如果信息获取的成本很高或不完备，那么个人根据经验法则行事可能是最佳的。人们可能不会在每种情况下都寻求最佳的行事方式，但人们会追求降低自己行事所需的信息成本，即通过经验法则行事往往是高效的（尽管不是在每种情况下都是最优）。不同的行事规则通过自然选择的过程演变而来，该过程由不同经验法则的相对收益决定。（体感就是说，如果信任别人可能导致自己被卖，那么在多种情况下，不信任别人都是一种简单有效的决策）</li><li><strong>文化规范与制度的互补说</strong>：个人可以从长辈那里继承一些文化规范，并通过投票等活动对政治制度的演进作出选择。不信任的文化会导致薄弱（weaker）的制度，薄弱的制度反过来又导致了糟糕的行为和更低的信任水平，陷入不信任的恶性循环；</li><li><strong>奴隶贸易本身的持久性</strong>：奴隶贸易持续了400多年，其后果的消散需要很长时间，文化变化是缓慢发生的。这一点有一些文献证据，如东德人比西德人更看好政府干预，两德统一后，东德人的态度慢慢向西德人靠拢。虽然战后德国分裂只持续了45年，但作者估计这种差异需要20-40年才能消弥；</li><li><strong>基因选择说</strong>：前面几种解释都是”文化学习“的路径，但也有可能，这种不信任是天生的。天生更容易信任他人的人，在奴隶贸易中有更大可能性被掳走，那么剩下的就是天生不容易信任他人的人。大量低互信水平的人留在了非洲，并持续至今。</li></ul><h3 id="数据与变量">数据与变量</h3><p><strong>个人层面数据</strong></p><ul><li>来源于非洲晴雨表，调查涵盖撒哈拉以南的17个非洲国家；</li><li>被解释变量：对亲戚、邻居和当地民选政府委员会的信任程度，对本族裔和外族裔的信任程度；分别为完全没有、只有一点点、有点、很多，回归中可以赋值为0-3，按有序变量处理。</li></ul><p><strong>种族层面数据</strong></p><ul><li>族群奴隶数量来自于Nunn(2008)构建的国家级奴隶出口数据，涵盖从1400-1900年非洲四次奴隶贸易（包括跨大西洋、跨印度洋、跨红海和跨撒哈拉）；将数据分解到种族层面；</li></ul><figure><imgsrc="https://www.un.org/sites/un2.un.org/files/2019/12/slave_trade_map_large.jpg"alt="img" /><figcaption aria-hidden="true">img</figcaption></figure><p>（⬆️1500-1900 年非洲奴隶贸易概述。图片来自联合国网站：<ahref="https://www.un.org/en/observances/decade-people-african-descent/slave-trade">InternationalDay of Remembrance of the Victims of Slavery and the Transatlantic SlaveTrade</a>）</p><ul><li>由于只有跨大西洋和跨印度洋的贸易有足够详细的种族数据，所以实证分析未考虑其他两种（跨红海和跨撒哈拉的贸易量较少，因此忽略这一部分影响不大）；</li><li>对于跨大西洋的奴隶贸易，Nunn收集了80656名已知种族的奴隶，涵盖229个种族；对于跨印度洋的奴隶贸易，Nunn收集了21048名奴隶，涵盖80个种族，分布如下图所示：</li></ul><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240318115249211.png"alt="image-20240318115249211" /><figcaption aria-hidden="true">image-20240318115249211</figcaption></figure><h3 id="实证部分">实证部分</h3><p><strong>基准回归</strong></p><ul><li>在被解释变量为对邻居的信任水平的回归中，不论解释变量为族群中被掳走的奴隶数量还是奴隶贸易强度（被掳走的人数/居住面积or历史人口），结果都显著为负；</li><li>奴隶贸易对亲戚、邻居、当地政府委员会、本族裔和外族裔的信任水平都有负向显著影响；</li></ul><p><strong>因果识别</strong></p><ul><li>控制族群历史上的居住地环境、殖民前繁荣度、定居模式等变量后，结果依然显著为负；</li><li>使用各族群居住地到海岸线的距离作为工具变量，维持了与基准回归一致的结论；</li><li>利用亚洲晴雨表的相关问题，并使用受访者位置到海岸线的距离作IV，发现结果不显著且没有现实意义，表明非洲的奴隶贸易才是构成不信任的原因。</li></ul><p><strong>机制分析</strong></p><ul><li>奴隶贸易对不信任的影响是通过文化传播的吗？奴隶贸易也可能导致了糟糕的制度，这些薄弱的制度也塑造了当今的不信任？</li><li>在模型中纳入受访者对政府议员和议会的态度，结果发现主要解释变量系数的绝对值下降了一半，但依然很显著，表明至少有一半的奴隶贸易与不信任的关系不能用地方议会可信度的恶化来解释（妙哇！！）；</li><li>将受访者族裔历史上被掳走的奴隶数量作为解释变量（以衡量文化的影响——内部渠道），同时纳入受访者当前居住地历史上的奴隶数量（作为制度的代理——外部渠道），两个变量的系数都显著为负，其中，内部渠道的系数更大，表明文化和制度作为机制都成立。</li></ul><h3 id="号外">号外</h3><ul><li>这篇文章的写作很友好，语言和逻辑都比较亲民；</li><li>这篇文章是截面数据因果推断的杰作，用pw的话说就是，replication的收益很高；文章对IV的使用、机制分析部分的操作，都很值得学习！</li></ul><h5 id="原文信息"><strong>原文信息</strong></h5><p>Nunn, Nathan, and Leonard Wantchekon. 2011. "The Slave Trade and theOrigins of Mistrust in Africa." <em>American Economic Review</em>, 101(7): 3221-52.<ahref="https://www.aeaweb.org/articles?id=10.1257/aer.101.7.3221">https://www.aeaweb.org/articles?id=10.1257/aer.101.7.3221</a></p><iframe src="/myjs/pdfjs/web/viewer.html?file=/pdf/AER-2011-The Slave Trade and the Origins of Mistrust in Africa.pdf" style="width:100%;height:800px"></iframe>]]></content>
    
    
    
    <tags>
      
      <tag>HIBL</tag>
      
      <tag>起源问题</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>JPE-家庭联产承包责任制引致了约100万女孩“消失”</title>
    <link href="/2024/03/12/20240312-JPE-%E5%AE%B6%E5%BA%AD%E8%81%94%E4%BA%A7%E6%89%BF%E5%8C%85%E8%B4%A3%E4%BB%BB%E5%88%B6%E5%BC%95%E8%87%B4%E4%BA%86%E7%BA%A6100%E4%B8%87%E5%A5%B3%E5%AD%A9%E2%80%9C%E6%B6%88%E5%A4%B1%E2%80%9D/"/>
    <url>/2024/03/12/20240312-JPE-%E5%AE%B6%E5%BA%AD%E8%81%94%E4%BA%A7%E6%89%BF%E5%8C%85%E8%B4%A3%E4%BB%BB%E5%88%B6%E5%BC%95%E8%87%B4%E4%BA%86%E7%BA%A6100%E4%B8%87%E5%A5%B3%E5%AD%A9%E2%80%9C%E6%B6%88%E5%A4%B1%E2%80%9D/</url>
    
    <content type="html"><![CDATA[<blockquote><p>中国在1980年代新生儿性别比失衡，然而当时的<strong>性别选择</strong>成本很高且总和生育率波动不大，什么原因导致了这一现象？</p><p>发表在JPE的这项研究认为1978-1984年中国农村<strong>家庭联产承包责任制</strong>改革引致了当时的新生儿性别比失衡，效果集中在一孩为姐姐的多孩家庭中。整体而言，家庭联产承包责任制改革可以解释约100万女孩的“消失”。作者在实证中排除了同期实施的独生子女政策的影响。</p></blockquote><p><strong>标题:</strong> Land Reform and Sex Selection in China</p><p><strong>期刊:</strong> <ahref="https://www.journals.uchicago.edu/toc/jpe/current">Journal ofPolitical Economy</a></p><p><strong>作者:</strong></p><ul><li>Douglas Almond：Professor of Economics and International and PublicAffairs, Columbia University. Focus Areas: Health Economics,Environmental Economics, Labor Economics, Public Policy.</li><li>Hongbin Li (李宏彬)：He is the Co-director of Stanford Center onChina's Economy and Institutions, and a Senior Fellow of StanfordInstitute for Economic Policy Research (SIEPR) and the Freeman SpogliInstitute for International Studies (FSI).</li><li>Shuang Zhang (张爽)：She is an Associate Professor of Economics atImperial College Business School. Her research interests are inenvironmental and energy economics, climate change, and genderinequality. She was a Postdoctoral Fellow in Stanford Institute ofEconomic Policy Research at Stanford University in 2012-13.</li></ul><p><strong>出刊时间：</strong> April 2019</p><p></br></p><h3 id="preface">Preface</h3><ul><li><strong>消失的女性</strong>（MissingWomen）：人类新生儿性别比的生物学标准约为1.05（男婴比上女婴），但许多亚洲和穆斯林国家的新生儿性别比显著高于这一数值，且从国家总人口看，也是男性高于女性。这表明，有许多女性由于<strong>人为选择</strong>的因素“消失”了。这一现象由诺贝尔经济学奖得主阿玛蒂亚·森提出并被称为“消失的女性”；有研究显示，全世界“消失的女性”超过1亿；</li><li>中国新生儿性别比由1978年的1.06上升到2000年的1.20。2020年“七普”数据显示，全国第一孩出生性别比为1.13，第二孩出生性别比为1.07，第三孩出生性别比为1.33；</li><li>已有研究显示，新生儿性别比失衡与性别选择成本的降低有关（如使用超声技术鉴定胎儿性别）。中国的新生儿性别比从1980年前后开始上升，而当时的性别选择成本很高。何种因素导致了那时中国新生儿性别比的失衡？</li></ul><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/fg1_online.jpeg"alt="img" /><figcaption aria-hidden="true">img</figcaption></figure><p>（也有研究认为经济发展导致的生育率下降与新生儿性别比失衡有关，而数据显示中国1980年前后人口总和生育率相对平稳。）</p><h3 id="核心假说">核心假说</h3><ul><li>这项研究中，作者提出1978-1984年中国农村<strong>家庭联产承包责任制</strong>改革（简称“土地改革”）引发了那时开始的新生儿性别比失衡；当时农村人口占比达86%；</li><li>确认这一假说，需要重点排除同期开始的<strong>计划生育</strong>政策的影响；（那时的计划生育可以被认为是“一胎化政策”或“独生子女政策”-OneChild Policy，<strong>OCP</strong>）；</li><li><strong>机制</strong>：<ul><li>家庭联产承包责任制主要通过<strong>收入机制</strong>影响家庭性别选择；</li><li>新生儿性别选择是如何做到的——<strong>坐火车去省城做B超</strong>。超声技术在1970年代被引入省会城市，结合超声机扩散到省会城市的数据和1980年铁路路网数据，发现有铁路与省会连接（且省会有超声机）时，家庭更有可能进行新生儿性别选择。</li></ul></li></ul><h3 id="政策背景">政策背景</h3><h4 id="家庭联产承包责任制"><strong>家庭联产承包责任制</strong></h4><ul><li>1978年后，中国政府启动了一些自上而下的改革以提高生产率，包括提高主要农作物采购价格、减少粮食采购配额、开放区域间贸易；这些政策被当时的领导人认为过于激进；</li><li>1978年底，安徽凤阳小岗村18位农民开启了分田到户的草根行动并取得了粮食产量的大幅增加。随后国家态度逐渐软化，1982年1月，中央一号文件确认包产到户、包干到户都是社会主义集体经济的生产责任制；</li><li>家庭联产承包责任制打破了农业集体化的路子，它将土地使用权长期授予个人家庭，显著促进了农业增长。</li></ul><h4id="农村地区的独生子女政策"><strong>农村地区的独生子女政策</strong></h4><ul><li>独生子女政策由1979年开始实施，如果违反了该政策会受到经济处罚；城市地区一直严格实行独生子女政策，但在农村地区，<strong>1984年之前</strong>生育两个孩子是被允许的。在1979-1983年，农村的家庭只有在生了三个或更多的孩子时才会受到处罚。后来，农村地区的独生子女政策被逐渐强化；</li><li>1979-1987年，中国的总和生育率为较为稳定。</li></ul><h3 id="数据">数据</h3><h4id="家庭联产承包责任制改革与独生子女政策的推开"><strong>家庭联产承包责任制改革与独生子女政策的推开</strong></h4><ul><li>两项政策在县级层面推开的信息来源于当地<strong>县志</strong>。作者将县志的数据与年鉴数据进行了比较，并使用<strong>本福特定律</strong>进行了检验，认为县志的记载比较可靠；</li><li>共收集了914个县的数据，占到当时有农业县数量的一半；</li><li>家庭联产承包责任制在县级开始实施的年份以该县的个别村开始实施包产到户的年份确定；</li><li>独生子女政策在县级实施的时间以县政府发布对超过规定的第三胎家庭实施处罚的政策文件年份确定。</li></ul><blockquote><p><strong>本福特定律</strong>(Benford'sLaw)：也称为首位数字定律，是一个关于在多种自然、社会和科学数据集中首位非零数字分布的观察。它指出，在许多自然出现的数据集中，较小的数字出现在首位的概率远大于较大的数字。具体来说，本福特定律表明，数字1作为首位数字的概率大约为30.1%，数字2作为首位数字的概率约为17.6%，以此类推，数字9作为首位数字的概率则大约为4.6%。这一定律最早由物理学家FrankBenford于1938年发现并分析说明，之后被广泛应用于鉴定会计数据是否被篡改、识别自然数据与人工数据等领域。其背后的数学原理是<strong>对数分布</strong>规律。虽然简单，但本福特定律被认为是数学中最神奇的几个应用之一。</p></blockquote><h4id="超声技术在省会城市的扩散"><strong>超声技术在省会城市的扩散</strong></h4><ul><li>从Chen et al. (2013)的研究中获得，也来源于县志；（这篇也是李宏彬老师的研究hh）</li><li>到1982年，只有4%的有农业县拥有超声机，但当时农村家庭联产承包责任制改革已近乎完成；</li><li>1965年，陕西西安有了第一台超声机；其他省会城市在1970年代后期开始有超声机。</li></ul><h4 id="新生儿性别比数据"><strong>新生儿性别比数据</strong></h4><ul><li><p>来源于1990年人口普查微观数据，涵盖前文提及的914个有农业县；使用1990年人口普查数据的一个好处是缓解了人口流动的影响；（当时人口流动受到严格限制，因此普查时出现居住地与出生地不同的情况很少；作者也排除了发生流动的家庭样本）</p></li><li><p>重点关注1974-1986年出生，1990年时在4-16年之间的个体；</p></li><li><p>样本包括所有至少有两个孩子的家庭的第二个孩子。在这项研究中，92%的35岁以上女性至少有两个孩子；</p></li><li><p>使用子女与户主的关系确定子女的<strong>性别</strong>；使用出生年月进行胎次<strong>排序</strong>；</p></li><li><p>没有考察多胞胎的家庭；</p></li><li><p>头胎男孩比例在土地改革前后稳定保持在0.51左右，没有变化；如果头胎是男孩，那么二胎为男孩的比例也没有变化，约为0.5；如果头胎是<strong>女孩</strong>，那么二胎为男孩的比例由土地改革前的0.53上升到之后的0.56。</p></li></ul><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/fg2_online.jpeg"alt="img" /><figcaption aria-hidden="true">img</figcaption></figure><p>（该图显示了家庭联产承包责任制改革、独生子女政策和超声技术的扩散）</p><h3 id="识别策略">识别策略</h3><h4 id="事件研究"><strong>事件研究</strong></h4><ul><li><strong>土地改革前后的人均粮食产量</strong>：下图横轴是一个地区开启农村家庭联产承包责任制改革的<strong>相对年份</strong>（而不是绝对年份）。可以发现，在土地改革之前，人均粮食产量平缓波动，而改革开启后，人均粮食产量的逐年增加；</li></ul><figure><img src="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/fg3.jpeg"alt="img" /><figcaption aria-hidden="true">img</figcaption></figure><ul><li><strong>土地改革前后的新生儿性别比</strong>：同样的，下图的横轴是相对年份。下图A是头胎性别比，可以发现土地改革前后，这一数值稳定在1.05的生物学标准附近，表明头胎中没有性别选择；下图B显示了二胎性别比在土地改革前后的变化：如果头胎是男孩，那么二胎的性别比在土地改革前后没有明显趋势；但如果头胎是女孩，那么二胎的性别比在土地改革后有显著连续增加，从1.1上升到1.3。</li></ul><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/fg4_online.jpeg"alt="img" /><figcaption aria-hidden="true">img</figcaption></figure><h4 id="计量模型"><strong>计量模型</strong></h4><p>为了评估一胎是女孩时，二胎性别比的斜率在土地改革后的变化，首先估计了以下<strong>趋势突变模型</strong>（trendbreak model）： <span class="math display">\[y_{ijt} = \alpha + \beta_1E_{jt}\times \text{GirlFirst}_{ijt} +\beta_2\text{Reform}_{jt}\times E_{jt}\times \text{GirlFirst}_{ijt} +\beta_{3}\text{GirlFirst}_{ijt} + \gamma_{jt} + \epsilon_{ijt} \quad(1)\]</span> 其中：</p><ul><li><span class="math inline">\(y_{ijt}\)</span> 是虚拟变量，<spanclass="math inline">\(i\)</span> 为家庭、<spanclass="math inline">\(j\)</span> 为出生县、<spanclass="math inline">\(t\)</span> 为出生年份，如果家庭 <spanclass="math inline">\(i\)</span> 的第二个孩子为男性，则 <spanclass="math inline">\(y_{ijt} = 1\)</span> ；</li><li><span class="math inline">\(E_{jt}\)</span>是事件时间，定义为出生年份减去改革年份；</li><li><span class="math inline">\(\text{GirlFirst}_{ijt}\)</span>是虚拟变量，当一胎是女孩时取1；</li><li><span class="math inline">\(\text{Reform}_{jt}\)</span>是虚拟变量，个体在土地改革之后出生则取1；</li><li><span class="math inline">\(\beta_2\)</span>测度了土地改革后二胎性别比（一胎为女孩）的平均斜率变化趋势，改革后 <spanclass="math inline">\(k\)</span> 年男孩比例的增加是 <spanclass="math inline">\(\beta_2 \times k\)</span> 。</li></ul><p>式（2）是对平均处理效应的估计： <span class="math display">\[y_{ijt} = \alpha + \beta_4\text{Reform}_{jt}\times\text{GirlFirst}_{ijt} + \beta_5\text{GirlFirst}_{ijt} + \gamma_{jt} +\epsilon_{ijt} \quad(2)\]</span> 其中，<span class="math inline">\(\beta_4\)</span>衡量了与一胎为男孩的家庭相比，一胎为女孩家庭的二胎性别比在土地改革后的平均增长。</p><h3 id="结果">结果</h3><h4 id="土地改革与性别比"><strong>土地改革与性别比</strong></h4><ul><li>Table 1的第一列显示，土地改革对一胎性别比的影响在统计学上不显著；</li><li>家庭联产承包责任制实施后，一胎为女孩家庭的二胎性别比每年增加了0.7个百分点，研究期土地改革的平均处理效应是3个百分点；这一效应在母亲受教育程度较高（完成小学教育）的家庭更大；</li></ul><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240311095831224.png"alt="image-20240311095831224" /><figcaption aria-hidden="true">image-20240311095831224</figcaption></figure><ul><li>文章还估计了土地改革对总体性别比的影响，为3.8%。从1978年到1986年，性别比由1.06增加到1.13，增幅为6.6%，所以土地改革对这一时期农村性别比增长的贡献约为58%。</li></ul><h4id="与独生子女政策效果的比较"><strong>与独生子女政策效果的比较</strong></h4><ul><li>第一列的结果显示，如果一个人是在独生子女政策之后出生的，那么独生子女政策对性别比的影响不显著（没有趋势突变）；</li><li>不管有没有实施独生子女政策，土地改革对二胎性别比的平均处理效应始终显著为正；</li><li>在研究期内，不管有没有实行土地改革，独生子女政策对二胎性别比的影响都是不显著的。</li></ul><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240311101705361.png"alt="image-20240311101705361" /><figcaption aria-hidden="true">image-20240311101705361</figcaption></figure><h4 id="土地改革与生育率"><strong>土地改革与生育率</strong></h4><ul><li>家庭联产承包责任制改革对总出生率和二胎出生率的影响都不显著；</li><li>独生子女政策使研究期内总出生率下降了3%；</li><li>第三列的结果显示，如果一个家庭第一个孩子为女孩，那么在独生子女政策下其生育第二个孩子的几率会增加17.3%。</li></ul><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240311102751658.png"alt="image-20240311102751658" /><figcaption aria-hidden="true">image-20240311102751658</figcaption></figure><h3 id="土地改革如何增加性别选择">土地改革如何增加性别选择</h3><ul><li>下表的交互项系数表明，如果省会有超声机器，那么土地改革对二胎性别比（一胎为女孩）的效果为正，此时如果该县有铁路与省会连接，那么效果会更大；</li></ul><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240311111101225.png"alt="image-20240311111101225" /><figcaption aria-hidden="true">image-20240311111101225</figcaption></figure><ul><li>作者还利用1992年联合国儿童基金会对中国儿童产后死亡率调查的数据进行了进一步分析，结果显示，如果一胎为女儿，那么二胎男孩的死亡率下降，但是二胎女孩的死亡率上升。这表明，<strong>父母似乎更多地将土地改革的红利给予了男孩</strong>，从而增加了存活二胎的性别比。</li></ul><h3 id="讨论">讨论</h3><ul><li>作者在文中检验了土地改革对性别选择可能的作用机制，结果显示，<strong>收入机制</strong>是最主要的。土地改革影响了一胎是女孩家庭的二胎性别选择，高学历家庭和土地改革后粮食产量增长更快的县更容易进行性别选择。作者还对（a）男孩生产率更高、（b）儿子有可能分得更多土地、（c）养儿防老、（d）土地改革降低了村庄卫生服务能力从而影响了女孩、（e）土地改革降低了村一级的管理权威从而使性别选择禁令的监督与实施受损、（f）土地改革放松了人口流动限制从而使农民更方便前往省会进行超声检查等可能的机制进行了<strong>粗略</strong>检验，没有发现能支持这些机制的证据。（严格地排除这些机制需要更多的数据，更严谨的分析）</li><li>在1970年代末到1980年代中期，家庭联产承包责任制改革导致了约100万女孩“消失”。</li></ul><h3 id="号外">号外</h3><ul><li>这篇文章的正文不长，但附录显示文章整体的工作量很大；</li><li>文章对独生子女政策混淆作用的处理蛮有借鉴意义；</li><li>除了JPE这篇，Nancy Qian的经典QJE论文（<ahref="https://doi.org/10.1162/qjec.2008.123.3.1251">Missing Women andthe Price of Tea in China: The Effect of Sex-Specific Earnings on SexImbalance</a>）也研究了家庭联产承包责任制对性别选择的影响，主要是收入机制。</li></ul><h5 id="原文信息"><strong>原文信息：</strong></h5><p>Almond, D., Li, H., &amp; Zhang, S. (2019). Land reform and sexselection in China. <em>Journal of Political Economy</em>,<em>127</em>(2), 560-585. <ahref="https://doi.org/10.1086/701030">https://doi.org/10.1086/701030</a></p><iframe src="/myjs/pdfjs/web/viewer.html?file=/pdf/JPE-2019-Land Reform and Sex Selection in China.pdf" style="width:100%;height:800px"></iframe>]]></content>
    
    
    
    <tags>
      
      <tag>HIBL</tag>
      
      <tag>性别与婚育</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>NC-“上山下乡”的准随机实验表明种水稻会让人更具集体主义精神</title>
    <link href="/2024/03/07/20240307-NC-%E2%80%9C%E4%B8%8A%E5%B1%B1%E4%B8%8B%E4%B9%A1%E2%80%9D%E7%9A%84%E5%87%86%E9%9A%8F%E6%9C%BA%E5%AE%9E%E9%AA%8C%E8%A1%A8%E6%98%8E%E7%A7%8D%E6%B0%B4%E7%A8%BB%E4%BC%9A%E8%AE%A9%E4%BA%BA%E6%9B%B4%E5%85%B7%E9%9B%86%E4%BD%93%E4%B8%BB%E4%B9%89%E7%B2%BE%E7%A5%9E/"/>
    <url>/2024/03/07/20240307-NC-%E2%80%9C%E4%B8%8A%E5%B1%B1%E4%B8%8B%E4%B9%A1%E2%80%9D%E7%9A%84%E5%87%86%E9%9A%8F%E6%9C%BA%E5%AE%9E%E9%AA%8C%E8%A1%A8%E6%98%8E%E7%A7%8D%E6%B0%B4%E7%A8%BB%E4%BC%9A%E8%AE%A9%E4%BA%BA%E6%9B%B4%E5%85%B7%E9%9B%86%E4%BD%93%E4%B8%BB%E4%B9%89%E7%B2%BE%E7%A5%9E/</url>
    
    <content type="html"><![CDATA[<blockquote><p>Talhelm等提出的<strong>水稻文化理论</strong>认为种植水稻需要高强度劳动力和相互依存的灌溉网络，这与小麦的个体劳作形式存在较大区别，这使得水稻区的人们更具集体主义精神。但水稻种植与集体主义精神之间的关系是<strong>因果性</strong>的还是<strong>相关性</strong>的，还需进一步澄清。</p><p>最新的研究中，Talhelm等利用“<strong>上山下乡</strong>”运动中人们被随机分配到两个可比的水稻和小麦农场的社会实验，发现种植水稻的人比种植小麦的人确实更具集体主义精神，且这种文化差异可以在一代人的时间内形成。</p></blockquote><p><strong>标题:</strong> People quasi-randomly assigned to farm riceare more collectivistic than people assigned to farm wheat</p><p><strong>期刊:</strong> <a href="https://www.nature.com/ncomms">NatureCommunications</a></p><p><strong>作者:</strong></p><ul><li>ThomasTalhelm，芝加哥大学布斯商学院副教授，行为科学家，对文化研究富有兴趣，特别关注中国人的文化心理。对水稻文化理论的系统化和发扬光大做出了卓越贡献；</li><li>Xiawei Dong，香港科技大学商学院博士生，组织行为学方向，与ThomasTalhelm有蛮多合作。</li></ul><p><strong>上线时间：</strong>27 February 2024</p><p><br/></p><h3 id="preface">Preface</h3><p>10年后，ThomasTalhelm和他的合作者带着最新的“水稻理论”研究又来了！</p><p>2014年，ThomasTalhelm联合北师大的学者们在Science上发文阐述水稻理论（<ahref="https://mp.weixin.qq.com/s/6hmSVn06zLBTMFL8Yl96ig">Science-南稻北麦：作物种植与中国南北方人群性格差异的起源</a>），认为水稻与小麦的种植差异导致了南北方人群的性格差异。水稻理论提供了一个简明的框架，引起了很大轰动，但其粗线条的解释也招致许多质疑，比如：</p><ul><li><ahref="https://mp.weixin.qq.com/s/S-5HW_I5vucfb3jY_wzRYg">思维方式也有南北之争？——中国人偏好整体思维最可能的内外因</a>（该文认为<strong>水患治理</strong>和<strong>五行学说</strong>是导致中国人偏向整体性思维的主因）</li><li><ahref="https://mp.weixin.qq.com/s/ETFrWe5eFytbg8oMexRMOQ">浙大管院阮建青副教授发文挑战《Science》杂志封面论文提出的“大米理论”</a>（该文认为Talhelm等人的抽样没有合理分层以及回归分析的设定有误，使用另外两套数据再分析的结果不支持水稻理论）</li></ul><p>这些质疑并未阻止水稻理论的传播和ThomasTalhelm对水稻理论的持续研究，10年间，他基于水稻理论开展了很多国际比较与中国国内比较，如：</p><ul><li><ahref="https://mp.weixin.qq.com/s/5NYn8NuzhtsQT1VCCEq8qQ">种水稻比种小麦更不幸福？|稻麦差异理论</a>（该文认为相较于历史上小麦种植区的居民，水稻种植区的居民感受到的幸福感更低）</li><li><ahref="https://mp.weixin.qq.com/s/rBQy2qydwTZ73Y16o4tdPQ">为了研究中国南北方人有啥不同，有个外国人在星巴克摆了把椅子</a>（该文发现对于挡道的椅子，北方人愿意挪开，而南方人更愿意绕开）</li><li><ahref="https://mp.weixin.qq.com/s/EV6gSS4FENB9QcxQdoScfA">传统的水稻种植社会具有更强的社会规范？</a></li></ul><p>这一次，利用“<strong>上山下乡</strong>”运动中人们被随机分配到两个可比的水稻和小麦农场的社会实验，Talhelm排除了温度、纬度以及中国北方和南方之间不同的许多历史事件的影响，为水稻理论提供了新的证据，使结果更加具有说服力！</p><h3 id="上山下乡运动作为准随机实验">上山下乡运动作为准随机实验</h3><h4 id="实验背景">实验背景</h4><p>新中国成立后，政府在全国各地创建了国营农场，以开辟新的农田，让退伍军人工作，并对城市青年进行再教育。在宁夏省北部，政府建立了两个相距仅56 公里的农场，一个种植水稻，一个种植小麦。</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/41467_2024_44770_Fig1_HTML.png"alt="img" /><figcaption aria-hidden="true">img</figcaption></figure><p>（两个国营农场相距仅56公里，但微小的地形差异使得<strong>连湖农场</strong>（上图的Ricefarm）可以种植水稻。相比之下，<strong>渠口农场</strong>的大部分土地都高于附近的黄河50-100米，大规模灌溉并不经济。渠口农场的土壤也比较沙质，这使得种稻田很难保水。图片来自谷歌地球。）（这个图画得真就是意思到了就行，美不美观无所谓hh）</p><p>连湖农场和曲口农场的环境几乎相同，温度、降雨量和面积都差不多，这使得两个农场构成了理想的实验组与对照组。</p><h4 id="随机性如何保证">随机性如何保证</h4><p><strong>排除样本自选择</strong>：</p><ul><li>历史资料及对农场管理者的访谈表明，政府在对连湖农场和渠口农场劳动人员的分配上是随机的，并不会去考虑个人的兴趣或观念。记录显示，这两个农场的劳动人员来源主要是：（a）政府指定的普通公民，（b）政府分配到该地区的退伍军人，或（c）文化大革命期间分配到宁夏的知青；</li><li>1960年，政府发起了<strong>支宁青年</strong>运动，位于水稻种植区的浙江省派遣了很多年轻人到宁夏参加这一运动。如果政府官员有意识地根据青年的技能或特质分配他们到哪个农场劳作的话，那么来自浙江省的青年应该会被大量安排到连湖农场种植水稻。但记录显示，被分配到两个农场的浙江青年人数几乎相同；</li><li>文化大革命期间有许多青年下乡，这个过程是仓促的，不会说经过深思熟虑将特定的人送到适合的地方。在本研究招募的234个被试农民中，只有一人出生在水稻种植区的省份。两个农场的绝大多数农民（&gt;99%）及其父母（98%）都来自以小麦为主的省份。</li></ul><p><strong>两个农场可比性的确认</strong>：</p><ul><li><strong>环境</strong>具有可比性：两个农场的温度、降雨量和面积都差不多；</li><li><strong>位置</strong>选择是随机的：政府推动创建国营农场的目标之一是开辟新的耕地。在创建连湖农场之前，该地区是一片“无人居住”的湿地，有72个湖泊；渠口农场的情况也差不多，建设农场之前大部分是没有耕种的土地，不适宜种水稻，土壤为沙漠土（灰钙土），干燥且缺乏养分（有机质&lt;1%），政府在渠口农场建设基础设施和使用化肥才使得渠口农场的土地变得可用。也就是说，这两个农场是建设在“白纸”上的，它们自身不具有因特定的农业活动而形成的某些特质，自然被试者也不会“继承”农场土地原有的文化；</li><li><strong>政策和管理</strong>的一致性：两个农场属于同一个农垦集团，有相同的激励机制，新政策出台时，两个农场也是同时收到的。</li></ul><h4 id="测量集体主义的心理学实验">测量集体主义的心理学实验</h4><p><strong>实验程序</strong>：</p><ul><li>在2017年9月和10月，与当地部门领导一起招募了234位农民作为被试。样本中的大多数农民（73.5%）都是在农场长大的，剩下大约四分之一的农民（26.5%）在童年后被分配到农场。几乎所有参与者(96.2%) 在研究当年都从事农业，其余的人则在农场从事行政工作；</li><li>完成任务和人口统计问题需要 30 到 40分钟，参与者获得一张30元手机充值卡或一罐家庭装洗洁精，农民在家中或办公室参加测试。</li></ul><p><strong>实验任务</strong>：</p><p>（与Science那篇相同，摘录过来了）</p><ul><li><strong>三元组实验</strong>（the triadtask）：也有称三合会任务，即向参与者展示三个项目，如火车、公共汽车和轨道，请其选两个进行配对。现有文献发现来自西方的个人主义文化群体更喜欢<strong>分析性</strong>的匹配，即火车和公共汽车；而东亚人更喜欢选择<strong>整体关系</strong>，即火车和轨道；</li></ul><p><img src="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240307125600744.png" alt="image-20240307125600744" style="zoom:50%;" /></p><ul><li><strong>社交图任务</strong>（the sociogramtask）：让参与者绘制自己的社交网络图，节点是一个个圆圈，表示自己和朋友，表示自己的圆圈常常与他人具有不同的大小。有研究发现，美国人画的自己比他人大约6毫米。欧洲人画的自己大约3.5毫米，而日本人画的自己略小；本研究在测试中发现让农民想起“朋友”挺难，最后改成让他们画家庭成员；</li></ul><p><img src="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240307125637405.png" alt="image-20240307125637405" style="zoom:50%;" /></p><ul><li><strong>忠诚度与裙带关系测试</strong>（the loyalty and nepotismtask）：衡量人们对待朋友和陌生人是否存在明确的区别。集体主义文化的特征是人们在朋友和陌生人之间划清界限。让被试者想象与a一个诚实的朋友、b一个不诚实的朋友、c一个诚实的陌生人、d一个不诚实的陌生人进行商业交易，诚实会导致被试赚钱，而不诚实会导致亏钱，在不同情境下，被试会花多少钱来惩罚或奖励他们。过去的实验发现新加坡人对朋友的奖励远远多于对他们的惩罚，这可以看作是一种忠诚。美国人比新加坡人更有可能因为朋友的不良行为而惩罚他们。本研究预测与小麦区相比，水稻区的人更不可能惩罚他们的朋友。（详细问卷可从论文的在线附件中找到）</li></ul><p><img src="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240307130647424.png" alt="image-20240307130647424" style="zoom:50%;" /></p><p><strong>分析方法</strong>：</p><ul><li>使用倾向得分匹配（Propensity score matching -PSM）进行回归分析。</li></ul><h3 id="实验结果">实验结果</h3><h4 id="基本结果">基本结果：</h4><ul><li>稻农在绘制社交图时较少自我膨胀，也就是说表示自己的圆圈更小；</li><li>稻农对陌生人的惩罚比麦农更严厉；</li><li>在三元组任务中，稻农对分类任务的思考比麦农更偏整体性（holistical），约90%的稻农选择了关系配对（如火车和轨道）；</li></ul><h4 id="当年不种水稻不影响结果">当年不种水稻不影响结果：</h4><ul><li>连湖农场（种水稻）提供了一个独特的机会来测试水稻和小麦的差异是否需要直接的、最近的水稻种植经验。2000年，稻田开始面临灌溉用水短缺的问题，因此启动了轮作计划，每年约有三分之一的农民种植<strong>旱地作物</strong>。在作者收集数据的那一年，大约三分之一(38.4%)的水稻农场参与者没有种植水稻。更重要的是，农民是按年轮换的，也就是说，这是自上而下安排的，均匀地适合所有农民，而不依赖于农民是否自我决定要参与；</li><li>在模型中加入最近耕作年份个人种植水稻的土地面积百分比，这一变量并不显著。也就是说，当年不种水稻不影响其集体主义性格的保持。</li></ul><h3 id="讨论">讨论</h3><ul><li>被试并不是真正地随机抽样选出的，为此作者在模型中加入一系列人口统计学变量、使用广义线性模型和PSM等方法缓解这一问题；</li><li><strong>水稻文化在一代人的时间内形成</strong>：前文提到，这两个农场的早期农民是上山下乡运动中过来的，他们及他们的父母绝大多数来自小麦产区，而农场建立至今约70年，几十年间的时间就使个体因种植水稻而显示出更强的集体主义精神。这两个农场提供了理想的实验环境，在连湖农场耕作的人们种植水稻，但不会接触到中国南方的氏族文化、方言和政府（这些因素可能会强化集体主义精神），可以认为，这种性格差异，单纯依赖水稻和小麦的种植差异就可以在一代人的时间内形成。</li><li><em>这项研究的数据提供了迄今为止最明确的证据，表明水稻种植是集体主义的一个原因，也许也是东西方差异的一个原因。</em>（作者原文）</li></ul><h3 id="号外"><strong>号外</strong></h3><ul><li>这个准随机实验的设计，简单但很妙，属于Big wow类型的研究！</li><li>之前看到一个学者说，政府的行政人员总是在有意无意间制造了很多准自然实验，利用历史事件和政策设计，社科学者可以将社会现实与自己感兴趣的问题结合起来开展研究。</li></ul><h3 id="原文信息"><strong>原文信息</strong></h3><p>Talhelm, T., &amp; Dong, X. (2024). People quasi-randomly assigned tofarm rice are more collectivistic than people assigned to farm wheat.<em>Nature Communications</em>, <em>15</em>(1), 1782.<ahref="https://www.nature.com/articles/s41467-024-44770-w">https://www.nature.com/articles/s41467-024-44770-w</a></p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240307130452948.png"alt="image-20240307130452948" /><figcaption aria-hidden="true">image-20240307130452948</figcaption></figure>]]></content>
    
    
    
    <tags>
      
      <tag>HIBL</tag>
      
      <tag>起源问题</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>AER-长期导向思维（短视）的农业起源</title>
    <link href="/2024/03/05/20240305-AER-%E9%95%BF%E6%9C%9F%E5%AF%BC%E5%90%91%E6%80%9D%E7%BB%B4%EF%BC%88%E7%9F%AD%E8%A7%86%EF%BC%89%E7%9A%84%E5%86%9C%E4%B8%9A%E8%B5%B7%E6%BA%90/"/>
    <url>/2024/03/05/20240305-AER-%E9%95%BF%E6%9C%9F%E5%AF%BC%E5%90%91%E6%80%9D%E7%BB%B4%EF%BC%88%E7%9F%AD%E8%A7%86%EF%BC%89%E7%9A%84%E5%86%9C%E4%B8%9A%E8%B5%B7%E6%BA%90/</url>
    
    <content type="html"><![CDATA[<blockquote><p>为什么世界上有些地区更具长期导向，而另一些地区更寻求即时回报？“现在就要，还是以后再要”，这种时间偏好的起源是什么？</p><p>OdedGalor等学者利用全球农作物潜在产量栅格数据和<strong>哥伦布交换</strong>的自然实验，发现农业投资自然回报的地理差异对不同社会的时间偏好分布产生了持续影响：有利于获得更高农业投资回报的前工业化农业特征引发了选择、适应和学习的过程，从而导致了长期导向的普遍存在。</p></blockquote><p><strong>标题:</strong> The Agricultural Origins of TimePreference</p><p><strong>期刊:</strong> American Economic Review</p><p><strong>作者:</strong></p><ul><li>Oded Galor: Herbert Goldberger Professor of Economics, BrownUniversity. Editor in Chief of the Journal of Economic Growth, thefounder of <ahref="https://en.wikipedia.org/wiki/Unified_growth_theory">unifiedgrowth theory</a>.</li><li>Ömer Özak: associate Professor at the Economics Department atSouthern Methodist University, with a Ph.D. from Brown University.</li></ul><p><strong>出刊时间：</strong> 10 October 2016</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240305152406895.png"alt="image-20240305152406895" /><figcaption aria-hidden="true">image-20240305152406895</figcaption></figure><h4 id="background"><strong>Background</strong></h4><ul><li><strong>时间偏好</strong>（timepreference）指个人或经济体对即时回报与将来回报的相对重视程度，通俗解释是“现在就要，还是以后再要”，被认为与个人发展、技术进步、人力资本积累和经济增长密切相关。时间偏好存在广泛的地理差异，有一些地区更能做到延迟满足和长期导向，有些地区则更易选择高时间偏好；</li><li><strong>延迟满足</strong>（delaygratification）是低时间偏好或<strong>长期导向</strong>的表现，指一种甘愿为更有价值的长远结果而放弃即时满足的抉择取向，以及在等待期中展示的自我控制能力。影响人们的储蓄、消费等<strong>跨期决策</strong>。心理学研究中，延迟满足被认为与一系列正向结果相关，如实验中表现出更好延迟满足能力的儿童，长大后在学业、职业、健康等多方面表现得更好；</li><li>时间偏好对经济发展有着重要影响，然而不同社会时间偏好差异的起源仍然不清楚。为什么有些社会更具长期导向，而有些社会更偏向短期主义？</li></ul><h4 id="核心解释"><strong>核心解释</strong></h4><ul><li>农业投资自然回报的地理差异对不同社会的时间偏好分布产生了持续影响；</li><li>如果一个地区的农业气候条件能培育出产量更高的作物（在给定的生长期内），那么该地区的农民就会加大农业投资。对长期农业投资回报的有益经验通过选择、适应和学习等途径传播下去并延续至当代，使该地区更具长期导向；</li><li>机制：长期导向的经验通过<strong>文化</strong>途径向后代传递。</li></ul><h4id="马尔萨斯时期时间偏好演变的基本要素"><strong>马尔萨斯时期时间偏好演变的基本要素</strong></h4><ul><li><strong>职业选择</strong>：具有长期导向的个体选择了回报更高但延迟满足的农业活动；本文的模型中区分了两种农业生产模式，作者称之为禀赋型生产模式和投资型生产模式：<ul><li><strong>禀赋型生产模式</strong>（endowmentmodel）：利用现有土地和资源进行农业活动，主要是狩猎、采集、布局、放牧和自给农业（收获在当下）；</li><li><strong>投资型生产模式</strong>（investmentmodel）：如谷物种植农业，其投入与回报之间具有时间差，且回报时的收益系数比禀赋型高，具有延迟满足的特性；</li></ul></li><li><strong>学习</strong>：具有长期导向个体进行的农业投资有利可图，这强化了他们的延迟满足能力；</li><li><strong>生育</strong>：具有长期导向的个体拥有更优越的经济条件，使得他们拥有更高的繁衍后代的成功率；</li><li><strong>代际传递</strong>：由于长期导向个体的生育成功率更高，人口中长期导向个体的比例随时间增加。</li></ul><blockquote><p>因此，从长远来看，农业投资回报率较高的社会也具有较高的长期导向。</p></blockquote><h4 id="data-and-empirical-strategy"><strong>Data and EmpiricalStrategy</strong></h4><h5 id="因果识别挑战"><strong>因果识别挑战</strong></h5><ul><li><strong>反向因果</strong>：长期导向可能会影响技术选择并进一步影响作物产量，即不是作物产量高（农业投资回报高）引致了长期导向，而是长期导向的群体通过技术改进等渠道提高了作物产量；通过使用基于农业气候条件的地区潜在作物产量（而非实际产量）数据缓解这一问题；</li><li><strong>遗漏变量</strong>：地理、制度、文化或人类特征等因素可能决定了群体的长期导向，并与潜在作物产量相关；通过控制地理特征、大陆固定效应、个体特征、国家固定效应缓解这一问题；</li><li><strong>农业气候特征可能直接影响了当代的时间偏好</strong>：过去有助于高投资回报的农业气候特征可能直接影响了当代的农业实践和时间偏好，并进一步影响了经济发展，即机制是农业气候条件的直接作用而非作者认为的“文化”途径。利用哥伦布交换（ColumbianExchange）作为自然实验，考察1500年前的潜在产量对长期导向的影响，缓解这一问题；</li><li><strong>具有长期导向的群体可能会移民到高农业投资回报的地区</strong>：考察在同一国家的不同来源国的二代移民的时间偏好，如居住在美国的父辈分别为英国和中国的移民，他们都生活在美国，这保持了相同的制度、地理和文化环境，差别在于来源国不同，使得机制被确认为<strong>代际文化传递</strong>。</li></ul><blockquote><p><strong>哥伦布交换</strong>作为自然实验：1500年前后，大航海的影响迅速扩充了一个地区可以耕种的作物种类，这样以哥伦布交换为界可以划分两个潜在最高产量。在作为自然实验的情境中，假设新引入的作物带来的潜在作物产量和生长周期的变化是随机分配的，而这种随机性意味着变化独立于任何其他可能影响产量的地区特征。这样，研究者可以更有信心地将观察到的结果（如人口密度的变化、经济发展、技术采纳等）归因于作物产量和生长周期的变化，而不是其他未观察到的变量。</p><p>哥伦布交换（ColumbianExchange）是指在哥伦布发现美洲之后，新大陆与旧大陆（欧洲、非洲和亚洲）之间开始的广泛的生物和文化交流。这一交换不仅仅包括商品和作物，还包括动植物、疾病和技术等的传播。在农业方面，哥伦布交换导致了优良作物的跨洲转移。例如，马铃薯和番茄从美洲传入欧洲，而小麦和大米则从欧洲和亚洲传入美洲。这些新引入的作物往往提高了当地的农业产量，改变了人们的饮食结构和农业实践，也间接影响了当地的社会结构和经济发展。</p></blockquote><h5 id="main-data"><strong>Main Data</strong></h5><ul><li>因变量：<ul><li>长期导向水平：分为国家、地区和个体层面，主要来源于Hofstede等构建的数据，还包括欧洲社会调查（ESS）、世界价值观调查（WVS）中关于长期导向的数据。在已有研究中，Hofstede将长期导向定义为一种文化价值观，代表着培养面向未来回报、坚持不懈和节俭的品质；以分数表示；</li><li>储蓄、吸烟行为：来源于欧洲社会调查（ESS）、综合社会调查（GSS）；</li><li>技术采用：来自标准跨文化样本的种族水平数据，是二分变量；</li><li>人口密度：1500年每平方公里人口数量，来源于McEvedy and Jones(1978)的数据。</li></ul></li><li>自变量：<ul><li>作物产量：<strong>潜在</strong>最高产量，以单位时间单位面积的热量衡量，而非实际的以重量衡量的作物产量。潜在作物产量的计算基于早期耕作方法和农业气候条件，数据来源于联合国粮农组织的GlobalAgro-Ecological Zones (GAEZ) 项目，源数据是5‘ x5’的栅格尺度（回忆一下高中地理，球面大圆经纬度1度=111km，1度=60‘，5’约为9.25km，5‘x 5’的栅格数据约为85.56 km<sup>2</sup>，原文说约为100km<sup>2</sup>，不太严谨了哈）；公元 1500年之前潜在作物产量的跨国分布范围为 0.5 至18（每年每公顷数百万千卡路里），平均值为 7.2，标准差为 3.2；</li><li>作物生长周期：同样来源于GAEZ项目，为给定情境下作物最高热量的生长周期；公元1500年前作物生长周期的分布平均值为134天，标准差为18天，范围在80至199天之间。</li></ul></li></ul><blockquote><p>作物产量和成长周期及其变化的数据，皆分成1500年之前和1500年之后两组。</p><p>作者在本文的onlineappendix里详细解释了各类变量的构造和数据来源，感兴趣的小伙伴可下载查看。</p></blockquote><h4 id="results"><strong>Results</strong></h4><ul><li>国家层面的分析：在考虑了一系列地理要素后，结果显著为正，作物产量每增加一个标准差，长期取向就会增加9.5 个百分点；利用哥伦布交换的实验设计，结果保持不变；</li><li>二代移民的数据：长期导向方面，结果依然显著，原籍国 1500年之前的作物产量提高一个标准差，第二代移民的长期导向水平就会提高 2-6个百分点；<strong>储蓄</strong>行为方面， 1500年之前的作物产量提高一个标准差，储蓄的可能性会提高2-8个百分点，作物产量对储蓄行为的影响是由长期导向调节的；<strong>吸烟</strong>行为方面，原籍国1500年之前的作物产量高一个标准差，个体成为习惯性吸烟者的可能性就会降低 4个百分点；</li><li>世界价值观调查的数据：公元 1500年之前的作物产量每增加一个标准差，个体长期导向的可能性就会增加 3.2个百分点；将数据汇总到区域层面以减轻人口迁移带来的影响，结果保持稳健；</li><li>其他结果：祖先人口在1500年前暴露于更高作物产量和更短生长周期的社会，以及那些在1500年后暴露于产量大幅增加和生长周期缩短的社会，采用主要技术革新的概率更高；人口密度的系数亦为正显著（附表B21）。</li></ul><h4 id="号外"><strong>号外</strong></h4><ul><li><em>“Patience is bitter, but its fruit issweet.”</em>——<em>Aristotle</em> 这句引子出现在本文的workingpaper版本中；</li><li>这篇文章的工作量好大，整理了好多数据；作者的语言高度凝练，我读起来好困难；</li><li>在关于xxx的农业起源研究中，利用外生的潜在作物产量or作物种植适宜性指数作为主要解释变量或IV，是一种常见的做法了；</li><li><strong>二代移民</strong>数据真好用，用来论证“文化和代际传递作为机制”屡试不爽！</li></ul><h4 id="原文信息"><strong>原文信息</strong></h4><p>Galor, Oded, and Ömer Özak. 2016. "The Agricultural Origins of TimePreference." <em>American Economic Review</em>, 106 (10): 3064-3103.<ahref="https://www.aeaweb.org/articles?id=10.1257/aer.20150020">https://www.aeaweb.org/articles?id=10.1257/aer.20150020</a></p><iframe src="/myjs/pdfjs/web/viewer.html?file=/pdf/AER-2016-The Agricultural Origins of Time Preference.pdf" style="width:100%;height:800px"></iframe>]]></content>
    
    
    
    <tags>
      
      <tag>HIBL</tag>
      
      <tag>起源问题</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Science-南稻北麦：作物种植与中国南北方人群性格差异的起源</title>
    <link href="/2024/02/27/20240227-Science-%E5%8D%97%E7%A8%BB%E5%8C%97%E9%BA%A6%EF%BC%9A%E4%BD%9C%E7%89%A9%E7%A7%8D%E6%A4%8D%E4%B8%8E%E5%8D%97%E5%8C%97%E6%80%A7%E6%A0%BC%E5%B7%AE%E5%BC%82%E7%9A%84%E8%B5%B7%E6%BA%90/"/>
    <url>/2024/02/27/20240227-Science-%E5%8D%97%E7%A8%BB%E5%8C%97%E9%BA%A6%EF%BC%9A%E4%BD%9C%E7%89%A9%E7%A7%8D%E6%A4%8D%E4%B8%8E%E5%8D%97%E5%8C%97%E6%80%A7%E6%A0%BC%E5%B7%AE%E5%BC%82%E7%9A%84%E8%B5%B7%E6%BA%90/</url>
    
    <content type="html"><![CDATA[<blockquote><p>中国南北方人存在显著的心理差异，如常常认为南方人更偏好<strong>整体思维</strong>和<strong>集体主义</strong>，而北方人更倾向<strong>分析思维</strong>和<strong>个人主义</strong>。这种差异也常常被认为是东西方差异。这种群体性格差异的起源是什么呢？</p><p>Talhelm提出<strong>水稻文化理论</strong>，认为种植水稻需要群体性的灌溉协作，这与小麦的个体劳作形式存在较大区别，正是这种差异导致了南北方人群的性格差异。利用基于水稻区和小麦区的实地试验（关于整体思维与个人主义的心理学实验）和统计数据（离婚率、发明专利），Talhelm确认了水稻文化理论的解释力是因果性的。</p></blockquote><p><strong>标题:</strong> Large-Scale Psychological Differences WithinChina Explained by Rice Versus Wheat Agriculture</p><p><strong>期刊:</strong> Science</p><p><strong>第一作者:</strong></p><ul><li>ThomasTalhelm，芝加哥大学布斯商学院副教授，行为科学家，对文化研究富有兴趣，特别关注中国人的文化心理。对水稻文化理论的系统化和发扬光大做出了卓越贡献。</li></ul><p><strong>上线时间：</strong>9 May 2014本文系第一作者读博期间在中国交流的工作。</p><p><br/></p><p><strong>Background:</strong></p><ul><li>东西方人群的性格差异是广泛存在的，心理学认为西方文化更注重个人主义和分析思维，东亚文化则更注重集体主义和整体思维；</li><li><strong>分析思维</strong>，指注重抽象概念和形式推理的思维方式，如“不矛盾的逻辑定律”，若A为真，则非A为假；<strong>整体思维</strong>，使用直观性的方式思考问题，若A为真，非A也可能为真；</li><li>这种思维差异不仅体现在东西方，也体现在东亚内部，如中国南北方。</li></ul><p><strong>竞争性解释:</strong></p><ul><li><strong>生存方式理论</strong>（the subsistence styletheory）：某些形式的生存方式（如农业）比其他方式更需要相互依赖。如放牧的独立性和流动性使牧民更具个人主义，而定居农业的稳定性和高劳动力需求使得农业文化更具集体主义；<ul><li>这一理论具备一定的解释力，但是它将不同的定居农业混为一谈；同样是种植业，水稻和小麦的种植存在很大不同；</li><li>生存方式理论在解释东西方差异时具有很大局限性，因为西方很多地区也是定居农业，如欧洲也普遍种植小麦（或大麦）；</li></ul></li><li><strong>现代化假说</strong>（the modernizationhypothesis）：随着社会变得富裕、民众受教育程度提高和资本主义程度加深，人们会变得更加个人主义和具有分析思维；<ul><li>这一理论在世界价值观调查以及土著玛雅人向市场经济过渡的研究中得到支持；</li><li>但该理论难以解释日本、韩国、香港在人均GDP已经高于欧盟的情况下，为什么仍然坚持集体主义？</li></ul></li><li><strong>病原体流行理论</strong>（the pathogen prevalencetheory）：传染病高流行率使得与陌生人打交道变得危险，因此这些地区更保守更注重集体主义；<ul><li>病原体流行与热量有关，而水稻也生长在热带、亚热带，病原体理论可能掩盖了背后水稻种植的因素。</li></ul></li></ul><p><strong>水稻理论:</strong></p><ul><li>复杂灌溉网络的建立需要集体协作；</li><li>由于灌溉的网络特征，参与者的用水行为具有外部性，因此不同家庭需要协调用水；</li><li>灌溉网络的疏浚、维护，往往由村庄执行，而不是落在孤立的个体身上；</li><li>证据显示种植水稻所需的劳动时间至少是小麦的两倍；</li><li>水稻种植存在窗口期的劳动力交换：农民会协调播种日期，以便不同家庭在不同时间收获，留出相互帮忙的窗口期；（“<strong>双抢</strong>”，抢收抢种hh）</li></ul><blockquote><p>相比之下，小麦的种植需要劳动力时间小，且更依赖天然降雨，协作需求更低。</p><p>先前的EJ推文更加详细地比较了水稻与小麦的种植差异，并补充了可执行的惩罚使集体协作得以生效这一重要机制。详见：<ahref="https://yuzhang.net/2024/02/14/20240212-EJ-%E6%B0%B4%E7%A8%BB%E7%A7%8D%E6%A4%8D%E4%B8%8E%E5%90%88%E4%BD%9C%E8%A1%8C%E4%B8%BA%E7%9A%84%E8%B5%B7%E6%BA%90/">EJ-水稻种植与合作行为的起源</a>。</p></blockquote><p><strong>基于中国的自然实验:</strong></p><p>中国南北方是很好的实验对象，以长江为界，长期以来北方种植小麦更多，南方种水稻更多。</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/344_603_f1.jpeg"alt="img" /><figcaption aria-hidden="true">img</figcaption></figure><p>1996年稻田耕地面积百分比⬆️</p><ul><li>皖北更多是小麦县，而皖南是水稻主导；</li><li>中国南北的对照试验保持了两组具有相同的制度背景。</li></ul><p><strong>实验与数据:</strong></p><ul><li><strong>三元组实验</strong>（the triadtask）：也有称三合会任务，即向参与者展示三个项目，如火车、公共汽车和轨道，请其选两个进行配对。现有文献发现来自西方的个人主义文化群体更喜欢分析性的匹配，即火车和公共汽车；而东亚人更喜欢选择整体关系，即火车和轨道；</li><li><strong>社交图任务</strong>（the sociogramtask）：让参与者绘制自己的社交网络图，节点是一个个圆圈，表示自己和朋友，表示自己的圆圈常常与他人具有不同的大小。有研究发现，美国人画的自己比他人大约6毫米。欧洲人画的自己大约3.5毫米，而日本人画的自己略小；</li><li><strong>忠诚度与裙带关系测试</strong>（the loyalty and nepotismtask）：衡量人们对待朋友和陌生人是否存在明确的区别。集体主义文化的特征是人们在朋友和陌生人之间划清界限。让被试者想象与a一个诚实的朋友、b一个不诚实的朋友、c一个诚实的陌生人、d一个不诚实的陌生人进行商业交易，诚实会导致被试赚钱，而不诚实会导致亏钱，在不同情境下，被试会花多少钱来惩罚或奖励他们。过去的实验发现新加坡人对朋友的奖励远远多于对他们的惩罚，这可以看作是一种忠诚。美国人比新加坡人更有可能因为朋友的不良行为而惩罚他们。本研究预测与小麦区相比，水稻区的人更不可能惩罚他们的朋友。</li></ul><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/344_593_f1.jpeg"alt="img" /><figcaption aria-hidden="true">img</figcaption></figure><p>（Science同期刊发了一篇PERSPECTIVE，⬆️配图来自此篇评论：<ahref="https://www.science.org/doi/10.1126/science.1253815">Rice,Psychology, and Innovation</a>）</p><ul><li>其他数据：省级离婚率（认为个体主义盛行的地区离婚率更高）、发明专利数量（认为个人主义和分析思维主导的地区具有更多的发明专利）、其他数据。</li></ul><p><strong>Results:</strong></p><ul><li>水稻理论成功解释了南北方整体思维与个人主义的形成。来自稻田占比更多省份的人们更具整体思维；精确到四川、重庆、湖北、安徽和江苏的县时，结果仍然显著；</li><li>排除了现代化假说与病原体流行理论的竞争性解释：现代化假说认为越不发达的地区人们更具整体思维，但回归结果中，人均GDP的系数为正，发达地区的人们更具整体思维；病原体流行理论认为疾病发病率更高的省份更具整体思维，但回归结果显示，高发病率地区实际上整体思维更少（回归系数为负，将历史发病率精确到被试者所在的县，结果保持稳健）；</li><li>社交图任务的结果里，来自水稻区的人们更有可能把表示自己的圆圈画得比朋友的小，而来自小麦区的人们画的表示自己的圆圈比朋友的大1.5毫米；（在这项分析中，也排除了现代化假说和病原体流行理论的解释）</li><li>在忠诚度与裙带关系的测试中，来自水稻区的人们更多地奖励他们的朋友（更少地惩罚朋友）；水稻区和小麦区的人们对待陌生人没有差异；</li><li>水稻区的离婚率更低、发明专利更少（提供了实验之外的证据）；</li><li>利用水稻种植的气候适宜性作为工具变量，结果依然稳健（缓解反向因果问题，即不是因为整体思维而偏好种植水稻）。</li></ul><p><strong>讨论：</strong></p><ul><li>水稻理论还对日本、韩国等地区已经迈入发达行列却仍具有深厚的整体思维这一现象具有解释力；</li><li>水稻也可以在旱地种植，这具有更低的用水和协作需求，如此，需要进一步探究灌溉在南北差异形成中的作用；</li><li>机制是什么？水稻理论提供了起点，但没有提供过程，机制是价值观、制度还是其他？需要进一步明确；（在<ahref="https://yuzhang.net/2024/02/14/20240212-EJ-%E6%B0%B4%E7%A8%BB%E7%A7%8D%E6%A4%8D%E4%B8%8E%E5%90%88%E4%BD%9C%E8%A1%8C%E4%B8%BA%E7%9A%84%E8%B5%B7%E6%BA%90/">EJ-水稻种植与合作行为的起源</a>里，作者提出了验证机制的一种思路，即通过挖掘民间故事和歌曲的文本，来寻找价值规范是如何传承的（<ahref="https://doi.org/10.1093/qje/qjab003">Folklore</a>，QJE2021））</li><li>水稻效应能持续多久？在大多数人不进行农业实践的工业化时代，水稻效应（整体思维和集体主义）还会存续多长时间？</li><li>在Science同期的评论文章里，评论人Henrich教授提到水稻理论可能有助于解释为什么中国11世纪工业革命的星火被扼杀：因为北方（蒙古）入侵和气候变化将人们驱赶到南方稻田地区，那里的氏族具有生态优势，以及国家级政治和法律机构的出现加强了氏族的权力（<ahref="https://www.aeaweb.org/articles?id=10.1257/aer.100.2.135">AER</a>，2010）。</li></ul><p><strong>号外:</strong></p><ul><li>这个作者挺有意思的，十年过去了，他还在研究水稻理论，包括水稻理论与幸福感、COVID-19时期感染率、口罩遵从的联系等。他的主页纪录了许多有趣的工作：<ahref="https://thomastalhelm.weebly.com/">https://thomastalhelm.weebly.com/</a>；</li><li>水稻理论成为<ahref="http://www.jareddiamond.org/Jared_Diamond/Geographic_determinism.html">地理环境决定论</a>的支持证据之一；</li><li>关于整体思维中的“矛盾相容”，我也常常能感觉到这一点。许多时候在与朋友的谈话或看到的文献中，能感受到冲突观点的并存，一种辩证法式的既要又要。但许多时候，我们必须要做出选择，放弃另一个。</li><li>ThomasTalhelm今天（2024年2月27日）刚好在北师大有讲座，讲了他10年间关于水稻理论的一些研究，下面是一些现场图：</li></ul><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/WechatIMG325.jpeg"alt="WechatIMG325" /><figcaption aria-hidden="true">WechatIMG325</figcaption></figure><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/WechatIMG324.jpeg"alt="WechatIMG324" /><figcaption aria-hidden="true">WechatIMG324</figcaption></figure><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/WechatIMG323.jpeg"alt="WechatIMG323" /><figcaption aria-hidden="true">WechatIMG323</figcaption></figure><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/WechatIMG322.jpg"alt="WechatIMG322" /><figcaption aria-hidden="true">WechatIMG322</figcaption></figure><p><strong>原文信息：</strong></p><p>Talhelm, T., Zhang, X., Oishi, S., Shimin, C., Duan, D., Lan, X.,&amp; Kitayama, S. (2014). Large-scale psychological differences withinChina explained by rice versus wheat agriculture. <em>Science</em>,<em>344</em>(6184),603-608.https://www.science.org/doi/10.1126/science.1246850</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240226204334829.png"alt="image-20240226204334829" /><figcaption aria-hidden="true">image-20240226204334829</figcaption></figure>]]></content>
    
    
    
    <tags>
      
      <tag>HIBL</tag>
      
      <tag>起源问题</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>QJE-妇女与犁：犁耕农业与妇女性别角色的起源</title>
    <link href="/2024/02/20/20240220-QJE-%E5%A6%87%E5%A5%B3%E4%B8%8E%E7%8A%81%EF%BC%9A%E7%8A%81%E8%80%95%E5%86%9C%E4%B8%9A%E4%B8%8E%E5%A6%87%E5%A5%B3%E6%80%A7%E5%88%AB%E8%A7%92%E8%89%B2%E7%9A%84%E8%B5%B7%E6%BA%90/"/>
    <url>/2024/02/20/20240220-QJE-%E5%A6%87%E5%A5%B3%E4%B8%8E%E7%8A%81%EF%BC%9A%E7%8A%81%E8%80%95%E5%86%9C%E4%B8%9A%E4%B8%8E%E5%A6%87%E5%A5%B3%E6%80%A7%E5%88%AB%E8%A7%92%E8%89%B2%E7%9A%84%E8%B5%B7%E6%BA%90/</url>
    
    <content type="html"><![CDATA[<blockquote><p>妇女在社会中应该扮演什么样的角色？在一些文化中，女性和男性一样可以自由参与家庭以外的事务，而另一些社会认为女性应该待在家里。这种女性性别角色差异的起源是什么？</p><p>Boserup在其1970年出版的著作中提出前工业化时期的农业实践塑造了性别角色的起源，即犁耕农业使得“男主外、女主内”。本文的三位作者确认了这一关系具有因果性。通过比较现今处于同一国家的不同农耕历史移民的性别观念差异和劳动参与状况，他们的研究还表明，历史上农业实践对性别观念的影响持续至今。</p></blockquote><p><strong>标题:</strong> On the Origins of Gender Roles: Women and thePlough</p><p><strong>期刊:</strong> The Quarterly Journal of Economics</p><p><strong>作者:</strong></p><ul><li>AlbertoAlesina，哈佛大学教授，在政治经济学等领域有重要贡献，被认为是经济学诺奖的有力候选人，在2020年心脏病发不幸离世，Googlescholar H指数高达141；</li><li>Paola Giuliano，UCLA Anderson School of Management教授，在性别、家庭、移民等领域有诸多工作；</li><li>Nathan Nunn，土豆大神yyds，QJE主编之一。</li></ul><p><strong>上线时间：</strong>14 May 2013</p><p><br/></p><p><strong>Background:</strong></p><ul><li>妇女在社会中的自然角色是什么样的，不同的社会存在不一样的回答。为什么会有这样的差异？或者说，不同社会的性别平等状况差异起源于什么？</li><li>不同社会的性别规范差异有时很大，如世界价值观调查中“当工作机会稀缺时，男性应该比女性拥有更多的工作权利”，同意这一说法的受访者比例在不同社会中差距较大，在冰岛仅为3.6%，而在埃及达到了99.6%。</li><li>Boserup在其1970年出版的著作中提出：前工业时期的农业实践差异塑造了性别角色的起源。在犁耕农业为主的社会，性别不平等的状况更严重。</li></ul><p><strong>Aims:</strong></p><ul><li>结合人类学、自然地理学、价值观测量、经济活动等数据，分析犁的使用与性别平等观念的关系；</li><li>解决可能的反向因果问题与竞争性假说对因果关系的挑战；</li><li>确认机制是什么、有哪些？来源于犁耕农业的性别规范仅通过文化本身传承，还是说犁的使用也通过影响家庭以外的机构、政策和市场进一步影响了性别角色？</li></ul><p><strong>犁耕农业的特点:</strong></p><ul><li>需要很大的上半身力量，包括握力、爆发力等；</li><li>需要使用动物、控制动物，工作中不能随时中断；</li><li>平整土地的工作占到农业活动的三分之一左右，这一活动在室外进行；</li><li>使用犁耕的时候，除草的需求较低，此时女性更容易待在家里（照顾孩子）。</li></ul><blockquote><p>以上这些特征使得犁耕社会中男性处于劳动优势。与犁耕农业（ploughcultivation）相对的是轮作种植（shiftingcultivation），轮作种植主要使用锄头、铲子等，对力量的需求更低，女性可以更多参与户外劳作。</p></blockquote><p><strong>社会性别规范传承的可能路径:</strong></p><ul><li>性别不平等的文化规范为政策、法律、制度所强化，如设定了不平等的财产权、投票权和育儿假的制度；</li><li>这一文化规范也可能与产业结构形成互促，如性别不平等的社会更可能发展出资本密集型的产业，资本密集型的产业反过来又使得维持性别不平等具有更低的相对成本，从而使不平等的性别观念永久化；</li><li>路径依赖：性别规范构成了一种决策经验，如果以往的经验表明这种性别角色的安排在实践中是有效的，那么后续决策中也沿用这种安排（更省事）。</li></ul><p><strong>Data:</strong></p><ul><li>犁的使用与其他数据：<ul><li>来源于Murdock构造的全球民族志地图集，与“<ahref="https://yuzhang.net/2024/01/22/20240122-EJ-%E6%97%A5%E9%A3%9F%E4%B8%8E%E6%89%B9%E5%88%A4%E6%80%A7%E6%80%9D%E7%BB%B4%E5%8F%8A%E5%A4%8D%E6%9D%82%E6%80%A7%E7%9A%84%E8%B5%B7%E6%BA%90/">EJ-日食与批判性思维及复杂性的起源</a>”中的是同一个数据，包含1265个民族；</li><li>主要自变量：历史上犁的使用。犁在一个民族中的使用被分为三种互斥的情形：没有使用犁、犁是后来引入的、一开始就使用犁。在本研究中，从未使用犁被编码为0，使用犁（不论是原生就有还是后来传入的）都编码为1；</li><li>性别劳动分工：1-5，数值越大女性在农业的参与程度越高；</li><li>是否驯养大型动物、定居点密度、政治复杂度；</li><li>定居点质心半径200km内适合种植农作物的土地比例；</li><li>将历史上犁的使用的数据与当今时代语言区数据进行地理匹配；</li><li>其他自然地理数据等。</li></ul></li><li>主要因变量：<ul><li>国家级：女性劳动参与率、女性持股企业比例、女性担任政治职务的比例；</li><li>次国家级：女性是否在劳动、女性性别角色相关的两个问题（工作机会稀缺时男生是否应该比女性有更多的工作权利、男性相比女性是更好的政治领袖）；</li></ul></li><li>国际人口普查数据：可以提取出劳动参与率、种族、就业等变量；</li><li>美国当前人口调查和欧洲社会调查数据：有关移民的劳动参与、父母的出生国和其他人口统计学资料等，欧洲社会调查还包含了有关性别规范的价值观数据。</li></ul><p><strong>Results:</strong></p><ul><li>跨国分析表明，历史上使用犁的地区，女性劳动力参与率、女性持股企业比例和女性担任政治职务的比例都显著更低；</li><li>来自世界价值观调查数据的次国家级分析表明，来自历史上使用犁的地区的个体，女性劳动参与率更低，更认同工作稀缺时男性应该有更多工作权利的想法，也更认同男性相比女性是更好的政治领袖这一观点；</li><li>在加入更多控制变量，排除战争、共产主义和大规模移民、石油储量、宗教等可能对性别观念产生影响的竞争性假说后，结论依然成立；</li><li>来自移民子女调查的数据显示，保持了相同的制度环境、市场就业状况等情况时，其个人的移民背景（是否来自犁耕社会）对于其在新社会中的性别规范和劳动力参与具有解释力。</li></ul><p><strong>号外:</strong></p><ul><li>这篇文章工作量好大，似乎也间接回答了爹味的起源；</li><li>起源问题真有意思；</li><li>机制没说清楚。在机制这一块，似乎没有提供新的发现，原有的文化持久性说是最自然的解释。</li></ul><p><strong>原文信息：</strong></p><p>Alesina, A., Giuliano, P., &amp; Nunn, N. (2013). On the origins ofgender roles: Women and the plough. <em>The quarterly journal ofeconomics</em>, <em>128</em>(2), 469-530.https://doi.org/10.1093/qje/qjt005</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240221171520278.png"alt="image-20240221171520278" /><figcaption aria-hidden="true">image-20240221171520278</figcaption></figure>]]></content>
    
    
    
    <tags>
      
      <tag>HIBL</tag>
      
      <tag>起源问题</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>EJ-水稻种植与合作行为的起源</title>
    <link href="/2024/02/14/20240212-EJ-%E6%B0%B4%E7%A8%BB%E7%A7%8D%E6%A4%8D%E4%B8%8E%E5%90%88%E4%BD%9C%E8%A1%8C%E4%B8%BA%E7%9A%84%E8%B5%B7%E6%BA%90/"/>
    <url>/2024/02/14/20240212-EJ-%E6%B0%B4%E7%A8%BB%E7%A7%8D%E6%A4%8D%E4%B8%8E%E5%90%88%E4%BD%9C%E8%A1%8C%E4%B8%BA%E7%9A%84%E8%B5%B7%E6%BA%90/</url>
    
    <content type="html"><![CDATA[<blockquote><p>在中国水稻区和非水稻区开展实验，发现同样是“清澈”的大一新生，水稻区的参与者在合作游戏中的贡献更大，同时对搭便车者的惩罚更大。结果显示水稻与小麦的种植差异是合作偏好起源的影响因素之一。这一结果也得到现实经验的辅助验证：水稻区的居民会提供更多的公共物品，如维基百科编辑贡献更多，街道也更为整洁。</p></blockquote><p><strong>标题:</strong> Rice Farming and the Origins of CooperativeBehaviour</p><p><strong>期刊:</strong> The Economic Journal</p><p><strong>上线时间：</strong>14 April 2023</p><p><br/></p><p><strong>Gaps:</strong></p><ul><li>国家内部和国家之间的经济偏好存在相当大的差异。偏好，特别是信任和耐心，与经济发展有因果关系。文化（或者说社会规范）会影响经济（比如常说东亚天选打工人hh），那么什么影响文化呢？</li><li>对合作的偏好是影响经济发展、法治和制度质量的一个关键因素。越来越多的证据表明，与信任和耐心一样，不同文化和社会对合作的偏好也各不相同。合作行为的文化和历史渊源大多仍未得到充分探索，需要高度合作和协调的历史农业实践是否以及如何塑造当前的合作文化规范？</li></ul><p><strong>Aims:</strong>在水稻种植区（浙江和湖南）与非水稻种植区（河北和山东）招募当地户口汉族一年级大学生开展一系列行为实验，探究作物种植差异与合作行为的关系，在Science那篇著名的南稻北麦（<ahref="https://www.science.org/doi/10.1126/science.1246850">Large-ScalePsychological Differences Within China Explained by Rice Versus WheatAgriculture</a>）文章关于集体主义与整体思维的基础上，将视阈拓展到合作行为。</p><p><strong>水稻种植的特点：</strong></p><ul><li>需要：劳动密集 + 水资源密集</li><li>种植水稻需要平整水田（犁）</li><li>从秧苗到水稻，移栽需要劳动力交换（窗口期短，单个小家庭搞不定，需要其他人帮忙），水稻所需劳动力约为小麦或玉米的两倍</li><li>季风气候，水资源不稳定，需要更多人力协作，提供稳定的水资源；水是流动的，具有一荣俱荣、一损俱损的特点，需要跨越单一家庭的管理来平衡风险</li><li>集体行动可以提供种植水稻所需的公共资源，降低成本</li><li>水稻亩产大，适宜区的人们更会选择种植水稻</li></ul><blockquote><p>⬆️水稻种植是互惠互利的，人们会从实践中形成文化规范，而小麦种植不具有上面这些特点</p></blockquote><p><strong>惩罚的重要性：</strong></p><ul><li>惩罚比其他手段更成功地将合作规范内生化，惩罚搭便车者对合作规范的演变比合作的直接利益更重要</li><li>在水稻生产中，推卸就会受到惩罚</li><li>水稻种植中的惩罚：<ul><li>惩罚可能作为维持合作策略的三个条件（水稻种植都满足）：<ul><li>从成功的合作中获得积极的个人收益</li><li>社区中每个成员的可观察行为其他人</li><li>可执行的制裁</li></ul></li></ul></li><li>熟人社会，水稻种植中的搭便车很容易识别，惩罚包括拒绝帮忙、被排除在灌溉网络之外、受到社会排斥（东亚地区有很多的案例记载）</li></ul><blockquote><p>总而言之，种植水稻对农民很有吸引力，因为与替代品相比产量更高。与此同时，它要求全年在众多问题上进行小规模和大规模的合作。在多个域上的重复交互非常适合惩罚搭便车者的情况。此外，文化进化模型将惩罚确定为合作规范出现的关键因素。这些规范可以代代相传，大概可以传到今天，并有助于维持合作平衡。</p></blockquote><p><strong>Data and experiment:</strong></p><ul><li>实验地点与对象：<ul><li>实验地点的确定：水稻种植面积超过耕地面积的50%则为水稻种植区（没有选择产量，不好比较且产量波动大），使用1996年的数据（县级尺度下最早可查）；浙江和湖南是水田占比高；山东和河北是非水稻种植区（历史上长期如此）</li><li>被试：本地户口一年级汉族大学生，长期居住在本地（查他爹的户口）；招募大一新生可以减少灌输效应（一张白纸好做实验，大学之前都在麻木做题）。随机选取，答题有报酬；不是农民，排除亲自参与农业实践的影响</li></ul></li><li>主实验——公共物品实验（Public goods games-PGG）<ul><li>4人一组，8阶段PGG，进行两次，受试者知道游戏会进行第二次，但不知道第二次的具体情况。得分的含义为个体在PGG中的贡献度，即个体对集体的贡献度</li><li>不惩罚情形：<ul><li>个人有20积分，个人可以向团队账户捐赠积分，团队总积分*1.6后在全体成员间分</li><li>在所有参与者做出决定后，每个参与者的捐赠金额、他们从团体账户中获得的收入以及他们在当期的总收入都会显示在他们的电脑屏幕上</li><li>每个小组成员的贡献在每个时期以随机顺序显示在计算机屏幕上（匿名）</li></ul></li><li>惩罚情形：<ul><li>每个参与者选择要分配给其他组成员的惩罚令牌数量。最多可以为一个组成员分配10个惩罚令牌。每个令牌对惩罚者造成一分，并将被惩罚参与者的收入减少三分。收到的惩罚令牌不能将参与者的收入降低到零以下。但是，对于接收和分配的某些令牌组合，可能会产生负收益。这些信息对参与者来说是清楚的。（谁给的惩罚是匿名的）</li></ul></li></ul></li><li>其他实验：<ul><li>Triadtask（三选二配对）：火车、汽车、轨道；集体主义（基于关系，火车+轨道）、个人主义（基于对象，火车+汽车），Science2014同款</li><li>独裁者游戏（DG），最后通牒游戏（UG），雄鹿狩猎游戏（SH）</li></ul></li><li>其他数据：<ul><li>省人均GDP</li><li>地形坡度、土壤深度、土地覆盖模式</li><li>水稻种植适宜性指数（IV）</li><li>地级市人均专利数据</li><li>2000年人口普查数据，构建地级市人口流动矩阵，使用该矩阵来计算地级市层面迁移调整后的水稻种植适宜性指数和净迁移流量</li></ul></li></ul><p><strong>Results:</strong></p><ul><li>不论在是否有惩罚的情形下，水稻区组别的平均贡献度都更高</li><li>水稻百分比每增加10%，贡献就会增加约0.12个百分点；（系数显著但很小，但两类地区间的水稻比例差距达80%，意味着实际贡献点约为0.8*0.12=0.96）</li><li>水稻区对搭便车者有更高的惩罚。来自水稻区的参与者平均比来自非水稻区的参与者多分配约0.23（0.29×0.8）的惩罚点。稻田的百分比与惩罚搭便车者的概率和强度呈正相关。</li><li>其他证据：水稻区的维基百科条目编辑次数和字节数更高、街道也更为整洁</li></ul><p><strong>Limitation:</strong></p><ul><li>没有挖掘机制：未来的研究可以通过挖掘民间故事和歌曲的文本，来寻找价值规范是如何传承的（Folklore，<ahref="https://academic.oup.com/qje/article/136/4/1993/6124640">QJE2021</a>。Top5好多时候标题真的有够抽象，看题目完全不知道做的是什么）</li></ul><p><strong>号外：</strong></p><ul><li>我感觉水稻种植与爹味的起源有关</li><li>推荐阅读：<ahref="https://academic.oup.com/qje/article/128/2/469/1943509">On theOrigins of Gender Roles: Women and the Plough</a></li></ul><p><strong>原文信息：</strong></p><p>Zhou, X., Alysandratos, T., &amp; Naef, M. (2023). Rice farming andthe origins of cooperative behaviour. <em>The Economic Journal</em>,<em>133</em>(654), 2504-2532. https://doi.org/10.1093/ej/uead030</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240214104940984.png"alt="image-20240214104940984" /><figcaption aria-hidden="true">image-20240214104940984</figcaption></figure>]]></content>
    
    
    
    <tags>
      
      <tag>HIBL</tag>
      
      <tag>起源问题</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>NC-巧妙的DID+RCT：回复审稿人时使用第二人称更有可能得到“善意”</title>
    <link href="/2024/02/07/20240207-NC-%E5%9B%9E%E5%A4%8D%E5%AE%A1%E7%A8%BF%E4%BA%BA%E6%97%B6%E4%BD%BF%E7%94%A8%E7%AC%AC%E4%BA%8C%E4%BA%BA%E7%A7%B0%E6%9B%B4%E6%9C%89%E5%8F%AF%E8%83%BD%E5%BE%97%E5%88%B0%E2%80%9C%E5%96%84%E6%84%8F%E2%80%9D/"/>
    <url>/2024/02/07/20240207-NC-%E5%9B%9E%E5%A4%8D%E5%AE%A1%E7%A8%BF%E4%BA%BA%E6%97%B6%E4%BD%BF%E7%94%A8%E7%AC%AC%E4%BA%8C%E4%BA%BA%E7%A7%B0%E6%9B%B4%E6%9C%89%E5%8F%AF%E8%83%BD%E5%BE%97%E5%88%B0%E2%80%9C%E5%96%84%E6%84%8F%E2%80%9D/</url>
    
    <content type="html"><![CDATA[<blockquote><p>利用给审稿人的回信中人称代词的<strong>差异</strong>和审稿人反馈意见的<strong>差异</strong>，构造DID，发现使用第二人称代词(you)称呼审稿人的作者收到的评审意见问题更少、回复更短、反馈更积极。机制是使用“you”的对话更偏个人，投入程度也更高。</p></blockquote><p><strong>标题:</strong> Behavioral consequences of second-personpronouns in written communications between authors and reviewers ofscientific papers</p><p><strong>期刊:</strong> Nature Communications</p><p><strong>上线时间：</strong>2 January 2024</p><p><br/></p><p><strong>Gaps:</strong>关于人称代词“you”的使用已有诸多研究，如使用“you”可以引起对方的注意，提高话题参与度，“you”还具有规范行为影响说服力的功能，但这些研究常常集中在单向的、一次性的交流上，或背景局限在亲密关系中，在多方、动态、非亲密关系的情景中，关于“you”的使用的研究仍然有限。</p><p><strong>Aims:</strong>利用学术期刊同行评议的互动材料，探究“you”的使用对于评审意见的影响。</p><p><strong>Data:</strong></p><ul><li>同行评议材料：从NatureCommunications获取的2016年4月至2021年4月所有论文的同行评议数据，pdf格式，包含审稿人意见和作者回复（共13359篇论文，29144轮评审意见）。利用计算文本分析的相关技术，从这些评审材料中构造变量：<ul><li>审稿人情绪：积极性+消极性，一共四个指标，三个使用python或者r包分析，一个使用词典法构造词频</li><li>第一人称单数代词的使用：I、me、my、mine的次数</li><li>单词复杂度：评审意见中每个单词的平均音节数</li><li>审稿人参与度：由LDA方法计算主题得出</li></ul></li><li>其他变量：<ul><li>参考文献数量</li><li>标题长度</li><li>作者人数</li><li>第一作者H指数</li><li>第一作者性别</li><li>第一作者的姓氏首字母</li><li>一轮评审的作者积极性、作者友好程度</li><li>一轮评审中审稿人的积极性</li><li>论文发表的月份、年份</li><li>文章所属学科</li></ul></li><li>行为实验RCT：一个1601个样本的<strong>随机双盲对照试验</strong>，参与者被要求扮演审稿人，查看作者的回复意见。由是否使用第二人称区分实验组和控制组。最后，请参与者评估与作者“对话”的投入程度和个人性水平。</li></ul><p><strong>Identification strategy:</strong></p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/41467_2023_44515_Fig1_HTML.png"alt="Fig. 1" /><figcaption aria-hidden="true">Fig. 1</figcaption></figure><p>这篇文章的DID策略蛮巧妙的，看本文的peer reviewfile，审稿人们对这一策略也赞赏有加！</p><p>DID的事前趋势：审稿人根据manuscript给出评审意见，“保证”了事前两组没有系统性差异（没法检验平行趋势，作者使用PSM、Heckman模型、排列测试和RCT来辅助排除事前的可能问题）；</p><p>DID的第一重差异：作者回复审稿人时是否使用第二人称”you“，使用了第二人称的作为处理组，否则为对照组；计算两组审稿意见中问题的数量及相关指标；</p><p>DID的第二重差异：审稿人对responseletter的反馈，计算两组意见中问题的数量及相关指标。</p><p><strong>Results:</strong></p><ul><li><p>在回复审稿人意见时，使用第二人称“you”，得到的反馈中，问题数量更少（平均处理效应为-3.33个问题）、意见也更短（平均处理效应为-135.59个词）</p></li><li><p>使用第二人称得到的回复更积极</p></li><li><p>在作者使用第二人称后，审稿人使用第一人称的情形会减少</p></li><li><p>RCT的结果：使用“you”时，参与者的评价更积极，对话更偏个人、投入程度也更高⬇️</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/41467_2023_44515_Fig4_HTML.png"alt="figure 4" /><figcaption aria-hidden="true">figure 4</figcaption></figure></li></ul><p><strong>号外：</strong>写作中人称的使用是一件有趣的事情，在国内学者发表的文献中，我常常看到他们使用客观描述，如“本文xxx”、“本研究xxx”，避免第一人称和第二人称。研究生导师也常常会在指导学生时强调这一点。但在经济学和国外的诸多文献中，时常见到第一人称的表述，如“Here,we introduce a xxx”、“I investigatexxx”，从AER到Nature、Science都可见到。这是否是某种学科或地区文化差异？</p><p><strong>原文信息：</strong></p><p>Sun, Z., Cao, C.C., Liu, S. <em>et al.</em> Behavioral consequencesof second-person pronouns in written communications between authors andreviewers of scientific papers. <em>Nat Commun</em> <strong>15</strong>,152 (2024). https://doi.org/10.1038/s41467-023-44515-1</p><p><strong>PS:</strong> 这篇文章共有5个审稿人，作者也真是艰难哈哈。</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240207092619506.png"alt="image-20240207092619506" /><figcaption aria-hidden="true">image-20240207092619506</figcaption></figure>]]></content>
    
    
    
    <tags>
      
      <tag>HIBL</tag>
      
      <tag>DID</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>EJ-日食与批判性思维及复杂性的起源</title>
    <link href="/2024/01/22/20240122-EJ-%E6%97%A5%E9%A3%9F%E4%B8%8E%E6%89%B9%E5%88%A4%E6%80%A7%E6%80%9D%E7%BB%B4%E5%8F%8A%E5%A4%8D%E6%9D%82%E6%80%A7%E7%9A%84%E8%B5%B7%E6%BA%90/"/>
    <url>/2024/01/22/20240122-EJ-%E6%97%A5%E9%A3%9F%E4%B8%8E%E6%89%B9%E5%88%A4%E6%80%A7%E6%80%9D%E7%BB%B4%E5%8F%8A%E5%A4%8D%E6%9D%82%E6%80%A7%E7%9A%84%E8%B5%B7%E6%BA%90/</url>
    
    <content type="html"><![CDATA[<blockquote><p>人们在面对无法解释的现象时，出于好奇心而进行思考，试图揭开这些谜团。这一过程提升了人类的知识和技术水平，从而推动了经济增长。</p><p>在更容易受到<strong>日食</strong>影响的社会中发现了更复杂的思维过程和更发达的技术；在童年时期观察过日全食的人更有可能进入科学职业。</p></blockquote><p><strong>标题：</strong>Solar Eclipses and the Origins of CriticalThinking and Complexity</p><p><strong>期刊：</strong>Economic Journal</p><p><strong>作者：</strong></p><ul><li>Anastasia Litina，University of Macedonia，AP</li><li>Èric Roca Fernández，Université Clermont Auvergne，AP</li></ul><p><strong>上线时间：</strong>27 December 2023</p><p><br/></p><p><strong>Gaps：</strong>科学进步和人力资本在理论和实证上都被广泛认为是经济增长的重要推动力，然而，<strong>批判性思维</strong>、<strong>科学</strong>以及最终的<strong>人力资本创造</strong>的深层决定因素尚不清楚。</p><p><strong>Aims：</strong></p><ul><li>本文提出<strong>好奇心</strong>是人力资本的自然前兆，通过探究好奇心对前现代人力资本形成和技术进步的影响，将好奇心与经济发展联系起来。</li><li>好奇心的衡量标准是难以捉摸的，尤其是对于前现代社会而言。为了规避这一限制，本文专注于人类好奇心的触发因素，特别是<strong>自然现象</strong>。自然事件是近似好奇心的好候选者——人类一直在寻求理解周围的世界。因此，本文认为，更多地暴露于令人迷惑的自然现象的前现代社会获得了<strong>比较优势</strong>。——<strong>日食</strong>，即是最令人印象深刻的自然现象之一。</li></ul><p><strong>Data：</strong></p><ul><li>族群数据：来自Murdock’s (1967)的民族志地图集和后人补充，包含全球各地1000多个族裔的生活、婚姻习俗和劳动分工等，可以构造出下列被解释变量：<ul><li>人口密度：8个层次的定序变量，从少于50人到人数超过50000不等</li><li>定居点模式：8个层次的定序变量，从游牧点到村庄等</li><li>组织复杂性的代理变量：辖区等级（小社会、酋长领地、国家等）、阶级分层、政治一体化水平</li><li>策略游戏情况（而非运气游戏或力量游戏）</li><li>民间故事中反映好奇心的概念</li><li>族群的宗教信仰水平</li></ul></li><li>面板数据：<ul><li>政体水平跨期的人口密度、行政级别、管辖等级和写作信息、几何能力</li><li>各地区在公元元年到公元1000年的技术水平，包含一般技术和非农业技术水平</li></ul></li><li>个体数据：从维基百科收集的公元前1600年至公元1800年的个人词条，包括出生日期、出生地、职业信息<ul><li>职业分类：科学类职业 or 宗教性职业</li><li>个体在5-15岁见到日食的虚拟变量</li><li>个体经历火山喷发的虚拟变量</li></ul></li><li>日食：来自Espenak和Meeus（2006）的“日食五千年目录”，提供了公元前1999年至公元3000年之间发生的所有日食相对应的星历表：<ul><li>日食特点：外生、无害、局部分布</li><li>区分了日全食和日环食</li><li>在跨度为3500年的研究期内，共发生过5635次日食</li><li>100km*100km栅格内，平均每世纪有1.17次日食</li><li>关键变量：一个区域可观测到的日全食数量</li></ul></li></ul><p><strong>Results：</strong></p><ul><li>经济发展：在日食发生更多的地方，人口密度更高、定居点模式更为复杂、辖区等级也更高</li><li>人力资本和技术：<ul><li>日食次数增加1%会分别使得一个种族群体玩策略游戏或发展出一种书写系统的概率增加0.23和0.40</li><li>在日食更频繁出现的社会中，与日历概念相关的民间故事中的词汇更丰富</li><li>随着日食次数的增加，几何学的发展趋势更为明显</li><li>经历更多日食的社会在技术发展方面表现更佳（或更为复杂），包括货币系统、技术设施、一般技术、非农业技术、通信、工业等</li></ul></li><li>好奇心：<ul><li>族群经历的日食数量越多，其民间传说中与日食相关的概念越多</li><li>日食数量增加1%会使与<strong>好奇心</strong>相关的词汇在民间故事中的数量增加0.11</li><li>在5至10岁期间看到日食的个体成年后选择科学类职业的可能性更高</li><li>在儿童时期（5-15岁）观察日全食与从事科学职业之间的关联⬇️：这一（科学家）效应在7世纪之前都正显著</li><li><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20240122134153830.png"alt="image-20240122134153830" /><figcaption aria-hidden="true">image-20240122134153830</figcaption></figure></li></ul></li></ul><p><strong>Robustness‌：</strong></p><ul><li>将解释变量换成<strong>月食</strong>，无法得到先前回归的结果</li><li>日食对<strong>宗教</strong>的影响不显著</li><li>将被解释变量换成民间故事中闪电、岩石、颜色（白色和紫色）概念出现的情况，结果不显著，表明前文日食对相关概念的影响并非<strong>安慰剂效应</strong></li></ul><p><strong>Conclusion‌：</strong></p><ul><li>日食发生次数更多的社会有更复杂的社会发展</li><li>受日食影响更多的社会有更复杂的策略游戏、技术和好奇心概念</li><li>在儿童时期看到日食会增加个体选择科学类职业的几率</li></ul><hr /><p>论文链接：<ahref="https://academic.oup.com/ej/advance-article/doi/10.1093/ej/uead117/7502802">SolarEclipses and the Origins of Critical Thinking and Complexity</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>HIBL</tag>
      
      <tag>起源问题</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>HIBL-人类有趣行为实验室</title>
    <link href="/2024/01/18/20240118-Introduction%20of%20HIBL/"/>
    <url>/2024/01/18/20240118-Introduction%20of%20HIBL/</url>
    
    <content type="html"><![CDATA[<p>“人类有趣行为实验室”(Human Intriguing BehaviorLaboratory，<strong>HIBL</strong>)，这个名称想了很久。</p><p>备选项还有“人类有趣行为观测站”、“有趣人类行为实验室”，或者豆瓣风“人间有趣行为观察小组”，在睡不着的时候琢磨，还是“人类有趣行为实验室”更好一些，因为“<strong>Lab</strong>”，通常不止观测，还包括<strong>创造</strong>。</p><p>我对有趣的人类行为感兴趣，想知道有趣行为如何表达、被发现，以及如何阐释，其背后一些更为结构性的决定因素有哪些？由于学科背景的原因，我主要关注社会科学和与之相近的自然科学对人类有趣行为的理解，包括<strong>地理环境</strong>、<strong>历史制度路径</strong>、偶然事件以及<strong>经济学</strong>对人类行为的解释，特别是这些解释中可以被认为具有因果关系的部分。</p><p>我将通过广泛的文献阅读和观察、思考，传播关于有趣人类行为的事实和机制，比如<strong>制度的起源</strong>、<strong>人类行为的地理差异</strong>，也致力于在传播与交流中，发现更多的有趣人类行为及对其作出阐释。这些文献主要来自经济学（特别是量化历史领域）、政治学、地理学刊物和综合类期刊，但一般不包括生理学和心理学资料。</p><p>作为人类的个体，我认为这是一趟刺激且有趣的旅程，因为这个旅程是在了解世界，也是在向内探求自己。</p><p>我会保证周更。</p><p>即刻，出发！</p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/446.jpg" /></p>]]></content>
    
    
    
    <tags>
      
      <tag>HIBL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Basic Mathematics for Econometrics</title>
    <link href="/2023/11/22/Basic%20Mathematics%20for%20Econometrics/"/>
    <url>/2023/11/22/Basic%20Mathematics%20for%20Econometrics/</url>
    
    <content type="html"><![CDATA[<p>参见：</p><p>WOOLDRIDGE J M. Introductory econometrics: a modern approach[M].Seventh edition. Boston, MA: Cengage, 2020.</p><iframe src="/myjs/pdfjs/web/viewer.html?file=/pdf/Basic Mathematics for Econometrics.pdf" style="width:100%;height:800px"></iframe>]]></content>
    
    
    
    <tags>
      
      <tag>因果推断</tag>
      
      <tag>政策评估</tag>
      
      <tag>计量经济学</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Ecologically unequal exchanges driven by EU consumption</title>
    <link href="/2023/11/17/NS-Ecologically%20unequal%20exchanges%20driven%20by%20EU%20consumption/"/>
    <url>/2023/11/17/NS-Ecologically%20unequal%20exchanges%20driven%20by%20EU%20consumption/</url>
    
    <content type="html"><![CDATA[<p>NatSustain这篇文章和我的硕士论文有较大关联，其中的方法和表述，对我的文章有较大的借鉴意义。我想认真读一下这篇文章，顺便利用此文，熟悉一下我没有用过的<ahref="https://www.exiobase.eu/">EXIOBASE</a>。</p><p>近年来，利用MRIO水论文的风头已经过去了，传统的水法已经不能被接收，需要开辟新的水道，如基于MRIO计算不平等，或构造回归变量。</p><h3 id="摘要">摘要</h3><p>在全球化经济中，商品和服务的消费在推动经济增长的同时，也给全世界带来了环境压力和影响。目前欧盟（EU）是世界上最富有的经济体之一，其27个成员国均有较高的消费水平。本研究评估了1995-2019年间EU消费所产生的环境压力和影响的地理分布和变化情况。</p><p>本文主要采用了环境扩展的多区域投入-产出（environmentally extendedmultiregional input–output,EEMRIO）方法，并选定了10个消费足迹指标，包括：<mark>土地利用带来的生物多样性损失</mark>、温室气体排放、蓝水消耗、土地使用、材料消耗、光化学氧化、淡水水生生态毒性、陆地生态毒性、海洋生态毒性和颗粒物形成。数据方面，本研究使用了EXIOBASEv.3.8.1数据库，包括49个国家和地区的200个产品部门的年度投入产出表。</p><p>研究结果表明，本文所分析的环境压力和影响很大一部分都转移给了欧盟以外的国家和地区，而85%以上的经济利益留在了成员国内部，即使在欧盟内部，成本和收益的分配也是不平衡的。在分析期内，由欧盟消费引起的环境压力和影响在欧盟内部基本减少，但在其边界之外却增加了，如欧盟的东欧邻国承受了与欧盟消费相关的每单位GDP最高的环境压力和影响。</p><p>（转自 “3E论文速递”公众号推文：<ahref="https://mp.weixin.qq.com/s/nX3eEeVKUA4D4V_QArqKHg">【不平等性】欧盟消费者向其他国家“输出”了环境负担</a>）</p><h3 id="引言">引言</h3><p>商品和服务的消费推动了全球经济增长，也导致了各种环境压力，更重要的是，商品和服务的消费及其相关的环境压力，在全球范围内<strong>不是平均分布</strong>的！消费在富裕的地方，比如欧洲的大部分地区，但是环境负担给了其他地方，明确这些富裕地方给其他地方产生的环境压力至关重要！</p><p>环境相关的指标选择：</p><ul><li>四个欧盟委员会建议的指标：温室气体排放、材料消耗、土地利用、地表水或地下水（或蓝水）消耗</li><li>EXIOBASE数据库中的重要指标（依据相关文献）：颗粒物形成、淡水水生生态毒性、海洋生态毒性、陆地生态毒性、光化学氧化、土地占用对生态系统质量的破坏</li></ul><p>消费创造GDP（或者增加值 valueadded），<strong>根据供应链中的位置不同，有些国家获得了很多的GDP，但是几乎没有受到消费的环境压力和影响</strong>，而另一些国家则正好相反！可以比较一下哪些地区受益，而哪些地区损失大！</p><h3 id="结果">结果</h3><h4 id="环境压力和影响的地理分布">环境压力和影响的地理分布</h4><p>1995年到2019年，不同指标的分布不一样，有一定的趋势和波动。比如蓝水消耗，欧盟外的地区一直更多，而材料消耗，欧盟内的一直更多。</p><p><strong>图1：2019年欧盟27国内外与欧盟27国消费相关的压力和影响的相对分布</strong></p><figure><imgsrc="https://media.springernature.com/full/springer-static/image/art%3A10.1038%2Fs41893-022-01055-8/MediaObjects/41893_2022_1055_Fig1_HTML.png"alt="Fig. 1" /><figcaption aria-hidden="true">Fig. 1</figcaption></figure><p>（EXIOBASE数据集的生态毒性结果必须被视为下限）</p><p>再来看看2019年的情况：</p><p><strong>图2：2019年欧盟27国消费压力和影响的相对分布</strong></p><figure><imgsrc="https://media.springernature.com/full/springer-static/image/art%3A10.1038%2Fs41893-022-01055-8/MediaObjects/41893_2022_1055_Fig2_HTML.png"alt="Fig. 2" /><figcaption aria-hidden="true">Fig. 2</figcaption></figure><p>没想到非洲在很多个指标上都很高，特别是土地利用。</p><p>此图也显示了欧盟内部的情况，在欧盟内部，西班牙的蓝水消耗量和土地利用造成的生物多样性丧失最高。法国和西班牙在欧盟消费中占土地使用份额也最高，仅次于瑞典、德国和波兰。除希腊外，德国、意大利、塞浦路斯和罗马尼亚的生态毒性排放量也很高。在整个分析期间，欧盟人口最多的国家（德国、法国、意大利、波兰和西班牙）的温室气体排放量、颗粒物形成、光化学氧化以及与欧盟消费相关的材料消耗量最大。希腊的颗粒物形成率也很高。</p><p>为了了解不同消费项目对环境压力的贡献以及欧盟27国消费引起的影响，我们将它们分为六个消费类别：食品、服装、出行、服务、制成品和住房。在欧盟27国之外，粮食消费是土地利用和土地利用造成的生物多样性丧失的最大贡献者，并导致了&gt;50%的蓝水消耗。同时，出行和制成品的消费引发了最大的生态毒性、光化学氧化、温室气体排放和颗粒物形成。欧盟27国内部与欧盟27国消费相关的温室气体排放主要由与住房、服务和食品相关的消费引起。然而，虽然欧盟27国以外的服装消费对欧盟27国消费引起的温室气体排放和颗粒物形成等类别的贡献率为4-8%，但它从未对欧盟27国内部的任何分析压力和影响贡献&gt;2%。（看看这部分怎么算的）</p><h4id="环境压力的演变和欧盟消费的影响">环境压力的演变和欧盟消费的影响</h4><p>在1995年至2019年期间，欧盟消费引起的环境压力和影响中有十分之五有所下降，如图3。海洋水生生态毒性和颗粒物形成的降幅最大，分别为-17.5%和-14.4%，其他指标，如温室气体排放量（-4.1%）、土地利用（-5.5%）和土地利用造成的生物多样性丧失（-8.8%），下降幅度较小。同时，其他五项指标在分析期间有所增加：材料足迹（+9.4%）、陆地生态毒性（+28.3%）、蓝水消耗量（+18.9%）、光化学氧化（+1.5%）和淡水水生生态毒性（+6.6%）。</p><p><strong>图3：1995年至2019年间，欧盟27国内部、欧盟27国外和欧盟27国消费相关的压力和影响的相对变化</strong></p><figure><imgsrc="https://media.springernature.com/full/springer-static/image/art%3A10.1038%2Fs41893-022-01055-8/MediaObjects/41893_2022_1055_Fig3_HTML.png"alt="Fig. 3" /><figcaption aria-hidden="true">Fig. 3</figcaption></figure><p>欧盟内部的相关压力和影响显示出不同的趋势。几乎所有压力和影响都下降了，但蓝水消耗量除外（+9.4%）。……欧盟能够减少与其境内当地消费相关的环境压力和影响，同时增加其境外的压力和影响。</p><p>欧盟消费引起的压力和影响在其大多数成员国中有所下降，相比之下，在巴西、中国、印度和日本，以及欧洲和中东地区，所有与欧盟消费相关的分析影响和压力都有所增加。</p><h4 id="对欧盟邻国最不利的-环境-增加值比率">对欧盟邻国最不利的“环境-增加值比率”</h4><p>EV-ratios，也就是拿环境压力和增加值来做比，emissions-to-value-added-ratio。</p><p>为了进一步了解欧盟消费对不同国家和地区的影响，我们<strong>将经济效益量化为与欧盟内外欧盟消费相关的附加值或GDP，并将其与相关的环境压力和影响进行比较</strong>。除2008年金融危机外，与欧盟消费生产相关的增加值从1995年的6.2万亿欧元增加到2019年的13.4万亿欧元。在分析期间，86-91%的附加值留在欧盟境内。在欧盟内部，与服务和住房相关的消费分别对欧盟消费增加值的贡献率超过43%和23%。相比之下，服务消费、制成品和流动性是欧盟以外欧盟消费增加值的主要贡献者。</p><p>在国家和地区层面，人口最多的欧盟成员国德国、法国、意大利和西班牙的附加值份额也最高。如下图所示，它们在1990年代后期共获得了欧盟消费增加值的60%以上，在2019年仍获得了56.3%。与此同时，在欧盟以外，美国（1.9-3.3%）、英国（1.1-1.7%）和中国（0.1-1.7%）是欧盟消费增加值份额最高的国家。</p><p><strong>图4：2019年与欧盟27国消费相关的增加值的相对分布</strong></p><figure><imgsrc="https://media.springernature.com/full/springer-static/image/art%3A10.1038%2Fs41893-022-01055-8/MediaObjects/41893_2022_1055_Fig4_HTML.png"alt="Fig. 4" /><figcaption aria-hidden="true">Fig. 4</figcaption></figure><p>为了比较欧盟消费引起的附加值和环境压力和影响的份额，我们使用排放与附加值比率（EV-ratio）（这一指标参考了冯奎双老师的<ahref="https://academic.oup.com/sf/article/93/1/405/2337929">另一篇论文</a>），方法是<strong>将全球压力或影响的份额除以一个地区或国家的全球增加值份额</strong>。值&lt;1表示经济利益的份额高于一国对全球价值链的贡献所承受的环境压力或影响的份额，而值&gt;1 表示一国获得的环境损害份额大于其经济利益份额。</p><p>在 1995 年至 2019 年期间，欧盟每年所有 10 个分析指标的EV比率总计为&lt;1。相反，将欧盟以外的所有国家和地区汇总到RoW，其EV比率始终为&gt;1。</p><p>来看看2019年的情况：</p><p><strong>图5：2019年与欧盟27国消费相关的压力和影响的EV比率</strong></p><figure><imgsrc="https://media.springernature.com/full/springer-static/image/art%3A10.1038%2Fs41893-022-01055-8/MediaObjects/41893_2022_1055_Fig5_HTML.png"alt="Fig. 5" /><figcaption aria-hidden="true">Fig. 5</figcaption></figure><p>（国家/地区按平均EV比率、核心值和GDPpc排名。与欧盟27国消费相关的不同压力和冲击类别的EV比率显示在颜色键中。欧盟 27国为红色，而世界其他地区的国家和地区为黑色。）</p><p>其实是全球研究，重点讨论欧盟。</p><p>在消费发生国（在本研究中为欧盟），由于价值链末端的附加值份额较高，因此增加值往往更高。因此，欧盟内部的EV比率往往低于欧盟外部。当根据各国的人均GDP（GDPpc）进行排名时（图5，右排名），有一个普遍的模式表明，较富裕的国家往往比较贫穷的国家具有更低的EV-ratio。由于过去的研究表明，位于<strong>贸易网络核心</strong>的国家（即，它们是高度集中、一体化程度高的贸易国家的一个有凝聚力的子集团的一部分）往往经历相对较少的环境压力，我们还考虑了各国的<strong>核心度</strong>得分（有关计算核心度的更多详细信息，请参阅补充信息）。图5 中的中间排名显示，几个核心度得分相对较高的非欧盟国家（例如，中国、RoW亚太地区、RoW 中东、RoW 美洲和墨西哥）的 EV 比率也很高，这表明核心度和EV比率之间可能存在正相关关系，尽管关系较弱。（附表4不是显示负相关？？）</p><p>为了进一步探索这些趋势，我们对 2019年的数据进行了多元回归分析，然后在 1995年的数据上复制了这些分析，以探索前者的模式在后者中也可以检测到的程度。我们的模型输入核心度、GDPpc和欧盟成员资格 （EU_mem） 作为预测 EV比率的解释变量。这些模型结果以及这四个变量之间的相关性可以在补充表3和表4中找到。</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/image-20231115162902352.png"alt="image-20231115162902352" /><figcaption aria-hidden="true">image-20231115162902352</figcaption></figure><h4 id="欧盟新成员国-ev---ratios下降">欧盟新成员国 EV - ratios下降</h4><p>在1995年（本分析的起始年份）之前加入欧盟的国家，多年来的EV比率往往低于2000年之后加入欧盟的国家，尤其是保加利亚、爱沙尼亚和塞浦路斯。唯一的例外是希腊，它于1995年加入欧盟，但近年来经历了所有成员国中最高的平均EV比率，因为除了土地使用和与欧盟消费相关的材料消耗外，所有指标的平均EV比率均为&gt;1。</p><p>2000年后加入欧盟的国家在分析期间的EV比率显着下降，但马耳他（无明显趋势）和塞浦路斯（显着上升趋势）除外.</p><p>对于长期欧盟成员国来说，德国、爱尔兰和丹麦等一些国家的EV比率有所上升，而葡萄牙、芬兰、西班牙或瑞典等其他国家的EV比率略有下降。</p><p><strong>图6：1995年至2019年2000年后加入欧盟的国家与欧盟27国消费相关的压力和影响的EV比率</strong></p><figure><imgsrc="https://media.springernature.com/full/springer-static/image/art%3A10.1038%2Fs41893-022-01055-8/MediaObjects/41893_2022_1055_Fig6_HTML.png"alt="Fig. 6" /><figcaption aria-hidden="true">Fig. 6</figcaption></figure><h3 id="讨论">讨论</h3><p>欧盟的消费与大规模环境压力和影响在其境外的转移有关。在分析的七项压力和影响（所有生态毒性指标、温室气体排放、颗粒物形成、光化学氧化和材料消耗）中，欧盟以外地区显著增加，而欧盟内部则有所下降。将环境压力和影响从富裕地区外包给较贫穷地区在当今全球范围内是显而易见的，因为贸易中体现的压力和影响正在增加。</p><p>同时，最近的研究证实了从较贫穷国家到较富裕国家的贸易所体现的大规模资源净流动，即所谓的生态不平等交换。对与欧盟消费相关的EV比率的分析增加了关于生态不平等交换的讨论，因为它凸显了许多<strong>非欧盟国家的无益局面</strong>。</p><p>结果表明，与欧盟消费相关的EV比率对大多数成员国比对非欧盟国家和地区更有利。与此同时，欧盟的消费给RoW欧洲地区带来了比世界其他任何地方都更高的环境压力和每附加值影响。该地区包括阿尔巴尼亚、黑山或塞尔维亚等现有欧盟候选成员国以及乌克兰和摩尔多瓦等欧盟的新候选国（currentEU candidate members）。</p><p>为了避免对欧盟内外的人类健康和生态系统产生进一步的不利影响，减少与欧盟消费相关的环境压力和影响至关重要。这可以通过多种机制来实现。消费选择，如交通方式和频率或饮食选择，可以大大减少环境压力和影响。由于许多超级富裕的消费者目前对全球环境破坏和资源使用的贡献不成比例，生活在欧盟内部，因此缓解工作需要关注富裕和过度消费。此外，<strong>欧盟的新贸易政策需要考虑产品和服务所体现的环境压力和影响，以防止欧盟以外的额外溢出效应</strong>。减少溢出效应的政策，例如温室气体排放的政策，需要考虑过程中的不平等，以便为所有人提供公平的结果。（几乎都是正确的废话）</p><h3 id="方法">方法</h3><h4 id="eemrio">EEMRIO</h4><p>略。。这类论文这部分都一样。</p><h5 id="计算环境压力和影响">计算环境压力和影响</h5><p>实际跑一下代码再写吧。</p><h5 id="计算value-added">计算value added</h5><p>待补充。</p><h5 id="不平等影响的分析">不平等影响的分析</h5><p>我们使用上一步中计算出的环境压力和影响来分析与欧盟消费相关的压力和影响在各个国家和地区的分布。为了分析与不同产品和服务的消费相关的影响和压力，我们使用不同的最终需求向量<span class="math inline">\(\mathbf f^{s,\tau}\)</span> 。对于欧盟所有27 个成员国，它们对应于 EEMRIO模型中的地区，我们使用一组七个不同的最终需求类别 τ运行模型，汇总为总最终需求和选定产品和部门的最终需求，汇总为六个以前使用的<ahref="https://www.nature.com/articles/s41893-022-01055-8#ref-CR38">38</a>消费类别：食品、住房、服装、服务、制成品和流动性。补充表2显示了各部门对消费类别的分配情况。</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/image-20231115173228390.png"alt="image-20231115173228390" /><figcaption aria-hidden="true">image-20231115173228390</figcaption></figure><p>此外，我们还将与欧盟消费相关的环境压力和影响的分布与全球相关附加值的分布进行了比较。首先，我们确定欧盟消费引起的每个压力或影响的国家或地区份额。随后，我们计算供应链中附加值的模拟份额。最后，我们使用参考文献引入<ahref="https://www.nature.com/articles/s41893-022-01055-8#ref-CR23">23</a>的 EV 比率，并在其他研究中 <ahref="https://www.nature.com/articles/s41893-022-01055-8#ref-CR22">22</a>,<ahref="https://www.nature.com/articles/s41893-022-01055-8#ref-CR24">24</a>以不同的名称使用。该指标可用于确定欧盟消费对一个国家或地区是否产生有利或不利的影响，方法是将该国所经历的环境压力或影响的份额除以附加值的份额。值&gt;1表示一个国家或地区承受的压力或影响份额高于与欧盟消费相关的附加值份额（不利），而值&lt;1表示该国家或地区承受的附加值份额高于环境影响或压力（有利）。反过来，值为1表示一个国家或地区正在经历与欧盟消费相关的相同份额的压力或影响和附加值。</p><h4 id="数据">数据</h4><p>EXIOBASEv.3.8.1数据库，1995-2019，包括49个国家和地区的200个产品部门的年度投入产出表，囊括了所有27个欧盟成员国。此外，数据库还包含了超过1000个独立的社会经济和环境压力指标以及126个影响类别。我们使用了EXIOBASE中所有<strong>七个最终需求类别</strong>（家庭最终消费支出、非营利组织服务于家庭的最终消费支出、政府最终消费支出、固定资本形成总额、库存变化、贵重物品变化、出口：totalfree on boardvalue）来计算27个欧盟成员国的环境压力和影响。我们用于分析的特定压力和影响系数在补充表1中总结。为了解析原始的EXIOBASEv.3.8.1数据，我们遵循了参考文献51的方法论。我们选择EXIOBASEv.3.8.1而不是其他MRIOs（如GTAP），是因为它有大量的个别产品部门，可用的压力和影响系数数量，以及27个欧盟成员国的完整覆盖。将国家大规模聚合到RoW地区，尤其是在非洲、亚洲和南美，以及东欧，是使用EXIOBASEv.3.8.1数据库来展示欧盟消费在哪里导致环境压力和影响以及增值的产生的一个明显局限性。因此，我们可以展示哪些国家和地区从欧盟消费中获益，哪些地区经历了不成比例的大环境压力和影响。然而，我们<strong>无法确定是否有特定的社会群体，比如高收入群体，从与欧盟消费相关的增值中获得高利润，而其他人只获得最小的利益</strong>。此外，所考虑的九种环境压力中的一些可能会在EXIOBASE设定的国家或地区边界之外产生影响。因此，需要进行额外的建模步骤来跟踪环境压力的影响，例如大气排放在运输后的健康影响或者下游生态系统中水消耗的影响，这对于全面分析与欧盟消费相关的对人类健康和生态系统的影响是必需的。</p><p>（所以，是不是还可以结合<mark>国内</mark>情况还看不平等性，补足gaps）</p><p>用于量化供应链中温室气体排放的指标是从EXIOBASE数据库v.3.8.1汇总的指标，它涵盖了多种温室气体（CO2、CH4、N2O、SF6、HFC和PFC），并以kgCO2e（二氧化碳当量）为单位，基于其在100年时间尺度上的全球变暖潜能，如IPCC报告所建议的。值得注意的是，EXIOBASE数据集中的温室气体排放包括燃烧和非燃烧过程、农业和废物处理的排放，但不包括土地使用、土地使用变化和林业的排放。为了计算与欧盟消费相关的物质使用，多个类别的物质使用系数（包括农作物和农作物残余物的国内提取使用、放牧和饲料、林业和木材等）被汇总为总物质使用的指标（以千吨计）。土地使用最初针对20种不同的土地占用类别（耕地、森林地、基础设施用地和其他土地使用）进行计算，随后累加以确定与欧盟消费相关的总土地使用（以平方公里计）。由欧盟消费引起的水消耗是通过汇总不同经济部门的总蓝水消耗系数来计算的，如农业、制造业或电力。淡水水生、海洋水生和陆地生态毒性是通过EXIOBASE的汇总指标和问题导向方法来量化的，该方法权衡了每种有毒物质对空气、水和/或土壤的排放所产生的淡水水生生态毒性潜能、海洋水生生态毒性潜能和陆地生态毒性潜能的影响，并以1,4-二氯苯当量的公斤来衡量。无限影响的选择是基于国际生命周期数据系统的建议。为了考虑与欧盟消费相关的光化学氧化作用，这是由非甲烷挥发性有机化合物或一氧化碳等物质的排放引起的，我们使用了一个汇总和加权的指标来衡量形成的臭氧的公斤。如参考文献16所建议，我们选择了使用最大增量反应性方法的指标。最后，颗粒物排放是通过以PM2.5当量的公斤为单位的排放加权系数来确定的。与欧盟消费相关的供应链中的增值是通过从EXIOBASEv.3.8.1中获取的增值系数（以百万欧元计）来确定的。有关所选指标的更多细节见补充表1。</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/image-20231115173106947.png"alt="image-20231115173106947" /><figcaption aria-hidden="true">image-20231115173106947</figcaption></figure><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/image-20231115173137085.png"alt="image-20231115173137085" /><figcaption aria-hidden="true">image-20231115173137085</figcaption></figure><p>此外，我们使用了参考文献12中专为49个EXIOBASE地区开发的、具有<strong>土地占用特定生物多样性损失系数</strong>，通过测量<strong>物种可能消失的比例（PotentialDisappearingFraction，PDF）</strong>来计算生物多样性损失。这些系数是使用LC-IMPACT生命周期影响评估模型计算的，该模型为804个不同的生态区提供了具有土地占用特定的PDF系数，并且是基于先前的研究。我们在本研究中选择PDF来量化与欧盟消费相关的土地使用的全球影响，因为它能够确定可能的全球性灭绝，并考虑到物种特有的栖息地特征和威胁。然而，这个指标并没有考虑到本地相对物种丰度的变化，这可以通过使用额外的、补充的指标来量化。对于多元回归分析，使用世界发展指标数据银行计算了所有49个EXIOBASE地区的平均购买力平价2017年美元GDPpc值。如果某个国家没有数据，就从世界经济展望（2022年10月）中添加数据。计算聚合RoW地区平均值的人口数据取自联合国世界人口展望2022。用于创建地图的形状文件是从NaturalEarth和eurostat R软件包中检索的。(PDF这个很重要)</p><h4 id="limitation">Limitation</h4><p>这项研究存在几个局限性。首先，自2011年以来，一些压力和影响（例如，水消耗）的结果是基于一种现投例程（now-castingroutine），该例程将环境使用和经济活动之间的关系向前推演。为了验证这些现投的压力和影响，我们查看了EXIOBASEv.3.8.1中的系数，因为经济数据一直更新到2019年。在非现投数据的年份（2011年之前），本研究中使用的环境指标的国家-部门对系数并没有显著变化，反映了多年来效率的逐渐改进。类似的趋势在接下来的年份，直到2019年，在现投例程中被预测出来。此外，更新所有指标和国家的指标系统需要大量额外的工作，涉及数千个系数。更新这些全球数据库确实是一个普遍问题。考虑到经济数据实际上是最新的，以及环境系数随时间变化不大，我们认为使用EXIOBASE提供的现投值是合理的。（确实hh，EXIOBASE里很多数据在2011年之后是拟合值）</p><p>第二，这些指标的选择是基于参考文献16的分析，该分析仅针对2011年的基准年，而不是涵盖本研究的整个时间框架。我们不预期与分析中使用的基准年相比会有大的变化，因为参考文献16分析的是环境指标之间的变异性，这些变异性预期不会随时间显著变化。我们展示的动态主要是由于贸易结构、经济结构和消费模式的结构性变化，而不是随时间变化的环境系数。</p><p>第三，根据EXIOBASE，数据是通过问题导向的方法获取的。本文中使用的生态毒性指标反映了每单位向空气、水和/或土壤排放有毒物质的淡水水生生态毒性潜能（以每公斤排放的1,4-二氯苯当量计）、每单位向空气、水和/或土壤排放有毒物质的海洋水生生态毒性潜能（以每公斤排放的1,4-二氯苯当量计）和每单位向空气、水和/或土壤排放有毒物质的陆地生态毒性潜能（以每公斤排放的1,4-二氯苯当量计）。尽管在比较中，<strong>EXIOBASE的生态毒性结果可能远小于生命周期评估结果</strong>，但为了一致性，我们在整个研究中使用EXIOBASE的指标。</p><hr /><p>原文如下：</p><iframe src="/myjs/pdfjs/web/viewer.html?file=/pdf/NS-Ecologically unequal exchanges driven by EU consumption.pdf" style="width:100%;height:800px"></iframe><h3 id="代码解释">代码解释</h3><p>先放第一部分吧，最重要的是知道提取的数据是什么，也就是EXIOBASE的构成是什么。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#------------------------------------- import needed libraries --------------------------------------------------</span><br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> scipy.io<br><span class="hljs-keyword">import</span> scipy<br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><span class="hljs-comment">#set directory path for downloaded raw EXIOBASE 3.8.1 files</span><br>Dir = <span class="hljs-string">&quot;/Users/yu/Temp/Global land ESSV exchange/NS/Unequal_Exchanges_SI_Code/Data//&quot;</span><br>v1 = [<span class="hljs-string">&#x27;ixi&#x27;</span>,<span class="hljs-string">&#x27;pxp&#x27;</span>]<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">关于EXIOBASE的一些说明(这里其实需要一些关于投入产出表的基础知识和EXIOBASE的结构，及其卫星账户的知识)：</span><br><span class="hljs-string">参考：https://onlinelibrary.wiley.com/doi/10.1111/jiec.12715</span><br><span class="hljs-string">发现WIOD和EORA都更新了，WIOD更新了2000年之前的一些东西，EORA也到2022，但2016年之后的年份就是在抢钱。ICIO有1995-2018</span><br><span class="hljs-string">1.数据时效：The original EXIOBASE 3 data series ends 2011. In addition, we also have estimates based on a range of auxiliary data, but mainly trade and macro-economic data which go up to 2022 when including IMF expectations. A lot of care must be taken in use of this data. It is only partially suitable for analysing trends over time! As of v3.8 (doi: 10.5281/zenodo.4277368), the end years of real data points used are: 2015 energy, 2019 all GHG (non fuel, non-CO2 are nowcasted from 2018), 2013 material, 2011 most others, land, water. More details are available in the readme file.</span><br><span class="hljs-string">2.文件命名：</span><br><span class="hljs-string">IOT_YYYY_ixi.zip - MRIO archive for Year YYYY in industry by industry format 即部门表</span><br><span class="hljs-string">IOT_YYYY_pxp.zip - MRIO archive for Year YYYY in product by product format 即产品表 (原始页面这里写错了，应该是pxp，不是ixi)</span><br><span class="hljs-string">3.文件结构：</span><br><span class="hljs-string">The MRIO archive contains the following files:</span><br><span class="hljs-string">    Z.txt - flow/transactions matrix 其实是个7987*7987的矩阵，不过加上了表头，可以把数据粘贴到Excel里看看</span><br><span class="hljs-string">    A.txt - matrix/inter-industry coefficients, (direct requirements matrix) 大小同上，A=Z/x</span><br><span class="hljs-string">    Y.txt - final demand 有时候也叫F矩阵，最终需求矩阵，每个地区有7类最终需求，所以该部分的大小是 （7*49）*7987</span><br><span class="hljs-string">    x.txt - gross/total output 49*163，一共7987条，如果是pxp，就是49*200，上同</span><br><span class="hljs-string">    unit.txt - Units of the flow data 单位是百万欧元</span><br><span class="hljs-string">两个扩展资料：</span><br><span class="hljs-string">    satellite - uncharacterized stressors data - e.g. CO2 emissions, land use per category, etc.</span><br><span class="hljs-string">    impacts - characterized stressors (=&gt; impacts) - e.g. total GWP100, total land use, etc</span><br><span class="hljs-string">The total list of stressors and impacts are in the index of all files, most conveniently in the &#x27;unit.txt&#x27;.</span><br><span class="hljs-string">Both extension subfolder contain: </span><br><span class="hljs-string">    F.txt - Factors of productions/stressors/impacts</span><br><span class="hljs-string">    F_Y.txt - Stressors/impacts of the final demand 列数为49*7，行数是1113，参见 unit 的第一列</span><br><span class="hljs-string">    S.txt - Direct stressor/impact coefficients</span><br><span class="hljs-string">    S_Y.txt - Stressor/impact coefficients of the final demand</span><br><span class="hljs-string">    M.txt - MRIO extension multipliers (total requirement factors of consumption)</span><br><span class="hljs-string">    D_cba.txt - Consumption based accounts per sector</span><br><span class="hljs-string">    D_pba.txt - Production based accounts per sector</span><br><span class="hljs-string">    D_cba_reg.txt - Consumption based accounts per region</span><br><span class="hljs-string">    D_pba_reg.txt - Production based accounts per region</span><br><span class="hljs-string">    D_imp_reg.txt - Import accounts per region</span><br><span class="hljs-string">    D_exp_reg.txt - Export accounts per region</span><br><span class="hljs-string">    unit.txt - Absolute units of the stressor and impacts</span><br><span class="hljs-string">The unit of the coefficient data M and S are given be the unit of the satellite</span><br><span class="hljs-string">account per unit of the economic core (e.g. kg CO2eq/Million Euro)</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br><span class="hljs-comment">#set loop through all years</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1995</span>,<span class="hljs-number">2023</span>): <br>    <span class="hljs-comment">#取不到2023，只到2022</span><br>    <span class="hljs-built_in">print</span>(i)<br>    <span class="hljs-comment">#set loop for products (pxp) and sectors (ixi)</span><br>    <span class="hljs-keyword">for</span> i1 <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>,<span class="hljs-number">2</span>):<br>        j = v1[i1]<br>        <span class="hljs-comment">#set directory for specific items in raw EXIOBASE 3.8.1 files</span><br>        Directory = Dir+<span class="hljs-string">&quot;IOT_&quot;</span>+<span class="hljs-built_in">str</span>(i)+<span class="hljs-string">&quot;_&quot;</span>+<span class="hljs-built_in">str</span>(j)+<span class="hljs-string">&quot;//&quot;</span><br>        <span class="hljs-comment">#---------------------extracting final demand matrix Y-------------------------</span><br>        Path_Y = Directory + <span class="hljs-string">&#x27;Y.txt&#x27;</span><br>        MRIO_Y = pd.read_csv(Path_Y, sep = <span class="hljs-string">&#x27;\t&#x27;</span>, header=<span class="hljs-number">0</span>, encoding=<span class="hljs-string">&#x27;iso-8859-1&#x27;</span>, low_memory=<span class="hljs-literal">False</span>)<br>        <span class="hljs-comment"># standard UTF-8 encoding raises error</span><br>        MRIO_Y<br>        <span class="hljs-comment">#print(list(MRIO_Y))</span><br>        <br>        <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">        首先，代码设置了一个循环，遍历1995年到2022年的所有年份。在每个年份的循环中，又设置了一个内部循环，遍历产品（pxp）和部门（ixi）。在内部循环中，构造了一个特定的目录路径，这个路径包含了年份和元素。</span><br><span class="hljs-string">        然后，代码从特定目录下的Y.txt文件中提取了最终需求矩阵Y。这个文件是以制表符（&#x27;\t&#x27;）分隔的，第0行是列名，文件编码为&#x27;iso-8859-1&#x27;，并设置了low_memory=False以减少内存使用。提取的数据被存储在MRIO_Y变量中。</span><br><span class="hljs-string">        &#x27;&#x27;&#x27;</span><br><br>        <span class="hljs-comment">#get country list</span><br>        MRIO_Country = [<span class="hljs-built_in">list</span>(MRIO_Y)[i] <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> np.arange(<span class="hljs-number">2</span>,<span class="hljs-number">339</span>,<span class="hljs-number">7</span>)]<br>        <span class="hljs-comment"># 生成一个从2开始，到338结束，步长为7的整数序列。这意味着我们从list(MRIO_Y)中选取了索引为2, 9, 16, ..., 338的元素。就是取到地区名称啦，其实地区名称也可以直接从exiobase论文附件找到</span><br>        <span class="hljs-comment">#print(MRIO_Country)</span><br>        <br>        <span class="hljs-comment">#make matrix Y</span><br>        MRIO_Y = MRIO_Y.values[<span class="hljs-number">2</span>::,<span class="hljs-number">2</span>::]<br>        MRIO_Y = MRIO_Y.astype(<span class="hljs-string">&#x27;float&#x27;</span>)<br>        MRIO_Y.shape<br>        <br>        <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">        首先，MRIO_Y = MRIO_Y.values[2::,2::]这行代码使用NumPy风格的切片来选择MRIO_Y数据的一个子集。2::切片意味着&quot;从索引2开始到结束&quot;，所以这行代码实际上是丢弃了数据的前两行和两列。</span><br><span class="hljs-string">        接下来的一行，MRIO_Y = MRIO_Y.astype(&#x27;float&#x27;)，将MRIO_Y矩阵中的元素数据类型转换为浮点数。这是因为原始数据可能是其他类型（如字符串或整数），而我们需要将其转换为浮点数以进行后续的数值计算。</span><br><span class="hljs-string">        最后，MRIO_Y.shape这行代码会返回MRIO_Y矩阵的形状（即，行数和列数）。这可以用于检查数据的维度，确保数据的形状符合我们的预期。然而，由于这个结果没有被赋值给任何变量或打印出来，所以在这个上下文中没有任何效果。如果你想查看这个形状信息，你可以使用print(MRIO_Y.shape)来打印它。</span><br><span class="hljs-string">        &#x27;&#x27;&#x27;</span><br><br><br>        <span class="hljs-comment">#---------------------extracting product recipe matrix A-------------------------</span><br>        Path_A = Directory + <span class="hljs-string">&#x27;A.txt&#x27;</span><br>        <br>        MRIO_A = pd.read_csv(Path_A, sep = <span class="hljs-string">&#x27;\t&#x27;</span>, header=<span class="hljs-number">0</span>, encoding=<span class="hljs-string">&#x27;iso-8859-1&#x27;</span>, low_memory=<span class="hljs-literal">False</span>)<br>        <span class="hljs-comment"># standard UTF-8 encoding raises error</span><br>        MRIO_A = MRIO_A.values[<span class="hljs-number">2</span>::,<span class="hljs-number">2</span>::]<br>        MRIO_A = MRIO_A.astype(<span class="hljs-string">&#x27;float&#x27;</span>)<br>        MRIO_A.shape<br>        <span class="hljs-comment">#print(MRIO_A)</span><br>        <br>        <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">        首先，Path_A = Directory + &#x27;A.txt&#x27;这行代码构造了一个文件路径Path_A，这个路径指向了特定目录下的A.txt文件。</span><br><span class="hljs-string">        接下来，MRIO_A = pd.read_csv(Path_A, sep = &#x27;\t&#x27;, header=0, encoding=&#x27;iso-8859-1&#x27;, low_memory=False)这行代码使用pandas的pd.read_csv函数读取了这个A.txt文件，并将其内容存储在MRIO_A变量中。这个函数使用了制表符（&#x27;\t&#x27;）作为字段分隔符，指定了第0行为列名，指定了文件编码为&#x27;iso-8859-1&#x27;，并设置了low_memory=False以减少内存使用。</span><br><span class="hljs-string">        然后，MRIO_A = MRIO_A.values[2::,2::]这行代码使用NumPy风格的切片来选择MRIO_A数据的一个子集。2::切片意味着&quot;从索引2开始到结束&quot;，所以这行代码实际上是丢弃了数据的前两行和两列。</span><br><span class="hljs-string">        接下来的一行，MRIO_A = MRIO_A.astype(&#x27;float&#x27;)，将MRIO_A矩阵中的元素数据类型转换为浮点数。这是因为原始数据可能是其他类型（如字符串或整数），而我们需要将其转换为浮点数以进行后续的数值计算。</span><br><span class="hljs-string">        最后，MRIO_A.shape这行代码会返回MRIO_A矩阵的形状（即，行数和列数）。这可以用于检查数据的维度，确保数据的形状符合我们的预期。然而，由于这个结果没有被赋值给任何变量或打印出来，所以在这个上下文中没有任何效果。如果你想查看这个形状信息，你可以使用print(MRIO_A.shape)来打印它。</span><br><span class="hljs-string">        &#x27;&#x27;&#x27;</span><br>        <br>        <span class="hljs-comment">#---------------------extracting emission/ressource matrix F for stressors-------------------------</span><br>        Path_F = Directory + <span class="hljs-string">&#x27;satellite//F.txt&#x27;</span><br>        <br>        MRIO_F = pd.read_csv(Path_F, sep = <span class="hljs-string">&#x27;\t&#x27;</span>, header=<span class="hljs-number">1</span>, encoding=<span class="hljs-string">&#x27;iso-8859-1&#x27;</span>, low_memory=<span class="hljs-literal">False</span>)<br>        <span class="hljs-comment"># standard UTF-8 encoding raises error</span><br>        MRIO_F = MRIO_F.values[<span class="hljs-number">1</span>::,<span class="hljs-number">1</span>::]<br>        MRIO_F = MRIO_F.astype(<span class="hljs-string">&#x27;float&#x27;</span>)<br>        <br>        MRIO_F.shape<br>        <span class="hljs-comment">#print(MRIO_F)</span><br>        <br>        <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">        首先，Path_F = Directory + &#x27;satellite//F.txt&#x27;这行代码构造了一个文件路径Path_F，这个路径指向了特定目录下的F.txt文件。</span><br><span class="hljs-string">        接下来，MRIO_F = pd.read_csv(Path_F, sep = &#x27;\t&#x27;, header=1, encoding=&#x27;iso-8859-1&#x27;, low_memory=False)这行代码使用pandas的pd.read_csv函数读取了这个F.txt文件，并将其内容存储在MRIO_F变量中。这个函数使用了制表符（&#x27;\t&#x27;）作为字段分隔符，指定了第1行为列名，指定了文件编码为&#x27;iso-8859-1&#x27;，并设置了low_memory=False以减少内存使用。</span><br><span class="hljs-string">        然后，MRIO_F = MRIO_F.values[1::,1::]这行代码使用NumPy风格的切片来选择MRIO_F数据的一个子集。1::切片意味着&quot;从索引1开始到结束&quot;，所以这行代码实际上是丢弃了数据的第一行和第一列。</span><br><span class="hljs-string">        接下来的一行，MRIO_F = MRIO_F.astype(&#x27;float&#x27;)，将MRIO_F矩阵中的元素数据类型转换为浮点数。这是因为原始数据可能是其他类型（如字符串或整数），而我们需要将其转换为浮点数以进行后续的数值计算。</span><br><span class="hljs-string">        最后，MRIO_F.shape这行代码会返回MRIO_F矩阵的形状（即，行数和列数）。这可以用于检查数据的维度，确保数据的形状符合我们的预期。然而，由于这个结果没有被赋值给任何变量或打印出来，所以在这个上下文中没有任何效果。如果你想查看这个形状信息，你可以使用print(MRIO_F.shape)来打印它。</span><br><span class="hljs-string">        &#x27;&#x27;&#x27;</span><br><br>        <span class="hljs-comment">#---------------------extracting direct emission matrix Fhh for stressors-------------------------</span><br>        Path_Fhh = Directory + <span class="hljs-string">&#x27;satellite//F_hh.txt&#x27;</span><br>        MRIO_Fhh = pd.read_csv(Path_Fhh, sep = <span class="hljs-string">&#x27;\t&#x27;</span>, header=<span class="hljs-number">1</span>, encoding=<span class="hljs-string">&#x27;iso-8859-1&#x27;</span>, low_memory=<span class="hljs-literal">False</span>)<br>        <span class="hljs-comment"># standard UTF-8 encoding raises error</span><br>        MRIO_FCat= <span class="hljs-built_in">list</span>(MRIO_Fhh)[<span class="hljs-number">1</span>:<span class="hljs-number">8</span>] <span class="hljs-comment"># 将MRIO_Fhh转换为列表，并取出索引为1到7的元素（第2-8个），然后将这些元素赋值给MRIO_FCat。这些元素可能是排放/资源的类别。</span><br>        MRIO_Fhh = MRIO_Fhh.values[<span class="hljs-number">1</span>::,<span class="hljs-number">1</span>::]<br>        MRIO_Fhh = MRIO_Fhh.astype(<span class="hljs-string">&#x27;float&#x27;</span>)<br>        MRIO_Fhh.shape<br>        <span class="hljs-comment"># 同样是把第一行和第一列去掉了</span><br><br>        <span class="hljs-comment">#---------------------extracting emission/ressource names for stressors-------------------------</span><br>        Path_Fdata = Directory + <span class="hljs-string">&#x27;satellite//unit.txt&#x27;</span><br>        MRIO_Fdata = pd.read_csv(Path_Fdata, sep = <span class="hljs-string">&#x27;\t&#x27;</span>, header=<span class="hljs-number">0</span>, encoding = <span class="hljs-string">&#x27;iso-8859-1&#x27;</span>) <span class="hljs-comment"># standard UTF-8 encoding raises error</span><br>        MRIO_Fdata = MRIO_Fdata.astype(<span class="hljs-string">&#x27;str&#x27;</span>)<br>        MRIO_Fdata<br>        <br>        MRIO_Ftype = <span class="hljs-built_in">list</span>(MRIO_Fdata.iloc[:,<span class="hljs-number">0</span>])<br>        MRIO_Funit = <span class="hljs-built_in">list</span>(MRIO_Fdata.iloc[:,<span class="hljs-number">1</span>])<br>        <span class="hljs-comment"># 两行代码分别提取了MRIO_Fdata的第一列和第二列，并将它们转换为列表。这两列分别代表排放/资源的类型和单位。iloc是pandas DataFrame的一个属性，它提供了基于整数位置的索引功能。</span><br>        <span class="hljs-comment">#print(MRIO_Ftype)</span><br>        <span class="hljs-comment">#print(MRIO_Funit)</span><br>        <br>        <span class="hljs-comment">#---------------------extracting industry/region names-------------------------</span><br>        Path_F = Directory + <span class="hljs-string">&#x27;products.txt&#x27;</span><br>        MRIO_Industries = pd.read_csv(Path_F, sep = <span class="hljs-string">&#x27;\t&#x27;</span>, header=<span class="hljs-number">0</span>, encoding = <span class="hljs-string">&#x27;iso-8859-1&#x27;</span> ) <span class="hljs-comment"># standard UTF-8 encoding raises error</span><br>        MRIO_Industries = MRIO_Industries.astype(<span class="hljs-string">&#x27;str&#x27;</span>)<br>        MRIO_Industries = MRIO_Industries.reset_index() <span class="hljs-comment"># reset_index()函数将索引重置为从0开始的整数索引。这是因为在读取数据时，pandas会自动为每行数据分配一个索引，但这个索引可能并不符合我们的需求，所以我们需要重置它。</span><br>        MRIO_Industries = <span class="hljs-built_in">list</span>(MRIO_Industries[<span class="hljs-string">&#x27;Name&#x27;</span>]) <span class="hljs-comment"># 一共200个产品</span><br>        <span class="hljs-comment">#print(MRIO_Industries)</span><br>        <br>        <span class="hljs-comment">#---------------------inversing A matrix to get L matrix-------------------------</span><br>        <span class="hljs-keyword">if</span> i1 == <span class="hljs-number">0</span>:<br>            I = np.identity(<span class="hljs-number">7987</span>)<br>        <span class="hljs-keyword">else</span>:<br>            I = np.identity(<span class="hljs-number">9800</span>)<br>        MRIO_L = np.linalg.inv(I-MRIO_A)<br>        MRIO_L.shape<br>        <br>        <span class="hljs-comment">#---------------------building the emission intensity matrix S-------------------------</span><br>        MRIO_X = MRIO_L.dot(MRIO_Y.<span class="hljs-built_in">sum</span>(axis = <span class="hljs-number">1</span>))<br>        MRIO_X<br>        MRIO_X.shape<br>        MRIO_S = np.zeros(MRIO_F.shape)<br>        <span class="hljs-keyword">for</span> m <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>,MRIO_A.shape[<span class="hljs-number">0</span>]):<br>            <span class="hljs-keyword">if</span> MRIO_X[m] &gt; <span class="hljs-number">1</span>: <span class="hljs-comment"># Threshold for sector output: 1 MEUR</span><br>                MRIO_S[:,m] = MRIO_F[:,m] / MRIO_X[m]<br>        MRIO_S.shape<br><br>        <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">        首先，MRIO_X = MRIO_L.dot(MRIO_Y.sum(axis = 1))这行代码计算了MRIO_L矩阵和MRIO_Y矩阵列和的点积，并将结果存储在MRIO_X中。这里的MRIO_L可能是一个Leontief逆矩阵，MRIO_Y可能是一个最终需求矩阵。MRIO_Y.sum(axis = 1)计算了MRIO_Y的列和，即每个行业的总需求。然后，这个总需求和MRIO_L的点积就得到了每个行业的总产出MRIO_X。</span><br><span class="hljs-string">        接下来，MRIO_X.shape这行代码会返回MRIO_X的形状（即，行数和列数）。这可以用于检查数据的维度，确保数据的形状符合我们的预期。然而，由于这个结果没有被赋值给任何变量或打印出来，所以在这个上下文中没有任何效果。</span><br><span class="hljs-string">        然后，MRIO_S = np.zeros(MRIO_F.shape)这行代码创建了一个形状和MRIO_F相同，但所有元素都为0的新矩阵MRIO_S。这个MRIO_S就是我们要构建的排放强度矩阵。</span><br><span class="hljs-string">        接下来，for m in range(0,MRIO_A.shape[0]):这行代码设置了一个循环，m的值从0开始，到MRIO_A.shape[0]结束。这个循环主要用于遍历MRIO_A的所有行，MRIO_A可能是一个产品配方矩阵。</span><br><span class="hljs-string">        在循环中，if MRIO_X[m] &gt; 1:这行代码检查了MRIO_X的第m个元素是否大于1。这个1可能是一个阈值，代表了行业产出的最小值。只有当行业产出大于这个阈值时，我们才会计算其排放强度。</span><br><span class="hljs-string">        最后，MRIO_S[:,m] = MRIO_F[:,m] / MRIO_X[m]这行代码计算了第m个行业的排放强度，并将其存储在MRIO_S的第m列中。这个排放强度是通过将MRIO_F的第m列（即第m个行业的排放）除以MRIO_X的第m个元素（即第m个行业的产出）得到的。</span><br><span class="hljs-string">        在循环结束后，我们就得到了完整的排放强度矩阵MRIO_S。MRIO_S.shape这行代码会返回MRIO_S的形状，这可以用于检查数据的维度，确保数据的形状符合我们的预期。</span><br><span class="hljs-string">        &#x27;&#x27;&#x27;</span><br>    <br><br><br>        <span class="hljs-comment">#---------------------saving the newly built EXIOBASE dataset for matlab-------------------------</span><br>        Filestring_Matlab_out = Dir + <span class="hljs-string">&#x27;EXIOBASE3_8_1_&#x27;</span>+<span class="hljs-built_in">str</span>(i)+<span class="hljs-string">&#x27;_&#x27;</span>+<span class="hljs-built_in">str</span>(j)+<span class="hljs-string">&#x27;.mat&#x27;</span><br>        scipy.io.savemat(Filestring_Matlab_out, mdict=&#123;<span class="hljs-string">&#x27;EB3_&#x27;</span>+<span class="hljs-built_in">str</span>(i)+<span class="hljs-string">&#x27;_&#x27;</span>+<span class="hljs-built_in">str</span>(j)+<span class="hljs-string">&#x27;_FinalDemand_Emissions&#x27;</span>:MRIO_Fhh,<br>                                                       <span class="hljs-string">&#x27;EB3_&#x27;</span>+<span class="hljs-built_in">str</span>(i)+<span class="hljs-string">&#x27;_&#x27;</span>+<span class="hljs-built_in">str</span>(j)+<span class="hljs-string">&#x27;_S_Stressors_ITC&#x27;</span>:MRIO_S,<br>                                                       <span class="hljs-string">&#x27;EB3_&#x27;</span>+<span class="hljs-built_in">str</span>(i)+<span class="hljs-string">&#x27;_&#x27;</span>+<span class="hljs-built_in">str</span>(j)+<span class="hljs-string">&#x27;_L_ITC&#x27;</span>:MRIO_L,<br>                                                       <span class="hljs-string">&#x27;EB3_&#x27;</span>+<span class="hljs-built_in">str</span>(i)+<span class="hljs-string">&#x27;_&#x27;</span>+<span class="hljs-built_in">str</span>(j)+<span class="hljs-string">&#x27;_Y&#x27;</span>:MRIO_Y,<br>                                                       <span class="hljs-string">&#x27;EB3_&#x27;</span>+<span class="hljs-built_in">str</span>(i)+<span class="hljs-string">&#x27;_&#x27;</span>+<span class="hljs-built_in">str</span>(j)+<span class="hljs-string">&#x27;_TableUnits&#x27;</span>:<span class="hljs-string">&#x27;MEUR&#x27;</span>,<br>                                                       <span class="hljs-string">&#x27;EB3_&#x27;</span>+<span class="hljs-built_in">str</span>(i)+<span class="hljs-string">&#x27;_&#x27;</span>+<span class="hljs-built_in">str</span>(j)+<span class="hljs-string">&#x27;_Stressors_Labels&#x27;</span>:MRIO_Ftype,<br>                                                       <span class="hljs-string">&#x27;EB3_&#x27;</span>+<span class="hljs-built_in">str</span>(i)+<span class="hljs-string">&#x27;_&#x27;</span>+<span class="hljs-built_in">str</span>(j)+<span class="hljs-string">&#x27;_Stressors_Units&#x27;</span>:MRIO_Funit,<br>                                                       <span class="hljs-string">&#x27;EB3_&#x27;</span>+<span class="hljs-built_in">str</span>(i)+<span class="hljs-string">&#x27;_&#x27;</span>+<span class="hljs-built_in">str</span>(j)+<span class="hljs-string">&#x27;_FDCats&#x27;</span>:MRIO_FCat,<br>                                                       <span class="hljs-string">&#x27;EB3_&#x27;</span>+<span class="hljs-built_in">str</span>(i)+<span class="hljs-string">&#x27;_&#x27;</span>+<span class="hljs-built_in">str</span>(j)+<span class="hljs-string">&#x27;_ProductNames200&#x27;</span>:MRIO_Industries,<br>                                                       <span class="hljs-string">&#x27;EB3_&#x27;</span>+<span class="hljs-built_in">str</span>(i)+<span class="hljs-string">&#x27;_&#x27;</span>+<span class="hljs-built_in">str</span>(j)+<span class="hljs-string">&#x27;_RegionList&#x27;</span>:MRIO_Country&#125;)<br><br>        <span class="hljs-comment"># 会同时输出 ixi.mat 和 pxp.mat</span><br><br>        <span class="hljs-comment">#---------------------extracting stressor coeffcient matrix S_stress-------------------------</span><br>        Path_S_stress = Directory + <span class="hljs-string">&#x27;satellite//S.txt&#x27;</span><br>        MRIO_S_stress = pd.read_csv(Path_S_stress, sep = <span class="hljs-string">&#x27;\t&#x27;</span>, header=<span class="hljs-number">1</span>, encoding=<span class="hljs-string">&#x27;iso-8859-1&#x27;</span>, low_memory=<span class="hljs-literal">False</span>)<br>        <span class="hljs-comment"># standard UTF-8 encoding raises error</span><br>        MRIO_S_stress = MRIO_S_stress.values[<span class="hljs-number">1</span>::,<span class="hljs-number">1</span>::]<br>        MRIO_S_stress = MRIO_S_stress.astype(<span class="hljs-string">&#x27;float&#x27;</span>)<br>        MRIO_S_stress.shape<br>        <br>        <span class="hljs-comment">#---------------------extracting stressor coeffcient matrix S_impact-------------------------</span><br>        Path_S_impact = Directory + <span class="hljs-string">&#x27;impacts//S.txt&#x27;</span><br>        MRIO_S_impact = pd.read_csv(Path_S_impact, sep = <span class="hljs-string">&#x27;\t&#x27;</span>, header=<span class="hljs-number">1</span>, encoding=<span class="hljs-string">&#x27;iso-8859-1&#x27;</span>, low_memory=<span class="hljs-literal">False</span>)<br>        <span class="hljs-comment"># standard UTF-8 encoding raises error</span><br>        MRIO_S_impact = MRIO_S_impact.values[<span class="hljs-number">1</span>::,<span class="hljs-number">1</span>::]<br>        MRIO_S_impact = MRIO_S_impact.astype(<span class="hljs-string">&#x27;float&#x27;</span>)<br>        MRIO_S_impact.shape<br>        <br>        <span class="hljs-comment">#---------------------extracting emission/ressource names for impacts-------------------------</span><br>        Path_IMPdata = Directory + <span class="hljs-string">&#x27;impacts//unit.txt&#x27;</span><br>        MRIO_IMPdata = pd.read_csv(Path_IMPdata, sep = <span class="hljs-string">&#x27;\t&#x27;</span>, header=<span class="hljs-number">0</span>, encoding = <span class="hljs-string">&#x27;iso-8859-1&#x27;</span>) <span class="hljs-comment"># standard UTF-8 encoding raises error</span><br>        MRIO_IMPdata = MRIO_IMPdata.astype(<span class="hljs-string">&#x27;str&#x27;</span>)<br>        MRIO_IMPdata<br>        <br>        MRIO_IMPtype = <span class="hljs-built_in">list</span>(MRIO_IMPdata.iloc[:,<span class="hljs-number">0</span>])<br>        MRIO_IMPunit = <span class="hljs-built_in">list</span>(MRIO_IMPdata.iloc[:,<span class="hljs-number">1</span>])<br>        <br>        <span class="hljs-comment">#---------------------extracting direct emission matrix Fhh for impacts-------------------------</span><br>        Path_Fhh_impact = Directory + <span class="hljs-string">&#x27;impacts//F_hh.txt&#x27;</span><br>        MRIO_Fhh_impact = pd.read_csv(Path_Fhh_impact, sep = <span class="hljs-string">&#x27;\t&#x27;</span>, header=<span class="hljs-number">1</span>, encoding=<span class="hljs-string">&#x27;iso-8859-1&#x27;</span>, low_memory=<span class="hljs-literal">False</span>)<br>        <span class="hljs-comment"># standard UTF-8 encoding raises error</span><br>        MRIO_FCat_impact= <span class="hljs-built_in">list</span>(MRIO_Fhh_impact)[<span class="hljs-number">1</span>:<span class="hljs-number">8</span>]<br>        MRIO_Fhh_impact = MRIO_Fhh_impact.values[<span class="hljs-number">1</span>::,<span class="hljs-number">1</span>::]<br>        MRIO_Fhh_impact = MRIO_Fhh_impact.astype(<span class="hljs-string">&#x27;float&#x27;</span>)<br>        MRIO_Fhh_impact.shape<br><br>        <span class="hljs-comment">#---------------------saving the S matrices and impact data-------------------------</span><br>        Filestring_Matlab_out = Dir + <span class="hljs-string">&#x27;EXIOBASE3_8_1_&#x27;</span>+<span class="hljs-built_in">str</span>(i)+<span class="hljs-string">&#x27;_&#x27;</span>+<span class="hljs-built_in">str</span>(j)+<span class="hljs-string">&#x27;_S_matrices.mat&#x27;</span><br>        scipy.io.savemat(Filestring_Matlab_out, mdict=&#123;<span class="hljs-string">&#x27;EB3_&#x27;</span>+<span class="hljs-built_in">str</span>(i)+<span class="hljs-string">&#x27;_&#x27;</span>+<span class="hljs-built_in">str</span>(j)+<span class="hljs-string">&#x27;_S_Stressors&#x27;</span>:MRIO_S_stress,<br>                                                       <span class="hljs-string">&#x27;EB3_&#x27;</span>+<span class="hljs-built_in">str</span>(i)+<span class="hljs-string">&#x27;_&#x27;</span>+<span class="hljs-built_in">str</span>(j)+<span class="hljs-string">&#x27;_FinalDemand_Impacts&#x27;</span>:MRIO_Fhh_impact,<br>                                                       <span class="hljs-string">&#x27;EB3_&#x27;</span>+<span class="hljs-built_in">str</span>(i)+<span class="hljs-string">&#x27;_&#x27;</span>+<span class="hljs-built_in">str</span>(j)+<span class="hljs-string">&#x27;_S_Impacts&#x27;</span>:MRIO_S_impact,<br>                                                       <span class="hljs-string">&#x27;EB3_&#x27;</span>+<span class="hljs-built_in">str</span>(i)+<span class="hljs-string">&#x27;_&#x27;</span>+<span class="hljs-built_in">str</span>(j)+<span class="hljs-string">&#x27;_Impacts_Labels&#x27;</span>:MRIO_IMPtype,<br>                                                       <span class="hljs-string">&#x27;EB3_&#x27;</span>+<span class="hljs-built_in">str</span>(i)+<span class="hljs-string">&#x27;_&#x27;</span>+<span class="hljs-built_in">str</span>(j)+<span class="hljs-string">&#x27;_Impacts_Units&#x27;</span>:MRIO_IMPunit&#125;)<br>        <span class="hljs-comment"># 会同时输出 ixi_S_matrices.mat 和 pxp_S_matrices.mat</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>MRIO</tag>
      
      <tag>MATLAB</tag>
      
      <tag>投入产出分析</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>EXIOBASE结构介绍</title>
    <link href="/2023/11/16/EXIOBASE%E7%BB%93%E6%9E%84%E4%BB%8B%E7%BB%8D/"/>
    <url>/2023/11/16/EXIOBASE%E7%BB%93%E6%9E%84%E4%BB%8B%E7%BB%8D/</url>
    
    <content type="html"><![CDATA[<h4 id="整体介绍">整体介绍：</h4><p>首先来看“气候变化经济学”的介绍（基本是从EXIOBASE3论文里摘录的）：</p><blockquote><p><strong>EXIOBASE 第三版多区域环境拓展型供需表和投入产出表</strong></p><p>EXIOBASE是详细的全球多区域环境扩展的供需表和投入产出表（EEMRIO）。EXIOBASE是与环境经济核算系统（SEEA）兼容的数据库，具有很高的部门详细信息，并同时与多个社会消耗清单相匹配。最新的第三版EXIOBASE数据编制完成了从1995年到2011年的EEMRIO时序表，涵盖44个国家（28个欧盟成员国加16个世界主要经济体）和世界其它5个地区。</p><p>第三版EXIOBASE在以前版本的基础上，以163个行业（按200种产品分类）的矩形供需表用作主要构建基础，使用贸易数据将国家供应用途表链接起来，从而创建了一个多区域供需表，并由此生成多区域投入产出表。第三版EXIOBASE为广大科研工作者提供了一个独特的工具来分析经济活动的环境压力随着时间变化的动态影响。</p><p>EXIOBASE3数据一览：</p><figure><img src="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/640.png"alt="Image" /><figcaption aria-hidden="true">Image</figcaption></figure></blockquote><p>详细的产品、行业、地区列表，请见EXIOBASE3论文附件9或<ahref="https://onlinelibrary.wiley.com/action/downloadSupplement?doi=10.1111%2Fjiec.12715&amp;file=jiec12715-sup-0009-SuppMat-9.xlsx">点击此处</a>。</p><p>EEMRIOT示例如下：</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/Screenshot%202023-11-17%20at%2013.27.56.png"alt="Screenshot 2023-11-17 at 13.27.56" /><figcaption aria-hidden="true">Screenshot 2023-11-17 at13.27.56</figcaption></figure><p>在EXIOBASE，数据是通过欧盟统计局从欧盟27国收集的，以及来自其他16个国家的其他SUT和IO表。这些加起来覆盖了全球国内生产总值（GDP）的90%。</p><h4 id="文件结构">文件结构</h4><p>关于EXIOBASE的一些说明(这里其实需要一些关于投入产出表的基础知识和EXIOBASE的结构，及其卫星账户的知识)：发现WIOD和EORA都更新了，WIOD更新了2000年之前的一些东西，EORA也到2022，但2016年之后的年份就是在抢钱。ICIO有1995-2018。</p><ol type="1"><li><p><strong>数据时效：</strong>The original EXIOBASE 3 data seriesends 2011. In addition, we also have estimates based on a range ofauxiliary data, but mainly trade and macro-economic data which go up to2022 when including IMF expectations. A lot of care must be taken in useof this data. It is only partially suitable for analysing trends overtime! As of v3.8 (doi: 10.5281/zenodo.4277368), the end years of realdata points used are: 2015 energy, 2019 all GHG (non fuel, non-CO2 arenowcasted from 2018), 2013 material, 2011 most others, land, water. Moredetails are available in the readme file.</p></li><li><p>文件命名：</p><ul><li>IOT_YYYY_ixi.zip - MRIO archive for Year YYYY in industry byindustry format 即部门表</li><li>IOT_YYYY_pxp.zip - MRIO archive for Year YYYY in product by productformat 即产品表 (原始页面这里写错了，应该是pxp，不是ixi)</li></ul><p>这两种结构的进一步细节可在EUROSTAT手册（<ahref="https://ec.europa.eu/eurostat/documents/3859598/5902113/KS-RA-07-013-EN.PDF/b0b3d71e-3930-4442-94be-70b36cea9b39">EUROSTAT2008</a>）中找到。</p></li><li><p><strong>文件结构：</strong> The MRIO archive contains thefollowing files:</p><ul><li>Z.txt - flow/transactions matrix</li><li>A.txt - matrix/inter-industry coefficients, (direct requirementsmatrix)</li><li>Y.txt - final demand</li><li>x.txt - gross/total output</li><li>unit.txt - Units of the flow data</li><li>MRIOT一般结构，更多介绍参见：<ahref="https://www.mdpi.com/2071-1050/15/1/46">An Introductory Review ofInput-Output Analysis in Sustainability Sciences Including PotentialImplications ofAggregation</a>。卫星账户其实就是在表的下部加上就可以啦。</li></ul><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20231117142147820.png"alt="image-20231117142147820" /><figcaption aria-hidden="true">image-20231117142147820</figcaption></figure><p>or：</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2024/image-20231117144716245.png"alt="image-20231117144716245" /><figcaption aria-hidden="true">image-20231117144716245</figcaption></figure></li><li><p><strong>两个扩展资料：</strong></p><ul><li><p>satellite - uncharacterized stressors data - e.g. CO2 emissions,land use per category, etc.</p></li><li><p>impacts - characterized stressors (=&gt; impacts) - e.g. totalGWP100, total land use, etc</p><p>The total list of stressors and impacts are in the index of allfiles, most conveniently in the 'unit.txt'. Both extension subfoldercontain:</p><ul><li>F.txt - Factors of productions/stressors/impacts</li><li>F_Y.txt - Stressors/impacts of the final demand,</li><li>S.txt - Direct stressor/impact coefficients</li><li>S_Y.txt - Stressor/impact coefficients of the final demand</li><li>M.txt - MRIO extension multipliers (total requirement factors ofconsumption)</li><li>D_cba.txt - Consumption based accounts per sector</li><li>D_pba.txt - Production based accounts per sector</li><li>D_cba_reg.txt - Consumption based accounts per region</li><li>D_pba_reg.txt - Production based accounts per region</li><li>D_imp_reg.txt - Import accounts per region</li><li>D_exp_reg.txt - Export accounts per region</li><li>unit.txt - Absolute units of the stressor and impacts The unit ofthe coefficient data M and S are given be the unit of the satelliteaccount per unit of the economic core (e.g. kg CO2eq/Million Euro)</li></ul></li></ul></li></ol><h4 id="参考资料">参考资料：</h4><p><ahref="https://mp.weixin.qq.com/s/r0VeCGA8k40HjDft5CY5-A">基于投入产出表的中国数字经济卫星账户构建</a></p><p><ahref="https://mp.weixin.qq.com/s/_Gl3Wz-45Nc_wTLgPsDNKg">GSR公开课第七讲：投入产出分析在环境管理中的应用</a></p><p>https://www.openriskmanual.org/wiki/EXIOBASE</p><p><ahref="https://pymrio.readthedocs.io/en/latest/notebooks/working_with_exiobase.html">Pymrio-Workingwith the EXIOBASE EE MRIO database</a></p><p><a href="https://www.exiobase.eu/">EXIOBASE官方网站</a></p><p><ahref="https://www.sciencedirect.com/science/article/pii/S0921800908004801">Towardsa global multi-regional environmentally extended input–outputdatabase</a> （EXIOBASE 1前身）</p><p><ahref="https://www.tandfonline.com/doi/full/10.1080/09535314.2012.761952">EXIOPOL</a>（EXIOBASE 1）</p><p><a href="https://www.mdpi.com/2071-1050/7/1/138">EXIOBASE 2</a></p><p><a href="https://zenodo.org/records/5589597">EXIOBASE 3</a></p><p><ahref="https://onlinelibrary.wiley.com/doi/10.1111/jiec.12715">EXIOBASE3: Developing a Time Series of Detailed Environmentally ExtendedMulti-Regional Input-Output Tables</a></p><p><a href="https://lca-net.com/clubs/exiobase-update/">EXIOBASE UpdateClub</a></p><p><ahref="https://ec.europa.eu/eurostat/esa2010/chapter/view/22/#h807">CHAPTER22 Satellite accounts</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>MRIO</tag>
      
      <tag>MATLAB</tag>
      
      <tag>投入产出分析</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Handbook of Event Study</title>
    <link href="/2023/11/11/Handbook%20of%20Event%20Study/"/>
    <url>/2023/11/11/Handbook%20of%20Event%20Study/</url>
    
    <content type="html"><![CDATA[<p>前文（<ahref="https://yuzhangnju.github.io/2023/10/25/Handbook%20of%20DID%20family_20231026/">Handbookof DIDfamily</a>）提到，事件研究法现已成为DID策略的标准动作，用于<strong>检验平行趋势</strong>和发现<strong>外生冲击效应在时间上的变化</strong>，在此类应用中，事件研究法处于辅助地位。但DID设计本身存在两大缺陷，一是DID策略得到的是平均处理效应（ATE），而现实情况下我们更需要知道外生冲击在不同时段的不同影响，二是DID要求处理效应在冲击后立马显现，但事实上事件的效果往往需要过一段时间才能看出来（比如政策颁布的时点到执行层面落实有很长的间隔、疫苗接种后也不是立即生效）。（事实上DID策略还有很多其他问题，详见前文，在这些情况下，应用事件研究法可能是更好的选择。）</p><p>事件研究法为冲击的时间动态提供了丰富的细节（以图形直观展示），很好地弥补了DID的两大缺陷，在未来，事件研究法可能会与DID交换地位，成为处理效应研究的基准结果。</p><p>本篇博文摘录了事件研究法近期的进展，并在结尾附上代码，以<strong>在实践中学习</strong>为理念，我想通过实际操作，增进自己对事件研究法的掌握。</p><p>主要参考资料如下：</p><ul><li><p>张子尧 &amp; 黄炜.(2023).事件研究法的实现、问题和拓展.<em>数量经济技术经济研究</em>(09),71-92.</p></li><li><p>Miller, D. L. (2023). An Introductory Guide to Event StudyModels. <em>Journal of Economic Perspectives</em>, <em>37</em>(2),203-230.</p></li><li><p><ahref="https://mp.weixin.qq.com/s/5kC3RyyhZkOILtFrlbQOag">【香樟推文2919】ES，启动！——事件研究法入门指南</a></p></li><li><p><ahref="https://mp.weixin.qq.com/s/U-eJElBBzErXM5HaYl2mgA">【香樟推文2604】经久不衰的最低工资与就业问题——DID与事件研究法</a></p></li></ul><h2 id="事件研究法概述">1 事件研究法概述</h2><h3 id="对事件研究法的直观理解">1.1 对事件研究法的直观理解</h3><p>在<ahref="https://yuzhangnju.github.io/2023/10/25/Handbook%20of%20DID%20family_20231026/">前文</a>模拟数据进行平行趋势检验的代码中，可以发现，事件研究法与DID策略相比，两者回归方程的结构是一样的，但是主要变量由DID的“处理组*处理时点”换成了处理组虚拟变量与时间虚拟变量的所有可能性交互。直观理解就是，事件研究是将DID处理效应的箱子打开，将平均处理效应拆解为一系列“两组-两期”DID组合加权平均，有时事件研究法也被称为动态DID。（仔细想想是不是这样？事件研究法处理效应图中，每一个点都可以理解为一组2x2 DID）</p><p><strong>一图胜千言：</strong></p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/image-20231106154603637.png"alt="image-20231106154603637" /><figcaption aria-hidden="true">image-20231106154603637</figcaption></figure><p>⬆️上图展示了前文处理效应随时间变化的模拟数据结果，x轴为处理时点的相对时间，负数表示处理前，正数表示处理后，y轴是回归系数，及处理效应的大小和置信区间。</p><p>如果用DID的回归结果，我们能得到处理效应的大小，但是观测不到处理效应随时间的变化。使用事件研究法，我们可以发现在事前不存在处理效应，事后处理效应凸显，且效应的大小随时间增大。更丰富的处理效应，正是我们所关心的。</p><h3 id="结合方程与模拟数据的理解">1.2 结合方程与模拟数据的理解</h3><p>来看看<ahref="https://www.lianxh.cn/details/826.html">估计方程</a>（更换了渲染器，现在复杂公式也可以正常渲染了！）：<span class="math display">\[y_{st} = \alpha + \sum_{j=2}^J\beta_j(\text{Lag}\ j)_{st} +\sum_{k=1}^K(\text{Lead}\ k)_{st} + \mu_s + \lambda_t +X&#39;_{st}\Gamma + \epsilon_{st} \quad(1)\]</span> 式（1），<span class="math inline">\(y_{st}\)</span> 是第<span class="math inline">\(s\)</span> 个个体在第 <spanclass="math inline">\(t\)</span> 期的因变量，<spanclass="math inline">\(J\)</span> 和 <spanclass="math inline">\(K\)</span>分别表示事前和事后的期数（也称为滞后项和前置项），<spanclass="math inline">\(\mu_s\)</span> 和 <spanclass="math inline">\(\lambda_t\)</span>分别为个体固定效应与时间固定效应，我们要看的是前置项的系数。举个例子🌰：研究期为2008年到2017年，事件时点是2013年，那么<span class="math inline">\(J\)</span> 就为4，<spanclass="math inline">\(J\)</span>就为5。回归方程代码里，就要把这些年份都考虑进去。（写法很严谨，但见前文代码，操作很简单。）</p><p>用<ahref="https://www.aeaweb.org/articles?id=10.1257/jep.37.2.203">JEP论文</a>里的估计方程理解起来会更方便些（这个公式敲起来老费劲了）：<span class="math display">\[y_{it} =\underbrace{ (\sum_{j\in\{-m,_\cdots,0,_\cdots,n\}}\gamma_j\cdot D_{i,t-j} ) }_{\mathrm{Event\ Study\ Terms} }\  +\underbrace{\alpha_i+\delta_t}_{\mathrm{Panel\ Fixed\ Effects} } +\underbrace{\beta\cdot X_{it} }_{\mathrm{ (Optional)\ Control Variables}} + \epsilon_{it}\quad(2)\]</span> 式（2）中的重要系数含义如下：</p><ul><li><span class="math inline">\(\gamma_j\)</span> :事件系数，事后的系数能显示了事件处理的动态效果，事前的系数能提供安慰剂检验；</li><li><span class="math inline">\(D_{i,t-j}\)</span> :事件时间的指示变量。</li></ul><p>再来看一个模拟数据的例子：</p><blockquote><p>模拟样本中共有 400 个个体，每个个体有 20 期观测值。样本中共包含 4个组群(Group)，分别为 3 组在不同时点接受处理的处理组和 1组未受处理的控制组，每组均包含 100 个个体。3 组处理组分别在第 5、10、15期接受处理。处理组个体的处理效应随时间增长，受处理期限每增加 1期处理效应随之增加 1 单位。（张子尧等，2023）</p></blockquote><figure><img src="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/ES_ATT.png"alt="ES_ATT" /><figcaption aria-hidden="true">ES_ATT</figcaption></figure><blockquote><p>试试看此时用DID，算出来的平均处理效应是多少？（实验见代码部分）</p></blockquote><p>最早的相对处理期是-14期，最晚的相对处理组是15期，每个相对时期的平均处理效应如下（这应该算日历期的结果了？）：</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/image-20231106221142311.png"alt="image-20231106221142311" /><figcaption aria-hidden="true">image-20231106221142311</figcaption></figure><h3 id="事件研究法的基本假设">1.3 事件研究法的基本假设</h3><p>指试用TWFE时，事件研究的对象应该满足的假设（即下图a、b的情况）：</p><ul><li>平行趋势假设</li><li>无预期效应假设</li><li>同质性处理效应路径假设</li></ul><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/image-20231107203952473.png"alt="image-20231107203952473" /><figcaption aria-hidden="true">image-20231107203952473</figcaption></figure><h2 id="事件研究法实践中的若干问题">2 事件研究法实践中的若干问题</h2><h3 id="基期选择">2.1 基期选择</h3><p>基期是选择一个参照组，作为其他期可比对象，这样才能判断处理效应是不是显著、大小如何。理论上，基期选在处理时点之前的任一期都可，如果在不手动选的话，Stata会默认drop掉最早的一期。</p><p>但在实践中，将-1期，即事件发生的前一期作为基期的情况比较普遍，考虑到可能存在预期效应，也可以选择-3期。选择-1期，是现在的标准动作。（选择其他期难免被人怀疑操纵数据或挑选结果）</p><h3 id="对事前平行趋势假设的检验">2.2 对事前平行趋势假设的检验</h3><p>再强调一遍，平行趋势检验是非常重要的，它是使得潜在结果因果框架里处理组的反事实成立的最重要的条件。</p><p>当前的论文中，对平行趋势的检验，就是选择基准期后，观察事前每一期的系数是否为0，如果每一期的系数都不显著，就认为满足事前平行趋势。但这样做有两个问题：</p><ul><li>基期的影响很重要，选择不同的基期，系数的结果可能正好相反，基准期会整体上影响每一期系数的显著性；因此，有挑选结果的可能性；</li><li>事前平行趋势要求处理前每一期的平均处理效应为 0，其对应的原假设是<span class="math inline">\(\mu_{-2}=\mu_{-3}=\cdots=\mu_{-K}=0\)</span>，而目前的选择基期看系数的检验，检验的其实并不是这个原假设。因此，需要进行系数联合检验而不是关注单一系数的显著性。</li></ul><p>联合检验：如F检验，可以用来检查多个系数是否同时等于0。</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/image-20231106204518638.png"alt="image-20231106204518638" /><figcaption aria-hidden="true">image-20231106204518638</figcaption></figure><p>从（a）看，选择不同的基期，对事前系数的影响较大。</p><p>张子尧等（2022）对事前平行趋势检验有如下建议：</p><blockquote><p>第一，必须更加关注事前估计系数是否呈现出明显的时间趋势。个别事前估计系数显著可能仅仅是一种数据噪声导致的偶然现象，然而如果存在明显的事前趋势，可能预示着平行趋势假设不成立，这会直接威胁到事件研究法的识别假设可靠性，可能会导致估计结果产生严重偏误。因此，事前时间趋势(即使不显著)是比个别事前系数显著严重得多的大问题。若估计结果提示可能存在这一类问题，必须对该问题的来源进行详细的分析和讨论，并尽可能地做针对性处理以减轻对估计结果的干扰。</p><p>第二，由于事前时间趋势是关注重点，除了某些特殊情况外，必须对估计结果进行图形化以直观判别是否存在事前时间趋势。</p><p>第三，检验事前平行趋势应该对事前估计系数做联合检验而不是关注单一系数的显著性。</p></blockquote><h3 id="归并和截断数据">2.3 归并和截断数据</h3><p><strong>数据归并</strong>(Binning)是指设定一个事件窗口 <spanclass="math inline">\([-K,L]\)</span>，将早于事件窗口的观测值 <spanclass="math inline">\((l\le-K)\)</span> 的相对时期重新设定为 <spanclass="math inline">\(-K\)</span> 期，将晚于事件窗口的观测值 <spanclass="math inline">\(l\ge L\)</span> 的相对时期重新设定为 <spanclass="math inline">\(L\)</span> 期。</p><p><strong>数据截断</strong>(Trimming)同样是设定一个事件窗口，区别在于将事件窗口外的样本做删除而非归并。</p><p>归并数据的优势有二:一是在样本中没有从未接受处理的控制组时可以避免共线性问题以识别平均处理效应，二是保留了全部样本从而提高了估计效率。在实践中应该避免对处理发生后时期进行归并;若事前平行趋势满足，可以对处理前时期做适当归并。</p><p>截断数据的优势在于产生的偏误较小，但有一定的样本选择问题，并降低估计效率。</p><p>实践中两种方式都见过。</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/image-20231106211031460.png"alt="image-20231106211031460" /><figcaption aria-hidden="true">image-20231106211031460</figcaption></figure><h4 id="正确控制组群异质性时间趋势">2.4 正确控制组群异质性时间趋势</h4><p>事件研究法的核心识别假设是平行趋势假设。然而，由于涉及处理发生后不可观测的潜在结果，平行趋势假设本身是不可能被直接检验所证实或证伪的。因此，实践中研究者们一方面会检验事前平行趋势是否成立从而间接地为平行趋势假设提供支持，另一方面也考虑尽可能<strong>放松平行趋势假设</strong>，即允许处理组和控制组存在某种确定形式的趋势差异。最常见的是假设组间存在异质性的线性时间趋势，如下图所示，3个处理组分别存在斜率为 1、0.5、0.2的线性时间趋势，控制组不存在时间趋势。该数据生成过程显然不满足平行趋势假设，直接使用事件研究法无法得到平均处理效应的一致估计结果。针对这种情况，可以在回归方程的基础上进一步控制组群特定时间趋势:<span class="math display">\[y_{it} = \alpha_i + \gamma_gf(t) + \sum_{l=-K}^{-2}\mu_l D_{it}^l +\sum_{l=0}^L\beta_lD_{lt}^l + \epsilon_{it} \quad(3)\]</span> 式（3）中的 <span class="math inline">\(f(t)\)</span>表示时间趋势项的函数形式，可以是线性的，也可以是二次形式的；<spanclass="math inline">\(\gamma_g\)</span> 表示时间趋势项的参数，<spanclass="math inline">\(g\)</span>意味着不同组群的时间趋势项存在差异。下图中，控制组的时间趋势斜率 <spanclass="math inline">\(\gamma_0 = 0\)</span> ，组群1、2、3的时间趋势斜率分别为1、0.5 和0.2。</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/image-20231106211537255.png"alt="image-20231106211537255" /><figcaption aria-hidden="true">image-20231106211537255</figcaption></figure><p>实践中研究者们通常直接回归式（3），认为 <spanclass="math inline">\(y_gf(t)\)</span>可以良好地控制潜在的组间时间趋势差异，从而确保估计系数 <spanclass="math inline">\(\mu_l\)</span> 和 <spanclass="math inline">\(\beta_l\)</span>能够一致估计各期平均处理效应。然而事实<mark>并非如此</mark>！看例子：</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/image-20231106214116230.png"alt="image-20231106214116230" /><figcaption aria-hidden="true">image-20231106214116230</figcaption></figure><p>上图中，首先，可以发现由于平行趋势假设不满足，事件研究法无法正确识别处理前和处理后的真实平均处理效应。其次，令人惊讶的是，当控制住组群时间趋势项<span class="math inline">\(\gamma_g\times t\)</span>后，事件研究法不仅无法一致估计各期的平均因果效应，甚至会导致更大的估计偏误！并且，基期的选择也会对估计结果有很大影响！</p><p>如何处理组群间异质性时间趋势，目前主要有两种方法（我感觉两种方法本质上是一样的）：</p><ul><li><strong>手动剔除事前趋势的两阶段估计法</strong>：第一阶段使用未接受处理的子样本(控制组和尚未接受处理的处理组)估计组群异质性时间趋势并外推至处理后时期，从结果变量中剔除时间趋势(Detrend)。第二阶段使用剔除事前趋势后的结果变量进行事件研究法估计(Goodman-Bacon，2021;Dustmann等，2022)。这种方法背后的逻辑很直观:如果组群时间趋势在处理前和处理后时期保持不变，使用未接受处理的子样本可以正确估计组群时间趋势，经过去趋势处理的结果变量重新满足平行趋势假设，事件研究法能够正确地估计出各期平均处理效应；</li><li><strong>插补法</strong>：既然问题出在使用全样本无法一致估计组群时间趋势项，那么一个自然的解决思路是使用未接受处理的子样本来正确地识别出组群时间趋势项<span class="math inline">\(\gamma_gf(t)\)</span> 以及双向固定效应 <spanclass="math inline">\(\alpha_i\)</span> 和 <spanclass="math inline">\(\lambda _t\)</span> ，将其从结果变量 <spanclass="math inline">\(y_{it}\)</span> 中剔除后再进行回归估计。</li></ul><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/image-20231106220927856.png"alt="image-20231106220927856" /><figcaption aria-hidden="true">image-20231106220927856</figcaption></figure><p>⬆️，这里用两阶段DID和去除事前趋势都比较靠谱。</p><p>在实验中，我发现，只要将基期选择为最早的一期和处理前一期，控制时间趋势的话，结果相差不大的，在置信区间内，比如这里，选择-14期和-1期：</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/image-20231109112514196.png"alt="image-20231109112514196" /><figcaption aria-hidden="true">image-20231109112514196</figcaption></figure><blockquote><p>可以将时间趋势异质性的组群看成分段函数，起点分别是第一期和处理前一期，基期选择起点即可！</p></blockquote><h3 id="异质性处理效应条件下的事件研究法">2.5异质性处理效应条件下的事件研究法</h3><p>这部分也可以参考<ahref="https://yuzhangnju.github.io/2023/10/25/Handbook%20of%20DID%20family_20231026/">Handbookof DIDfamily</a>里的相关内容！还是那些异质性DID的稳健估计量或诊断方法。</p><h4 id="异质性处理效应但无组间趋势差异">2.5.1异质性处理效应但无组间趋势差异</h4><p>即满足平行趋势假设和无预期效应假设，但处理效应在组间存在差异，此时使用TWFE得出的处理效应是有偏的。原因是计算处理效应的权重出了问题，有负权重的现象，会把较早接受处理的组当成对照组，即“禁止比较”。（和之前的异质性DID一样，这也是3.2中使用TWFE算出来的处理效应只有2.69的原因）</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/image-20231112160047110.png"alt="image-20231112160047110" /><figcaption aria-hidden="true">image-20231112160047110</figcaption></figure><p>解决方案主要有（感觉本质是一样的hh）：</p><ul><li>“组群-时”期平均处理效应估计法：首先估计出组群—时期平均处理效应 <spanclass="math inline">\(ATT_{g,l}\)</span>，然后根据某种权重(等权重或组群规模权重)手动加权求出各相对时期的加权平均处理效应<span class="math inline">\(ATT_l\)</span>。由于在手动加权的过程中人为避免了负权重问题，这类估计量可以修正双向固定效应模型的偏误，正确地估计各时期的平均处理效应；</li><li>插补法：使用未受处理的子样本(包括控制组和处理前时期的处理组)估计拟合出处理组个体的反事实结果，而后计算出个体处理效应，最后加总得到各个相对时期的平均处理效应；</li><li>堆叠法：通过为每个处理组组群匹配一个由从未接受处理的控制组或尚未接受处理的处理组样本构成的特定控制组，再将匹配好的样本堆叠起来进行回归。</li></ul><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/image-20231112163237401.png"alt="image-20231112163237401" /><figcaption aria-hidden="true">image-20231112163237401</figcaption></figure><p><strong>异质性处理效应情形下的事前平行趋势检验</strong></p><ul><li>使用全样本会出现参照期和参照对象错误导致的权重错误问题</li><li>使用未受处理的子样本即可（包括在剔除接受处理的样本后使用TWFE（如下图），还是异质性稳健估计器（见上图处理时间前部分），都可以）</li></ul><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/image-20231112163818038.png"alt="image-20231112163818038" /><figcaption aria-hidden="true">image-20231112163818038</figcaption></figure><h4 id="异质性处理效应异质性组间趋势">2.5.2异质性处理效应+异质性组间趋势</h4><p>似乎没有什么好的处理办法，作者举了些例子，如<strong>处理时点内生选择</strong>：</p><ul><li>阿森费尔特沉降(Ashenfelter’sDip)：Ashenfelter(1978)在评估培训项目对工资的影响时发现职工平均收入在参加培训前有一个明显降低的趋势，后续研究发现这一现象的原因在于失业的工人为了更好地寻找到新工作而更有动机参加职业培训。由于参加职业培训的工人(处理组)与同时期未参加职业培训的工人(控制组)不具有良好的可比性，平行趋势假设很可能并不成立，导致事件研究法无法正确识别因果效应(Heckman和 Smith，1999)。另一个常见的例子是离职对员工收入的影响。员工离职有两种可能情形，一种是主动辞职去新的企业工作以获得更高的收入，另一种是被企业强制解雇导致被动失业。显然，不同情形的离职对员工收入的影响存在巨大差异:主动辞职者通常可以获得更高的收入，而被迫失业者收入会大幅度降低。更为严重的问题在于，主动辞职者和被迫失业者(处理组)与持续工作者(控制组)的反事实收入很可能有不同的时间趋势，此时平行趋势假设不再成立。（参加培训这样的事件内生性太强，会有自我选择的情况）</li><li>在举个例子，就是下图的数据生成过程：结果变量是个人收入，事件为更换工作，虚线为未更换工作的个人收入反事实潜在结果。从图中可以看到，当个人预期到企业未来经营困难、收入可能会下降时会考虑更换工作;能力越强的员工(事前收入越高)越容易找到新职位，因此会更早更换工作(处理时点靠前)，并且新职位的收入也会越高(处理效应更强);反之，能力较低的员工更难找到新职位，所以更换工作较晚(处理时点靠后)并且新职位的收入更低(处理效应更弱)。由于处理组未受处理的反事实潜在结果与控制组不平行，不满足平行趋势假设。在这种情形下，<strong>无论是基于双向固定效应模型的传统事件研究法还是异质性处理效应稳健估计量都存在估计偏误，<mark>都无法</mark>正确估计各期平均处理效应</strong>。</li></ul><p>此时的数据情况类似下图：</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/image-20231112164904412.png"alt="image-20231112164904412" /><figcaption aria-hidden="true">image-20231112164904412</figcaption></figure><p>真实处理效应如下：</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/image-20231112165018003.png"alt="image-20231112165018003" /><figcaption aria-hidden="true">image-20231112165018003</figcaption></figure><p>而TWFE和各类稳健估计量都不能很好地准确估计：</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/image-20231112164748356.png"alt="image-20231112164748356" /><figcaption aria-hidden="true">image-20231112164748356</figcaption></figure><p><strong>怎么知道自己的数据是不是可以有效估计的呢？或者估计结果有没有什么问题？</strong></p><ul><li>用TWFE试试看，再用异质性稳健估计量看看，如果两者的结果相差较大，就要注意问题出在哪里！</li></ul><h3 id="其他问题">2.6 其他问题</h3><ul><li>个体在事件窗口内发生多次事件如何处理</li><li>存在影响强度不同的事件该如何处理</li><li>事件日期存在空间相关会怎样</li></ul><p>等等，可以参考<ahref="https://mp.weixin.qq.com/s/5kC3RyyhZkOILtFrlbQOag">【香樟推文2919】ES，启动！——事件研究法入门指南</a></p><h2 id="数据与代码">3 数据与代码</h2><h3 id="数据生成过程">3.1 数据生成过程</h3><p>数据生成过程非常重要！！！</p><p>一定要理解，难以理解的地方咨询ChatGPT！！！</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br></pre></td><td class="code"><pre><code class="hljs stata"><span class="hljs-keyword">clear</span> all<br><br><span class="hljs-keyword">set</span> seed 20230101<br><br><span class="hljs-comment">***********************</span><br><span class="hljs-comment">**       DGP1        **</span><br><span class="hljs-comment">***********************</span><br><span class="hljs-comment">*  - 交错处理时点</span><br><span class="hljs-comment">*  - 同质性处理效应路径</span><br><span class="hljs-comment">*  -满足平行趋势</span><br><br><span class="hljs-comment">* N=400, T=20, G=4</span><br><span class="hljs-keyword">clear</span> all    <br><span class="hljs-keyword">set</span> obs 400<br><span class="hljs-keyword">gen</span> id = _n<br><span class="hljs-keyword">expand</span> 20<br><span class="hljs-keyword">bysort</span> id: <span class="hljs-keyword">gen</span> time = _n  <br><br><span class="hljs-comment">* 生成个体固定效应</span><br><span class="hljs-keyword">gen</span>  unit_c     = runiform(0,10) <span class="hljs-keyword">if</span> time==1<br><span class="hljs-keyword">egen</span> unit_spec  = <span class="hljs-keyword">mean</span>(unit_c), <span class="hljs-keyword">by</span>(id)<br><br><span class="hljs-keyword">gen</span> x = runiform(0,1)<br><span class="hljs-keyword">gen</span>     indicator_c = unit_c + 1*x <span class="hljs-comment">//在stata里，空值的观测不会被加法填补</span><br><span class="hljs-keyword">qui</span> <span class="hljs-keyword">sum</span> indicator_c,<span class="hljs-keyword">d</span><br><span class="hljs-keyword">scalar</span>  threshold1   = <span class="hljs-built_in">r</span>(p25) <span class="hljs-comment">//创建四分位的标量</span><br><span class="hljs-keyword">scalar</span>  threshold2   = <span class="hljs-built_in">r</span>(p50)<br><span class="hljs-keyword">scalar</span>  threshold3   = <span class="hljs-built_in">r</span>(p75)<br><span class="hljs-keyword">egen</span>    indicator   = <span class="hljs-keyword">mean</span>(indicator_c), <span class="hljs-keyword">by</span>(id)<br><span class="hljs-keyword">gen</span>     treat = 1<br><span class="hljs-keyword">replace</span> treat = 2 <span class="hljs-keyword">if</span> indicator&gt;threshold1<br><span class="hljs-keyword">replace</span> treat = 3 <span class="hljs-keyword">if</span> indicator&gt;threshold2<br><span class="hljs-keyword">replace</span> treat = 4 <span class="hljs-keyword">if</span> indicator&gt;threshold3<br><span class="hljs-keyword">tab</span> treat, <span class="hljs-keyword">gen</span>(group)<br><br><span class="hljs-keyword">gen</span> timing = . <span class="hljs-comment">//生成接受处理的年份</span><br><span class="hljs-keyword">replace</span> timing = 5 <span class="hljs-keyword">if</span> treat==2<br><span class="hljs-keyword">replace</span> timing = 10 <span class="hljs-keyword">if</span> treat==3<br><span class="hljs-keyword">replace</span> timing = 15 <span class="hljs-keyword">if</span> treat==4<br><br><span class="hljs-comment">* 定义潜在结果y0和y1</span><br><span class="hljs-keyword">gen</span> rel_date = time-timing <span class="hljs-comment">//生成接受处理的相对年份</span><br><span class="hljs-keyword">replace</span> rel_date = 0 <span class="hljs-keyword">if</span> <span class="hljs-built_in">mi</span>(rel_date) <span class="hljs-comment">//如果该个体没有接受处理，改为0</span><br><span class="hljs-keyword">gen</span> <span class="hljs-keyword">post</span> = rel_date&gt;=0 <span class="hljs-comment">//生成post虚拟变量，处理之前为0，之后为1</span><br><span class="hljs-keyword">gen</span> group_level = 10*group2 + 3*group3 -3*group4 <span class="hljs-comment">//用于模拟不同分组的基础水平效应</span><br><span class="hljs-keyword">gen</span> group_trend = 0 <span class="hljs-comment">//平行趋势</span><br><span class="hljs-keyword">gen</span> tauit =  (1*group2 + 1*group3 + 1*group4)*<span class="hljs-keyword">post</span>*(rel_date+1) <span class="hljs-comment">//生成潜在的处理效应变量tauit。这里它被设定为对于接受处理的个体（由post指示），随时间（rel_date+1）线性增加。该效应对于所有处理组都是相同的。每一组的系数都是1，表明处理效应不存在组间差异</span><br><span class="hljs-keyword">gen</span> y0 = group_level + group_trend + unit_spec + runiform(0,10)<br><span class="hljs-keyword">gen</span> y1 = group_level + group_trend + unit_spec + tauit + runiform(0,10)<br><span class="hljs-comment">* 生成观测样本y </span><br><span class="hljs-keyword">cap</span> <span class="hljs-keyword">drop</span> y<br><span class="hljs-keyword">gen</span> <span class="hljs-keyword">D</span> = 0<br><span class="hljs-keyword">replace</span> <span class="hljs-keyword">D</span> = 1 <span class="hljs-keyword">if</span> rel_date&gt;=0&amp;<span class="hljs-built_in">inlist</span>(treat,2,3,4)<br><span class="hljs-keyword">gen</span> y = (1-<span class="hljs-keyword">D</span>)*y0 + <span class="hljs-keyword">D</span>*y1 <span class="hljs-comment">//处理前，y=y0，处理组处理后，y=y1</span><br><br><br><span class="hljs-keyword">forvalues</span> k = 14(-1)2 &#123;<br>   <span class="hljs-keyword">gen</span> relb_<span class="hljs-symbol">`k&#x27;</span> = rel_date == -<span class="hljs-symbol">`k&#x27;</span>  <span class="hljs-comment">// 事前相对时点</span><br>   <span class="hljs-keyword">label</span> <span class="hljs-keyword">var</span> relb_<span class="hljs-symbol">`k&#x27;</span> <span class="hljs-string">&quot;-`k&#x27;&quot;</span>        <span class="hljs-comment">// label用于画图</span><br>&#125;<br><br><span class="hljs-keyword">gen</span> rel_base = rel_date==-1 <span class="hljs-comment">//基期</span><br><span class="hljs-keyword">label</span> <span class="hljs-keyword">var</span> rel_base <span class="hljs-string">&quot;-1&quot;</span><br><br><span class="hljs-keyword">forvalues</span> k = 0/15 &#123;<br>    <span class="hljs-keyword">gen</span> relf_<span class="hljs-symbol">`k&#x27;</span> = rel_date == <span class="hljs-symbol">`k&#x27;</span>  <span class="hljs-comment">// 事后相对时点</span><br>    <span class="hljs-keyword">label</span> <span class="hljs-keyword">var</span> relf_<span class="hljs-symbol">`k&#x27;</span> <span class="hljs-string">&quot;`k&#x27;&quot;</span>            <span class="hljs-comment">// label用于画图</span><br>&#125;<br><span class="hljs-keyword">for</span> <span class="hljs-keyword">var</span> relb_* relf_* rel_base: <span class="hljs-keyword">replace</span> X = 0 <span class="hljs-keyword">if</span> group1==1 <span class="hljs-comment">// 控制组的相对时点全部定义为0</span><br><span class="hljs-keyword">save</span> simu_data_DGP01, <span class="hljs-keyword">replace</span><br><br><br><br><br><span class="hljs-comment">***********************</span><br><span class="hljs-comment">**       DGP2        **</span><br><span class="hljs-comment">***********************</span><br><span class="hljs-comment">*  -交错处理时点</span><br><span class="hljs-comment">*  -同质性处理效应路径</span><br><span class="hljs-comment">*  -存在组间趋势差异，不满足平行趋势</span><br><br><span class="hljs-comment">* 设定随机数种子</span><br><span class="hljs-keyword">set</span> seed 20230101<br><br><span class="hljs-keyword">clear</span> all    <br><span class="hljs-keyword">set</span> obs 400<br><span class="hljs-keyword">gen</span> id = _n<br><span class="hljs-keyword">expand</span> 20<br><span class="hljs-keyword">bysort</span> id: <span class="hljs-keyword">gen</span> time = _n  <br><br><span class="hljs-comment">* 生成个体固定效应</span><br><span class="hljs-keyword">gen</span>  unit_c     = runiform(0,10) <span class="hljs-keyword">if</span> time==1<br><span class="hljs-keyword">egen</span> unit_spec  = <span class="hljs-keyword">mean</span>(unit_c), <span class="hljs-keyword">by</span>(id)<br><span class="hljs-keyword">gen</span> x = runiform(0,1)<br><br><span class="hljs-keyword">gen</span>     indicator_c = unit_c + 1*x<br><span class="hljs-keyword">qui</span> <span class="hljs-keyword">sum</span> indicator_c,<span class="hljs-keyword">d</span><br><span class="hljs-keyword">scalar</span>  threshold1   = <span class="hljs-built_in">r</span>(p25)<br><span class="hljs-keyword">scalar</span>  threshold2   = <span class="hljs-built_in">r</span>(p50)<br><span class="hljs-keyword">scalar</span>  threshold3   = <span class="hljs-built_in">r</span>(p75)<br><span class="hljs-keyword">egen</span>    indicator   = <span class="hljs-keyword">mean</span>(indicator_c), <span class="hljs-keyword">by</span>(id)<br><span class="hljs-keyword">gen</span>     treat = 1<br><span class="hljs-keyword">replace</span> treat = 2 <span class="hljs-keyword">if</span> indicator&gt;threshold1<br><span class="hljs-keyword">replace</span> treat = 3 <span class="hljs-keyword">if</span> indicator&gt;threshold2<br><span class="hljs-keyword">replace</span> treat = 4 <span class="hljs-keyword">if</span> indicator&gt;threshold3<br><span class="hljs-keyword">tab</span> treat, <span class="hljs-keyword">gen</span>(group)<br><br><span class="hljs-keyword">gen</span> timing = .<br><span class="hljs-keyword">replace</span> timing = 5 <span class="hljs-keyword">if</span> treat==2<br><span class="hljs-keyword">replace</span> timing = 10 <span class="hljs-keyword">if</span> treat==3<br><span class="hljs-keyword">replace</span> timing = 15 <span class="hljs-keyword">if</span> treat==4<br><br><span class="hljs-comment">* 定义潜在结果y0和y1</span><br><span class="hljs-keyword">gen</span> rel_date = time-timing<br><span class="hljs-keyword">replace</span> rel_date = 0 <span class="hljs-keyword">if</span> <span class="hljs-built_in">mi</span>(rel_date)<br><span class="hljs-keyword">gen</span> <span class="hljs-keyword">post</span> = rel_date&gt;=0<br><span class="hljs-keyword">gen</span> group_level = 10*group2 + 3*group3 -3*group4<br><span class="hljs-keyword">gen</span> group_trend = (0*group1 + 1*group2 + 0.5*group3 + 0.2*group4)*time <span class="hljs-comment">//之前这里是0，现在这里给2 3 4组分别设置了斜率为 1 0.5 0.2 的时间趋势，这个时间趋势在所有观测到最早一期就有的，不是等到处理时点才有，因此破坏了平行趋势</span><br><span class="hljs-keyword">gen</span> tauit =  (1*group2 + 1*group3 + 1*group4)*<span class="hljs-keyword">post</span>*(1 + rel_date) <span class="hljs-comment">//short-run and dynamic effects</span><br><span class="hljs-keyword">gen</span> y0 = group_level + group_trend + unit_spec + runiform(0,10)<br><span class="hljs-keyword">gen</span> y1 = group_level + group_trend + unit_spec + tauit + runiform(0,10)<br><span class="hljs-comment">* 生成观测样本y </span><br><span class="hljs-keyword">cap</span> <span class="hljs-keyword">drop</span> y<br><span class="hljs-keyword">gen</span> <span class="hljs-keyword">D</span> = 0<br><span class="hljs-keyword">replace</span> <span class="hljs-keyword">D</span> = 1 <span class="hljs-keyword">if</span> rel_date&gt;=0&amp;<span class="hljs-built_in">inlist</span>(treat,2,3,4)<br><span class="hljs-keyword">gen</span> y = (1-<span class="hljs-keyword">D</span>)*y0 + <span class="hljs-keyword">D</span>*y1 <br><br><span class="hljs-keyword">forvalues</span> k = 14(-1)2 &#123;<br>   <span class="hljs-keyword">gen</span> relb_<span class="hljs-symbol">`k&#x27;</span> = rel_date == -<span class="hljs-symbol">`k&#x27;</span>  <span class="hljs-comment">// 事前相对时点</span><br>   <span class="hljs-keyword">label</span> <span class="hljs-keyword">var</span> relb_<span class="hljs-symbol">`k&#x27;</span> <span class="hljs-string">&quot;-`k&#x27;&quot;</span>        <span class="hljs-comment">// label用于画图</span><br>&#125;<br><br><span class="hljs-keyword">gen</span> rel_base = rel_date==-1 <span class="hljs-comment">//基期</span><br><span class="hljs-keyword">label</span> <span class="hljs-keyword">var</span> rel_base <span class="hljs-string">&quot;-1&quot;</span><br><br><span class="hljs-keyword">forvalues</span> k = 0/15 &#123;<br>    <span class="hljs-keyword">gen</span> relf_<span class="hljs-symbol">`k&#x27;</span> = rel_date == <span class="hljs-symbol">`k&#x27;</span>  <span class="hljs-comment">// 事后相对时点</span><br>    <span class="hljs-keyword">label</span> <span class="hljs-keyword">var</span> relf_<span class="hljs-symbol">`k&#x27;</span> <span class="hljs-string">&quot;`k&#x27;&quot;</span>            <span class="hljs-comment">// label用于画图</span><br>&#125;<br><span class="hljs-keyword">for</span> <span class="hljs-keyword">var</span> relb_* relf_* rel_base: <span class="hljs-keyword">replace</span> X = 0 <span class="hljs-keyword">if</span> group1==1 <span class="hljs-comment">// 控制组的相对时点全部定义为0</span><br><br><span class="hljs-keyword">save</span> simu_data_DGP02, <span class="hljs-keyword">replace</span><br><br><br><br><span class="hljs-comment">***********************</span><br><span class="hljs-comment">**       DGP3        **</span><br><span class="hljs-comment">***********************</span><br><span class="hljs-comment">*  -交错处理时点</span><br><span class="hljs-comment">*  -异质性处理效应</span><br><span class="hljs-comment">*  -满足平行趋势</span><br><br><span class="hljs-comment">* 设定随机数种子</span><br><span class="hljs-keyword">set</span> seed 20230101<br><br><span class="hljs-keyword">clear</span> all    <br><span class="hljs-keyword">set</span> obs 400<br><span class="hljs-keyword">gen</span> id = _n<br><span class="hljs-keyword">expand</span> 20<br><span class="hljs-keyword">bysort</span> id: <span class="hljs-keyword">gen</span> time = _n  <br><br><span class="hljs-comment">* 生成个体固定效应</span><br><span class="hljs-keyword">gen</span>  unit_c     = runiform(0,10) <span class="hljs-keyword">if</span> time==1<br><span class="hljs-keyword">egen</span> unit_spec  = <span class="hljs-keyword">mean</span>(unit_c), <span class="hljs-keyword">by</span>(id)<br><br><span class="hljs-keyword">gen</span> x = runiform(0,1)<br><span class="hljs-keyword">gen</span>     indicator_c = unit_c + 1*x<br><span class="hljs-keyword">qui</span> <span class="hljs-keyword">sum</span> indicator_c,<span class="hljs-keyword">d</span><br><span class="hljs-keyword">scalar</span>  threshold1   = <span class="hljs-built_in">r</span>(p25)<br><span class="hljs-keyword">scalar</span>  threshold2   = <span class="hljs-built_in">r</span>(p50)<br><span class="hljs-keyword">scalar</span>  threshold3   = <span class="hljs-built_in">r</span>(p75)<br><span class="hljs-keyword">egen</span>    indicator   = <span class="hljs-keyword">mean</span>(indicator_c), <span class="hljs-keyword">by</span>(id)<br><span class="hljs-keyword">gen</span>     treat = 1<br><span class="hljs-keyword">replace</span> treat = 2 <span class="hljs-keyword">if</span> indicator&gt;threshold1<br><span class="hljs-keyword">replace</span> treat = 3 <span class="hljs-keyword">if</span> indicator&gt;threshold2<br><span class="hljs-keyword">replace</span> treat = 4 <span class="hljs-keyword">if</span> indicator&gt;threshold3<br><span class="hljs-keyword">tab</span> treat, <span class="hljs-keyword">gen</span>(group)<br><br><span class="hljs-keyword">gen</span> timing = .<br><span class="hljs-keyword">replace</span> timing = 5 <span class="hljs-keyword">if</span> treat==2<br><span class="hljs-keyword">replace</span> timing = 10 <span class="hljs-keyword">if</span> treat==3<br><span class="hljs-keyword">replace</span> timing = 15 <span class="hljs-keyword">if</span> treat==4<br><br><span class="hljs-comment">* 定义潜在结果y0和y1</span><br><span class="hljs-keyword">gen</span> rel_date = time-timing<br><span class="hljs-keyword">replace</span> rel_date = 0 <span class="hljs-keyword">if</span> <span class="hljs-built_in">mi</span>(rel_date)<br><span class="hljs-keyword">gen</span> <span class="hljs-keyword">post</span> = rel_date&gt;=0<br><span class="hljs-keyword">gen</span> group_level = 10*group2 + 3*group3 -3*group4<br><span class="hljs-keyword">gen</span> group_trend = 0 <span class="hljs-comment">//满足平行趋势</span><br><span class="hljs-keyword">gen</span> tauit =  (0.5*group2 + 1*group3 + 2*group4)*<span class="hljs-keyword">post</span>*(rel_date+1) <span class="hljs-comment">//这里给每组设置了不同的系数，之前的都是1，即处理效应异质性</span><br><span class="hljs-keyword">gen</span> y0 = group_level + group_trend + unit_spec + runiform(0,10)<br><span class="hljs-keyword">gen</span> y1 = group_level + group_trend + unit_spec + tauit + runiform(0,10)<br><br><span class="hljs-comment">* 生成观测样本y </span><br><span class="hljs-keyword">cap</span> <span class="hljs-keyword">drop</span> y<br><span class="hljs-keyword">gen</span> <span class="hljs-keyword">D</span> = 0<br><span class="hljs-keyword">replace</span> <span class="hljs-keyword">D</span> = 1 <span class="hljs-keyword">if</span> rel_date&gt;=0&amp;<span class="hljs-built_in">inlist</span>(treat,2,3,4)<br><span class="hljs-keyword">gen</span> y = (1-<span class="hljs-keyword">D</span>)*y0 + <span class="hljs-keyword">D</span>*y1 <br><br><span class="hljs-keyword">gen</span> rel_date_cut = rel_date<br><span class="hljs-keyword">local</span> pre_cut  = 14<br><span class="hljs-keyword">local</span> post_cut = 15<br><span class="hljs-keyword">replace</span> rel_date_cut = -<span class="hljs-symbol">`pre_cut&#x27;</span>  <span class="hljs-keyword">if</span> rel_date&lt;-<span class="hljs-symbol">`pre_cut&#x27;</span><br><span class="hljs-keyword">replace</span> rel_date_cut = <span class="hljs-symbol">`post_cut&#x27;</span> <span class="hljs-keyword">if</span> rel_date&gt;<span class="hljs-symbol">`post_cut&#x27;</span><br><span class="hljs-keyword">tab</span> rel_date_cut<br><br><span class="hljs-keyword">forvalues</span> k = <span class="hljs-symbol">`pre_cut&#x27;</span>(-1)2 &#123;<br>   <span class="hljs-keyword">gen</span> relb_<span class="hljs-symbol">`k&#x27;</span> = rel_date_cut == -<span class="hljs-symbol">`k&#x27;</span><br>   <span class="hljs-keyword">label</span> <span class="hljs-keyword">var</span> relb_<span class="hljs-symbol">`k&#x27;</span> <span class="hljs-string">&quot;-`k&#x27;&quot;</span><br>&#125;<br><span class="hljs-keyword">gen</span> rel_base = rel_date_cut==-1<br><span class="hljs-keyword">label</span> <span class="hljs-keyword">var</span> rel_base <span class="hljs-string">&quot;-1&quot;</span><br><span class="hljs-keyword">forvalues</span> k = 0/<span class="hljs-symbol">`post_cut&#x27;</span> &#123;<br>    <span class="hljs-keyword">gen</span> relf_<span class="hljs-symbol">`k&#x27;</span> = rel_date_cut == <span class="hljs-symbol">`k&#x27;</span><br>    <span class="hljs-keyword">label</span> <span class="hljs-keyword">var</span> relf_<span class="hljs-symbol">`k&#x27;</span> <span class="hljs-string">&quot;`k&#x27;&quot;</span><br>&#125;<br><span class="hljs-keyword">for</span> <span class="hljs-keyword">var</span> relb_* relf_* rel_base: <span class="hljs-keyword">replace</span> X = 0 <span class="hljs-keyword">if</span> group1==1 <span class="hljs-comment">// 控制组的相对数量全是0</span><br><br><span class="hljs-keyword">save</span> simu_data_DGP03, <span class="hljs-keyword">replace</span><br><br><br><span class="hljs-comment">***********************</span><br><span class="hljs-comment">**       DGP4        **</span><br><span class="hljs-comment">***********************</span><br><span class="hljs-comment">*  -交错处理时点</span><br><span class="hljs-comment">*  -异质性处理效应</span><br><span class="hljs-comment">*  -存在组间趋势差异，不满足平行趋势</span><br><br><span class="hljs-comment">* 设定随机数种子</span><br><span class="hljs-keyword">set</span> seed 20230101<br><br><span class="hljs-keyword">clear</span> all    <br><span class="hljs-keyword">set</span> obs 400<br><span class="hljs-keyword">gen</span> id = _n<br><span class="hljs-keyword">expand</span> 20<br><span class="hljs-keyword">bysort</span> id: <span class="hljs-keyword">gen</span> time = _n  <br><br><span class="hljs-comment">* 生成个体固定效应</span><br><span class="hljs-keyword">gen</span>  unit_c     = runiform(0,10) <span class="hljs-keyword">if</span> time==1<br><span class="hljs-keyword">egen</span> unit_fe  = <span class="hljs-keyword">mean</span>(unit_c), <span class="hljs-keyword">by</span>(id)<br><br><span class="hljs-keyword">gen</span>     indicator_c = unit_c <br><span class="hljs-keyword">qui</span> <span class="hljs-keyword">sum</span> indicator_c,<span class="hljs-keyword">d</span><br><span class="hljs-keyword">scalar</span>  threshold1   = <span class="hljs-built_in">r</span>(p25)<br><span class="hljs-keyword">scalar</span>  threshold2   = <span class="hljs-built_in">r</span>(p50)<br><span class="hljs-keyword">scalar</span>  threshold3   = <span class="hljs-built_in">r</span>(p75)<br><span class="hljs-keyword">egen</span>    indicator   = <span class="hljs-keyword">mean</span>(indicator_c), <span class="hljs-keyword">by</span>(id)<br><span class="hljs-keyword">gen</span>     treat = 1<br><span class="hljs-keyword">replace</span> treat = 2 <span class="hljs-keyword">if</span> indicator&gt;threshold1<br><span class="hljs-keyword">replace</span> treat = 3 <span class="hljs-keyword">if</span> indicator&gt;threshold2<br><span class="hljs-keyword">replace</span> treat = 4 <span class="hljs-keyword">if</span> indicator&gt;threshold3<br><span class="hljs-keyword">tab</span> treat, <span class="hljs-keyword">gen</span>(group)<br><br><span class="hljs-keyword">gen</span> timing = .<br><span class="hljs-keyword">replace</span> timing = 5 <span class="hljs-keyword">if</span> treat==2<br><span class="hljs-keyword">replace</span> timing = 10 <span class="hljs-keyword">if</span> treat==3<br><span class="hljs-keyword">replace</span> timing = 15 <span class="hljs-keyword">if</span> treat==4<br><br><span class="hljs-comment">* 定义潜在结果y0和y1</span><br><span class="hljs-keyword">gen</span> rel_date = time-timing<br><span class="hljs-keyword">replace</span> rel_date = 0 <span class="hljs-keyword">if</span> <span class="hljs-built_in">mi</span>(rel_date)<br><span class="hljs-keyword">gen</span> <span class="hljs-keyword">post</span> = rel_date&gt;=0<br><span class="hljs-keyword">gen</span> group_level = 40*group2 + 25*group3 +10*group4<br><span class="hljs-keyword">gen</span> group_trend = 0<br><span class="hljs-keyword">egen</span> X_cf = <span class="hljs-keyword">mean</span>(unit_c), <span class="hljs-keyword">by</span>(treat) <span class="hljs-comment">//下面会纳入计算，因此有了组建趋势差异，不满足平行趋势</span><br><br><span class="hljs-keyword">gen</span> tauit =  (2*group2 + 1*group3 + 0.5*group4)*<span class="hljs-keyword">post</span>*(rel_date+1) <span class="hljs-comment">//异质性处理效应</span><br><span class="hljs-keyword">gen</span> y0 = group_level + group_trend  - 0.1*X_cf*rel_date*<span class="hljs-keyword">post</span> + runiform(0,10)<br><span class="hljs-keyword">gen</span> y1 = group_level + group_trend  - 0.1*X_cf*rel_date*<span class="hljs-keyword">post</span> + tauit + runiform(0,10)<br><span class="hljs-comment">* 生成观测样本y </span><br><span class="hljs-keyword">cap</span> <span class="hljs-keyword">drop</span> y<br><span class="hljs-keyword">gen</span> <span class="hljs-keyword">D</span> = 0<br><span class="hljs-keyword">replace</span> <span class="hljs-keyword">D</span> = 1 <span class="hljs-keyword">if</span> rel_date&gt;=0&amp;<span class="hljs-built_in">inlist</span>(treat,2,3,4)<br><span class="hljs-keyword">gen</span> y = (1-<span class="hljs-keyword">D</span>)*y0 + <span class="hljs-keyword">D</span>*y1 <br><br><span class="hljs-keyword">gen</span> rel_date_cut = rel_date<br><span class="hljs-keyword">local</span> pre_cut  = 14<br><span class="hljs-keyword">local</span> post_cut = 15<br><span class="hljs-keyword">replace</span> rel_date_cut = -<span class="hljs-symbol">`pre_cut&#x27;</span>  <span class="hljs-keyword">if</span> rel_date&lt;-<span class="hljs-symbol">`pre_cut&#x27;</span><br><span class="hljs-keyword">replace</span> rel_date_cut = <span class="hljs-symbol">`post_cut&#x27;</span> <span class="hljs-keyword">if</span> rel_date&gt;<span class="hljs-symbol">`post_cut&#x27;</span><br><span class="hljs-keyword">tab</span> rel_date_cut<br><br><span class="hljs-keyword">forvalues</span> k = <span class="hljs-symbol">`pre_cut&#x27;</span>(-1)2 &#123;<br>   <span class="hljs-keyword">gen</span> relb_<span class="hljs-symbol">`k&#x27;</span> = rel_date_cut == -<span class="hljs-symbol">`k&#x27;</span><br>   <span class="hljs-keyword">label</span> <span class="hljs-keyword">var</span> relb_<span class="hljs-symbol">`k&#x27;</span> <span class="hljs-string">&quot;-`k&#x27;&quot;</span><br>&#125;<br><span class="hljs-keyword">gen</span> rel_base = rel_date_cut==-1<br><span class="hljs-keyword">label</span> <span class="hljs-keyword">var</span> rel_base <span class="hljs-string">&quot;-1&quot;</span><br><span class="hljs-keyword">forvalues</span> k = 0/<span class="hljs-symbol">`post_cut&#x27;</span> &#123;<br>    <span class="hljs-keyword">gen</span> relf_<span class="hljs-symbol">`k&#x27;</span> = rel_date_cut == <span class="hljs-symbol">`k&#x27;</span><br>    <span class="hljs-keyword">label</span> <span class="hljs-keyword">var</span> relf_<span class="hljs-symbol">`k&#x27;</span> <span class="hljs-string">&quot;`k&#x27;&quot;</span><br>&#125;<br><span class="hljs-keyword">for</span> <span class="hljs-keyword">var</span> relb_* relf_* rel_base: <span class="hljs-keyword">replace</span> X = 0 <span class="hljs-keyword">if</span> group1==1 <span class="hljs-comment">// 控制组的相对数量全是0</span><br><span class="hljs-keyword">save</span> simu_data_DGP04, <span class="hljs-keyword">replace</span><br></code></pre></td></tr></table></figure><h3 id="同质性处理效应路径的情况">3.2 同质性处理效应路径的情况</h3><p>即不同组群的冲击时点不同，但效果一致，都随时间线性增加。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br></pre></td><td class="code"><pre><code class="hljs stata"><span class="hljs-comment">*注意在当前目录下需要有一个名为figure的文件夹，用来存放输出的图片</span><br><br><span class="hljs-keyword">clear</span> all<br><br><span class="hljs-comment">**********************</span><br><span class="hljs-comment">**       图2        **</span><br><span class="hljs-comment">**********************</span><br><br><span class="hljs-comment">* 运行DGP文件生成数据</span><br><span class="hljs-keyword">use</span> simu_data_DGP01, <span class="hljs-keyword">clear</span><br><br><span class="hljs-keyword">preserve</span> <br><span class="hljs-keyword">collapse</span> (<span class="hljs-keyword">mean</span>) y, <span class="hljs-keyword">by</span>(treat time) <span class="hljs-comment">//将数据集压缩为y变量的均值，并且这些均值是按照time（时间）和treat（处理组）变量分组的。在这个压缩后的数据集中，每个treat和time组合只有一个观察值，它代表该组合的y的均值。下面的是绘制处理组treat==2的散点图，使用线连接(c(l))和圆形标记(m(o))。o\s\t\d分别表示圆形、方形、三角形和菱形</span><br><span class="hljs-keyword">tw</span>  (<span class="hljs-keyword">sc</span> y time <span class="hljs-keyword">if</span> treat==2, c(<span class="hljs-keyword">l</span>) <span class="hljs-built_in">m</span>(o)) <span class="hljs-comment">///</span><br>    (<span class="hljs-keyword">sc</span> y time <span class="hljs-keyword">if</span> treat==3, c(<span class="hljs-keyword">l</span>) <span class="hljs-built_in">m</span>(s)) <span class="hljs-comment">///</span><br>    (<span class="hljs-keyword">sc</span> y time <span class="hljs-keyword">if</span> treat==4, c(<span class="hljs-keyword">l</span>) <span class="hljs-built_in">m</span>(t)) <span class="hljs-comment">///</span><br>    (<span class="hljs-keyword">sc</span> y time <span class="hljs-keyword">if</span> treat==1, c(<span class="hljs-keyword">l</span>) <span class="hljs-built_in">m</span>(<span class="hljs-keyword">d</span>)), ylabel(0(10)40) <span class="hljs-comment">///</span><br>    subtit(<span class="hljs-string">&quot;（a）模拟数据&quot;</span>, pos(6)) <span class="hljs-comment">///</span><br>    legend(<span class="hljs-keyword">order</span>(1 <span class="hljs-string">&quot;组群1 (T*=5)&quot;</span> 2 <span class="hljs-string">&quot;组群2 (T*=10)&quot;</span> 3 <span class="hljs-string">&quot;组群3 (T*=15)&quot;</span> 4 <span class="hljs-string">&quot;控制组&quot;</span> ) <span class="hljs-variable">$tllgd</span> col(1)) xtitle(<span class="hljs-string">&quot;时期&quot;</span>) ytitle(<span class="hljs-string">&quot;结果变量Y&quot;</span>) scale(1) name(Homo1)<br><span class="hljs-keyword">restore</span><br><br><span class="hljs-comment">* 图2b</span><br><span class="hljs-keyword">preserve</span> <br><span class="hljs-keyword">collapse</span> (<span class="hljs-keyword">mean</span>) att=tauit, <span class="hljs-keyword">by</span>(treat rel_date) <span class="hljs-comment">//画出处理效应ATT</span><br><span class="hljs-keyword">replace</span> att = att+0.5 <span class="hljs-keyword">if</span> treat==3<br><span class="hljs-keyword">replace</span> att = att+1 <span class="hljs-keyword">if</span> treat==2<br><span class="hljs-keyword">tw</span>  (<span class="hljs-keyword">sc</span> att rel_date <span class="hljs-keyword">if</span> treat==2, c(<span class="hljs-keyword">l</span>) <span class="hljs-built_in">m</span>(o)) <span class="hljs-comment">///</span><br>    (<span class="hljs-keyword">sc</span> att rel_date <span class="hljs-keyword">if</span> treat==3, c(<span class="hljs-keyword">l</span>) <span class="hljs-built_in">m</span>(s)) <span class="hljs-comment">///</span><br>    (<span class="hljs-keyword">sc</span> att rel_date <span class="hljs-keyword">if</span> treat==4, c(<span class="hljs-keyword">l</span>) <span class="hljs-built_in">m</span>(t)), xlabel(-15(5)15) <span class="hljs-comment">///</span><br>    xline(-0.5, lc(gs8) lp(dash)) <span class="hljs-comment">///</span><br>    xtitle(<span class="hljs-string">&quot;相对处理时期&quot;</span>) ytitle(<span class="hljs-string">&quot;平均处理效应 (ATT)&quot;</span>) <span class="hljs-comment">///</span><br>    subtit(<span class="hljs-string">&quot;（b）真实平均处理效应&quot;</span>, pos(6)) <span class="hljs-comment">///</span><br>    legend(<span class="hljs-keyword">order</span>(1 <span class="hljs-string">&quot;组群1 (T*=5)&quot;</span> 2 <span class="hljs-string">&quot;组群2 (T*=10)&quot;</span> 3 <span class="hljs-string">&quot;组群3 (T*=15)&quot;</span>) <span class="hljs-variable">$tllgd</span> col(1)) scale(1) name(Homo2)<br><span class="hljs-keyword">restore</span><br><span class="hljs-keyword">gr</span> combine Homo1 Homo2, xsize(10) scale(1.5)<br><span class="hljs-keyword">gr</span> export <span class="hljs-string">&quot;figure/ES_ATT.png&quot;</span>, width(3000) <span class="hljs-keyword">replace</span><br><span class="hljs-keyword">gr</span> export <span class="hljs-string">&quot;figure/ES_ATT.svg&quot;</span>, <span class="hljs-keyword">replace</span><br><span class="hljs-keyword">gr</span> <span class="hljs-keyword">save</span> figure/ES_ATT.gph, <span class="hljs-keyword">replace</span><br><br><span class="hljs-comment">**********************</span><br><span class="hljs-comment">**       图3        **</span><br><span class="hljs-comment">**********************</span><br><span class="hljs-keyword">use</span> simu_data_DGP01, <span class="hljs-keyword">clear</span><br><br><span class="hljs-comment">* TWFE</span><br>reghdfe y relb_14 relb_13 relb_12 relb_11 relb_10 relb_9 relb_8 relb_7 relb_6 relb_5 relb_4 relb_3 relb_2 o.rel_base relf_0 relf_1 relf_2 relf_3 relf_4 relf_5 relf_6 relf_7 relf_8 relf_9 relf_10 relf_11 relf_12 relf_13 relf_14 relf_15, a(id time) <span class="hljs-keyword">cluster</span>(id)<br>eststo ES_TWFE <span class="hljs-comment">//注意，o.rel_base 就是选择基准期，o 表示 omitted</span><br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">********************************************************************************</span><br><span class="hljs-comment">reghdfe y c.D, a(id time) cluster(id) //再用DID看看，发现平均处理效应是2.69,似乎不对？**</span><br><span class="hljs-comment">********************************************************************************</span><br><span class="hljs-comment">//2.69肯定是不对，固定控制组，单独看123组的处理效应分别是8.66 5.93 3.27；真实的处理效应应该是6.76</span><br><span class="hljs-comment">//sum taui, 发现均值是2.79，和TWFE的结果一致，表明TWFE确实存在负权重问题</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">//时间异质性也算是异质性DID，需要用异质性稳健估计器，下面试试csdid</span><br><span class="hljs-comment">gen gvar = timing</span><br><span class="hljs-comment">replace gvar = 0 if timing == .</span><br><span class="hljs-comment">csdid y, ivar(id) time(time) gvar(gvar) method(dripw) agg(simple) //能算出来一个平均处理效应6.67，并且和6.76最接近！</span><br><span class="hljs-comment">csdid y, ivar(id) time(time) gvar(gvar) method(dripw) agg(group) //每个组群的处理效应跟我上面手动算的差不多哈哈</span><br><span class="hljs-comment">csdid y, ivar(id) time(time) gvar(gvar) method(dripw) agg(calendar) //按日历时间的结果，可能不是我们想要的</span><br><span class="hljs-comment">csdid y, ivar(id) time(time) gvar(gvar) method(dripw) agg(event) //这个结果和上面的reghdfe的结果很接近，基本一样，是我们想要的</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-keyword">gl</span> leadall <span class="hljs-string">&quot;relb_14 relb_13 relb_12 relb_11 relb_10 relb_9 relb_8 relb_7 relb_6 relb_5 relb_4 relb_3 relb_2 rel_base&quot;</span><br><span class="hljs-keyword">gl</span> lagall <span class="hljs-string">&quot;relf_0 relf_1 relf_2 relf_3 relf_4 relf_5 relf_6 relf_7 relf_8 relf_9 relf_10 relf_11 relf_12 relf_13 relf_14 relf_15&quot;</span><br><span class="hljs-keyword">testparm</span> <span class="hljs-variable">$leadall</span> <span class="hljs-comment">//联合检验系数。此处用到了上面reghdfe回归的结果，如果在中间插入csdid，会覆盖掉</span><br><br><span class="hljs-comment">//bture指真实系数矩阵</span><br><span class="hljs-keyword">matrix</span> btrue = <span class="hljs-built_in">J</span>(1,30,.)<br><span class="hljs-keyword">matrix</span> colnames btrue = <span class="hljs-variable">$leadall</span> <span class="hljs-variable">$lagall</span><br><span class="hljs-keyword">qui</span> <span class="hljs-keyword">forvalues</span> <span class="hljs-keyword">l</span> = 1/14 &#123;<br>    <span class="hljs-keyword">matrix</span> btrue[1,<span class="hljs-symbol">`l&#x27;</span>]=0<br>&#125;<br><span class="hljs-keyword">qui</span> <span class="hljs-keyword">forvalues</span> <span class="hljs-keyword">h</span> = 0/15 &#123;<br>    <span class="hljs-keyword">sum</span> tauit <span class="hljs-keyword">if</span> rel_date==<span class="hljs-symbol">`h&#x27;</span>&amp;<span class="hljs-keyword">D</span>==1<br>    <span class="hljs-keyword">matrix</span> btrue[1,<span class="hljs-symbol">`h&#x27;</span>+15]=<span class="hljs-built_in">r</span>(<span class="hljs-keyword">mean</span>)<br>&#125;<br><span class="hljs-keyword">matrix</span> <span class="hljs-keyword">list</span> btrue<br><span class="hljs-comment">//创建一个矩阵，它的列对应于某些滞后和领先的变量，并且填充了这些变量的某些特定值（比如0或者某个分组的均值）</span><br><br>coefplot (<span class="hljs-built_in">matrix</span>(btrue[1]), <span class="hljs-built_in">m</span>(Oh)) (ES_TWFE, <span class="hljs-keyword">recast</span>(connect)), <span class="hljs-keyword">drop</span>(_cons) <span class="hljs-keyword">order</span>(relb* rel_base relf*) omitted baselevel vertical <span class="hljs-comment">///</span><br>    ciopts(<span class="hljs-keyword">recast</span>(rcap)) yline(0, lc(gs0) lp(solid)) <span class="hljs-comment">///</span><br>    xline(14.5, lc(gs8) lp(dash)) xtitle(<span class="hljs-string">&quot;相对处理发生时间&quot;</span>) ytitle(<span class="hljs-string">&quot;估计系数&quot;</span>) <span class="hljs-comment">///</span><br>    text(4 6 <span class="hljs-string">&quot;事前系数联合检验&quot;</span>, place(c)) <span class="hljs-comment">///</span><br>    text(2 6 <span class="hljs-string">&quot;F=0.83 P=0.6256&quot;</span>, place(c)) <span class="hljs-comment">///</span><br>    legend(<span class="hljs-keyword">order</span>(2 <span class="hljs-string">&quot;真实系数&quot;</span> 4 <span class="hljs-string">&quot;估计系数&quot;</span> ) <span class="hljs-variable">$brlgd</span> col(1)) <span class="hljs-comment">///</span><br>    xsize(8) scale(1.3)<br><span class="hljs-keyword">gr</span> export <span class="hljs-string">&quot;figure/ES_TWFE.png&quot;</span>, width(3000) <span class="hljs-keyword">replace</span><br><span class="hljs-keyword">gr</span> export <span class="hljs-string">&quot;figure/ES_TWFE.svg&quot;</span>,  <span class="hljs-keyword">replace</span><br><span class="hljs-keyword">gr</span> <span class="hljs-keyword">save</span> figure/ES_TWFE.gph, <span class="hljs-keyword">replace</span><br><br><span class="hljs-comment">**********************</span><br><span class="hljs-comment">**       图5        **</span><br><span class="hljs-comment">**********************</span><br><span class="hljs-comment">* 单一系数检验和联合检验</span><br><br><span class="hljs-comment">* TWFE估计</span><br><span class="hljs-keyword">gr</span> <span class="hljs-keyword">drop</span> _all <span class="hljs-comment">//删除当前图形窗口中的所有图形元素</span><br><span class="hljs-keyword">use</span> simu_data_DGP01, <span class="hljs-keyword">clear</span><br>reghdfe y relb_14 relb_13 relb_12 relb_11 relb_10 relb_9 relb_8 relb_7 relb_6 relb_5 relb_4 relb_3 relb_2 o.rel_base relf_*, a(id time) <span class="hljs-keyword">cluster</span>(id) <span class="hljs-comment">//这里把-1期当作基期</span><br>eststo ES_TWFE1<br><br>reghdfe y relb_14 relb_13 relb_12 relb_11 relb_10 relb_9 o.relb_8 relb_7 relb_6 relb_5 relb_4 relb_3 relb_2 rel_base relf_*, a(id time) <span class="hljs-keyword">cluster</span>(id) <span class="hljs-comment">//这里把-8期当作基期</span><br>eststo ES_TWFE2<br><br><span class="hljs-keyword">gl</span> leadall <span class="hljs-string">&quot;relb_14 relb_13 relb_12 relb_11 relb_10 relb_9 relb_8 relb_7 relb_6 relb_5 relb_4 relb_3 relb_2 rel_base&quot;</span><br>coefplot ES_TWFE1 (ES_TWFE2, lp(solid)), <span class="hljs-keyword">keep</span>(<span class="hljs-variable">$leadall</span>) omitted baselevel vertical <span class="hljs-comment">///</span><br>    <span class="hljs-keyword">recast</span>(con) lw(thick) ciopts(<span class="hljs-keyword">recast</span>(rspike) color(%40)) <span class="hljs-comment">///</span><br>    yline(0, lc(gs0) lp(solid) lw(medthick)) ylab(-2(1)2) <span class="hljs-comment">///</span><br>    xtitle(<span class="hljs-string">&quot;相对处理发生时间&quot;</span>) ytitle(<span class="hljs-string">&quot;估计系数&quot;</span>)  tit(<span class="hljs-string">&quot;（a）单一系数显著性&quot;</span>, pos(6))  <span class="hljs-comment">///</span><br>    legend(<span class="hljs-keyword">order</span>(2 <span class="hljs-string">&quot;基期 = -1&quot;</span> 4 <span class="hljs-string">&quot;基期 = -8&quot;</span>) <span class="hljs-variable">$brlgd</span>) scale(1.2)  name(PTT1)<br><br><br><span class="hljs-comment">*- 事前系数联合检验结果的不变性</span><br><span class="hljs-comment">*--- 分别以-14到-1期为基期进行回归，计算每一个回归的联合检验P值</span><br><span class="hljs-comment">*--- 结果：无论以哪一期为基期，联合检验的P值均保持不变</span><br><span class="hljs-keyword">local</span> leadall <span class="hljs-string">&quot;relb_14 relb_13 relb_12 relb_11 relb_10 relb_9 relb_8 relb_7 relb_6 relb_5 relb_4 relb_3 relb_2 rel_base&quot;</span><br><span class="hljs-keyword">tempvar</span> t P <br><span class="hljs-keyword">gen</span> <span class="hljs-symbol">`t&#x27;</span> = _n-15 <span class="hljs-keyword">if</span> _n&lt;=14<br><span class="hljs-keyword">gen</span> <span class="hljs-symbol">`P&#x27;</span> = .<br><span class="hljs-keyword">forvalues</span> i = 14(-1)2 &#123;<br>    <span class="hljs-keyword">local</span> base_period <span class="hljs-string">&quot;relb_`i&#x27;&quot;</span><br>    <span class="hljs-keyword">local</span> xvar: <span class="hljs-keyword">list</span> leadall - base_period<br>    reghdfe y <span class="hljs-symbol">`xvar&#x27;</span> o.<span class="hljs-symbol">`base_period&#x27;</span> relf_*, a(id time) <span class="hljs-keyword">cluster</span>(id)<br>    <span class="hljs-keyword">testparm</span> <span class="hljs-symbol">`leadall&#x27;</span><br>    <span class="hljs-keyword">replace</span> <span class="hljs-symbol">`P&#x27;</span> = <span class="hljs-built_in">r</span>(p) <span class="hljs-keyword">if</span> <span class="hljs-symbol">`t&#x27;</span>==-<span class="hljs-symbol">`i&#x27;</span><br>&#125;<br>reghdfe y <span class="hljs-symbol">`xvar&#x27;</span> o.<span class="hljs-symbol">`base_period&#x27;</span> relf_*, a(id time) <span class="hljs-keyword">cluster</span>(id)<br><span class="hljs-keyword">testparm</span> <span class="hljs-symbol">`leadall&#x27;</span><br><span class="hljs-keyword">replace</span> <span class="hljs-symbol">`P&#x27;</span> = <span class="hljs-built_in">r</span>(p) <span class="hljs-keyword">if</span> <span class="hljs-symbol">`t&#x27;</span>==-1<br><span class="hljs-keyword">sum</span> <span class="hljs-symbol">`P&#x27;</span>,<span class="hljs-keyword">d</span><br><span class="hljs-keyword">scatter</span> <span class="hljs-symbol">`P&#x27;</span> <span class="hljs-symbol">`t&#x27;</span>, c(<span class="hljs-keyword">l</span>) ylab(0(0.2)1, <span class="hljs-keyword">format</span>(%6.1f)) xlab(-14/-1) <span class="hljs-comment">///</span><br>    xtit(<span class="hljs-string">&quot;基期&quot;</span>) ytitle(<span class="hljs-string">&quot;P值&quot;</span>) tit(<span class="hljs-string">&quot;（b）联合检验显著性&quot;</span>, pos(6)) scale(1.2) name(PTT2)<br><br><span class="hljs-keyword">gr</span> combine PTT1 PTT2, xsize(10) scale(1.5)<br><br><span class="hljs-keyword">gr</span> export <span class="hljs-string">&quot;figure/ES_preTest.png&quot;</span>, width(3000) <span class="hljs-keyword">replace</span><br><span class="hljs-keyword">gr</span> export <span class="hljs-string">&quot;figure/ES_preTest.svg&quot;</span>,  <span class="hljs-keyword">replace</span><br><span class="hljs-keyword">gr</span> <span class="hljs-keyword">save</span> figure/ES_preTest.gph, <span class="hljs-keyword">replace</span><br><br><span class="hljs-comment">**********************</span><br><span class="hljs-comment">**       图6        **</span><br><span class="hljs-comment">**********************</span><br><span class="hljs-comment">* 归并与截断</span><br><br><span class="hljs-comment">*** 在[-5,10]期内归并、截断</span><br><span class="hljs-keyword">use</span> simu_data_DGP01, <span class="hljs-keyword">clear</span><br><span class="hljs-keyword">cap</span> <span class="hljs-keyword">drop</span> relb_* rel_base relf_*<br><br><span class="hljs-keyword">gen</span> rel_date_cut = rel_date<br><span class="hljs-keyword">local</span> pre_cut  = 5<br><span class="hljs-keyword">local</span> post_cut = 10<br><span class="hljs-keyword">replace</span> rel_date_cut = -<span class="hljs-symbol">`pre_cut&#x27;</span>  <span class="hljs-keyword">if</span> rel_date&lt;-<span class="hljs-symbol">`pre_cut&#x27;</span><br><span class="hljs-keyword">replace</span> rel_date_cut = <span class="hljs-symbol">`post_cut&#x27;</span> <span class="hljs-keyword">if</span> rel_date&gt;<span class="hljs-symbol">`post_cut&#x27;</span><br><span class="hljs-keyword">tab</span> rel_date_cut<br><span class="hljs-comment">//把-5期之后的都改成-5，把10期之后的都改为10</span><br><br><span class="hljs-keyword">forvalues</span> k = <span class="hljs-symbol">`pre_cut&#x27;</span>(-1)2 &#123;<br>   <span class="hljs-keyword">gen</span> relb_<span class="hljs-symbol">`k&#x27;</span> = rel_date_cut == -<span class="hljs-symbol">`k&#x27;</span><br>   <span class="hljs-keyword">label</span> <span class="hljs-keyword">var</span> relb_<span class="hljs-symbol">`k&#x27;</span> <span class="hljs-string">&quot;-`k&#x27;&quot;</span><br>&#125;<br><span class="hljs-keyword">gen</span> rel_base = rel_date_cut==-1<br><span class="hljs-keyword">label</span> <span class="hljs-keyword">var</span> rel_base <span class="hljs-string">&quot;-1&quot;</span><br><span class="hljs-keyword">forvalues</span> k = 0/<span class="hljs-symbol">`post_cut&#x27;</span> &#123;<br>    <span class="hljs-keyword">gen</span> relf_<span class="hljs-symbol">`k&#x27;</span> = rel_date_cut == <span class="hljs-symbol">`k&#x27;</span><br>    <span class="hljs-keyword">label</span> <span class="hljs-keyword">var</span> relf_<span class="hljs-symbol">`k&#x27;</span> <span class="hljs-string">&quot;`k&#x27;&quot;</span><br>&#125;<br><span class="hljs-keyword">for</span> <span class="hljs-keyword">var</span> relb_* relf_* rel_base: <span class="hljs-keyword">replace</span> X = 0 <span class="hljs-keyword">if</span> group1==1 <span class="hljs-comment">// 控制组的相对数量全是0</span><br><span class="hljs-comment">//这里用了上面的局部宏，这些命令必须与上面的local等一起运行，单独运行会报错</span><br><br>reghdfe y relb_* o.rel_base relf_*, a(id time) <span class="hljs-keyword">cluster</span>(id) <span class="hljs-comment">//归并的结果</span><br>eststo ES_bin<br><br>reghdfe y relb_* o.rel_base relf_* <span class="hljs-keyword">if</span> <span class="hljs-built_in">inrange</span>(rel_date,-5,10), a(id time) <span class="hljs-keyword">cluster</span>(id) <span class="hljs-comment">//截断的话操作比较简单，直接写range就好</span><br>eststo ES_trim<br><br><span class="hljs-comment">* 设置真实系数矩阵btrue</span><br><span class="hljs-keyword">gl</span> leadall <span class="hljs-string">&quot;relb_5 relb_4 relb_3 relb_2 rel_base&quot;</span><br><span class="hljs-keyword">gl</span> lagall <span class="hljs-string">&quot;relf_0 relf_1 relf_2 relf_3 relf_4 relf_5 relf_6 relf_7 relf_8 relf_9 relf_10 &quot;</span><br><br><span class="hljs-keyword">matrix</span> btrue = <span class="hljs-built_in">J</span>(1,16,.)<br><span class="hljs-keyword">matrix</span> colnames btrue = <span class="hljs-variable">$leadall</span> <span class="hljs-variable">$lagall</span><br><span class="hljs-keyword">qui</span> <span class="hljs-keyword">forvalues</span> <span class="hljs-keyword">l</span> = 1/5 &#123;<br>    <span class="hljs-keyword">matrix</span> btrue[1,<span class="hljs-symbol">`l&#x27;</span>]=0<br>&#125;<br><span class="hljs-keyword">qui</span> <span class="hljs-keyword">forvalues</span> <span class="hljs-keyword">h</span> = 0/10 &#123;<br>    <span class="hljs-keyword">sum</span> tauit <span class="hljs-keyword">if</span> rel_date==<span class="hljs-symbol">`h&#x27;</span>&amp;<span class="hljs-keyword">D</span>==1<br>    <span class="hljs-keyword">matrix</span> btrue[1,<span class="hljs-symbol">`h&#x27;</span>+6]=<span class="hljs-built_in">r</span>(<span class="hljs-keyword">mean</span>)<br>&#125;<br><span class="hljs-keyword">matrix</span> <span class="hljs-keyword">list</span> btrue<br><br>coefplot (<span class="hljs-built_in">matrix</span>(btrue[1]), <span class="hljs-built_in">m</span>(Oh)) ES_bin ES_trim, <span class="hljs-keyword">drop</span>(_cons) <span class="hljs-keyword">order</span>(relb* rel_base relf*) omitted baselevel vertical  <span class="hljs-comment">///</span><br>    ciopts(<span class="hljs-keyword">recast</span>(rcap)) yline(0, lc(gs0) lp(solid)) <span class="hljs-comment">///</span><br>    xline(5.5, lc(gs8) lp(dash)) xtitle(<span class="hljs-string">&quot;相对处理时期&quot;</span>) ytitle(<span class="hljs-string">&quot;估计系数&quot;</span>) <span class="hljs-comment">///</span><br>    legend(<span class="hljs-keyword">order</span>(2 <span class="hljs-string">&quot;真实系数&quot;</span> 4 <span class="hljs-string">&quot;归并样本 (binned)&quot;</span> 6 <span class="hljs-string">&quot;截断样本 (trimmed)&quot;</span>) <span class="hljs-variable">$blgd</span>) <span class="hljs-comment">///</span><br>    title(<span class="hljs-string">&quot;（a）事件窗口期[-5,10]&quot;</span>, pos(6)) name(BT1)<br><br><br><span class="hljs-comment">***在[-10,5]期内归并、截断</span><br><span class="hljs-keyword">use</span> simu_data_DGP01, <span class="hljs-keyword">clear</span><br><span class="hljs-keyword">cap</span> <span class="hljs-keyword">drop</span> relb_* rel_base relf_*<br><br><span class="hljs-keyword">gen</span> rel_date_cut = rel_date<br><span class="hljs-keyword">local</span> pre_cut  = 10<br><span class="hljs-keyword">local</span> post_cut = 5<br><span class="hljs-keyword">replace</span> rel_date_cut = -<span class="hljs-symbol">`pre_cut&#x27;</span>  <span class="hljs-keyword">if</span> rel_date&lt;-<span class="hljs-symbol">`pre_cut&#x27;</span><br><span class="hljs-keyword">replace</span> rel_date_cut = <span class="hljs-symbol">`post_cut&#x27;</span> <span class="hljs-keyword">if</span> rel_date&gt;<span class="hljs-symbol">`post_cut&#x27;</span><br><span class="hljs-keyword">tab</span> rel_date_cut<br><br><span class="hljs-keyword">forvalues</span> k = <span class="hljs-symbol">`pre_cut&#x27;</span>(-1)2 &#123;<br>   <span class="hljs-keyword">gen</span> relb_<span class="hljs-symbol">`k&#x27;</span> = rel_date_cut == -<span class="hljs-symbol">`k&#x27;</span><br>   <span class="hljs-keyword">label</span> <span class="hljs-keyword">var</span> relb_<span class="hljs-symbol">`k&#x27;</span> <span class="hljs-string">&quot;-`k&#x27;&quot;</span><br>&#125;<br><span class="hljs-keyword">gen</span> rel_base = rel_date_cut==-1<br><span class="hljs-keyword">label</span> <span class="hljs-keyword">var</span> rel_base <span class="hljs-string">&quot;-1&quot;</span><br><span class="hljs-keyword">forvalues</span> k = 0/<span class="hljs-symbol">`post_cut&#x27;</span> &#123;<br>    <span class="hljs-keyword">gen</span> relf_<span class="hljs-symbol">`k&#x27;</span> = rel_date_cut == <span class="hljs-symbol">`k&#x27;</span><br>    <span class="hljs-keyword">label</span> <span class="hljs-keyword">var</span> relf_<span class="hljs-symbol">`k&#x27;</span> <span class="hljs-string">&quot;`k&#x27;&quot;</span><br>&#125;<br><span class="hljs-keyword">for</span> <span class="hljs-keyword">var</span> relb_* relf_* rel_base: <span class="hljs-keyword">replace</span> X = 0 <span class="hljs-keyword">if</span> group1==1 <span class="hljs-comment">// 控制组的相对数量全是0</span><br>reghdfe y relb_* o.rel_base relf_*, a(id time) <span class="hljs-keyword">cluster</span>(id)<br>eststo ES_bin<br><br>reghdfe y relb_* o.rel_base relf_* <span class="hljs-keyword">if</span> <span class="hljs-built_in">inrange</span>(rel_date,-10,5), a(id time) <span class="hljs-keyword">cluster</span>(id)<br>eststo ES_trim<br><br><span class="hljs-keyword">gl</span> leadall <span class="hljs-string">&quot;relb_10 relb_9 relb_8 relb_7 relb_6 relb_5 relb_4 relb_3 relb_2 rel_base&quot;</span><br><span class="hljs-keyword">gl</span> lagall <span class="hljs-string">&quot;relf_0 relf_1 relf_2 relf_3 relf_4 relf_5&quot;</span><br><span class="hljs-keyword">matrix</span> btrue = <span class="hljs-built_in">J</span>(1,16,.)<br><span class="hljs-keyword">matrix</span> colnames btrue = <span class="hljs-variable">$leadall</span> <span class="hljs-variable">$lagall</span><br><span class="hljs-keyword">qui</span> <span class="hljs-keyword">forvalues</span> <span class="hljs-keyword">l</span> = 1/10 &#123;<br>    <span class="hljs-keyword">matrix</span> btrue[1,<span class="hljs-symbol">`l&#x27;</span>]=0<br>&#125;<br><span class="hljs-keyword">qui</span> <span class="hljs-keyword">forvalues</span> <span class="hljs-keyword">h</span> = 0/5 &#123;<br>    <span class="hljs-keyword">sum</span> tauit <span class="hljs-keyword">if</span> rel_date==<span class="hljs-symbol">`h&#x27;</span>&amp;<span class="hljs-keyword">D</span>==1<br>    <span class="hljs-keyword">matrix</span> btrue[1,<span class="hljs-symbol">`h&#x27;</span>+11]=<span class="hljs-built_in">r</span>(<span class="hljs-keyword">mean</span>)<br>&#125;<br><span class="hljs-keyword">matrix</span> <span class="hljs-keyword">list</span> btrue<br><br>coefplot (<span class="hljs-built_in">matrix</span>(btrue[1]), <span class="hljs-built_in">m</span>(Oh)) ES_bin ES_trim, <span class="hljs-keyword">drop</span>(_cons) <span class="hljs-keyword">order</span>(relb* rel_base relf*) omitted baselevel vertical <span class="hljs-comment">///</span><br>    ciopts(<span class="hljs-keyword">recast</span>(rcap)) yline(0, lc(gs0) lp(solid)) <span class="hljs-comment">///</span><br>    xline(10.5, lc(gs8) lp(dash)) ylabel(0(3)9) xtitle(<span class="hljs-string">&quot;相对处理时期&quot;</span>) ytitle(<span class="hljs-string">&quot;估计系数&quot;</span>) <span class="hljs-comment">///</span><br>    legend(<span class="hljs-keyword">order</span>(2 <span class="hljs-string">&quot;真实系数&quot;</span> 4 <span class="hljs-string">&quot;归并样本 (binned)&quot;</span> 6 <span class="hljs-string">&quot;截断样本 (trimmed)&quot;</span>) <span class="hljs-variable">$blgd</span>) <span class="hljs-comment">///</span><br>    title(<span class="hljs-string">&quot;（b）事件窗口期[-10,5]&quot;</span>, pos(6)) name(BT2)<br><br>grc1leg2 BT1 BT2, xsize(10) scale(1.5) labsize(small)<br><br><span class="hljs-keyword">gr</span> export <span class="hljs-string">&quot;figure/ES_BinTrim.png&quot;</span>, width(3000) <span class="hljs-keyword">replace</span><br><span class="hljs-keyword">gr</span> export <span class="hljs-string">&quot;figure/ES_BinTrim.svg&quot;</span>, <span class="hljs-keyword">replace</span><br><span class="hljs-keyword">gr</span> <span class="hljs-keyword">save</span> figure/ES_BinTrim.gph, <span class="hljs-keyword">replace</span><br></code></pre></td></tr></table></figure><h3 id="存在组群时间趋势的情况">3.3 存在组群时间趋势的情况</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br></pre></td><td class="code"><pre><code class="hljs stata"><span class="hljs-keyword">clear</span> all<br><br><span class="hljs-comment">**********************</span><br><span class="hljs-comment">**       图7        **</span><br><span class="hljs-comment">**********************</span><br><span class="hljs-keyword">use</span> simu_data_DGP02, <span class="hljs-keyword">clear</span><br><br><span class="hljs-keyword">cap</span> <span class="hljs-keyword">gr</span> <span class="hljs-keyword">drop</span> GT* <span class="hljs-comment">//这行代码尝试删除所有以 &quot;GT&quot; 开头的图形对象，并且即使没有找到这样命名的图形对象也不会显示错误信息，整个程序会继续执行下去。这通常用于编写脚本时，确保即使某些图形对象不存在时脚本也可以继续无误地运行。</span><br><span class="hljs-keyword">preserve</span> <br><span class="hljs-keyword">collapse</span> (<span class="hljs-keyword">mean</span>) y, <span class="hljs-keyword">by</span>(treat time)<br><span class="hljs-keyword">tw</span>  (<span class="hljs-keyword">sc</span> y time <span class="hljs-keyword">if</span> treat==2, c(<span class="hljs-keyword">l</span>) <span class="hljs-built_in">m</span>(o) lp(solid)) <span class="hljs-comment">///</span><br>    (<span class="hljs-keyword">sc</span> y time <span class="hljs-keyword">if</span> treat==3, c(<span class="hljs-keyword">l</span>) <span class="hljs-built_in">m</span>(s) lp(solid)) <span class="hljs-comment">///</span><br>    (<span class="hljs-keyword">sc</span> y time <span class="hljs-keyword">if</span> treat==4, c(<span class="hljs-keyword">l</span>) <span class="hljs-built_in">m</span>(t) lp(solid)) <span class="hljs-comment">///</span><br>    (<span class="hljs-keyword">sc</span> y time <span class="hljs-keyword">if</span> treat==1, c(<span class="hljs-keyword">l</span>) <span class="hljs-built_in">m</span>(<span class="hljs-keyword">d</span>) lp(solid)) <span class="hljs-comment">///</span><br>    (<span class="hljs-keyword">lfit</span> y time <span class="hljs-keyword">if</span> treat==2&amp;time&lt;5, <span class="hljs-keyword">range</span>(1 20) lc(plb1) lp(shortdash)) <span class="hljs-comment">///</span><br>    (<span class="hljs-keyword">lfit</span> y time <span class="hljs-keyword">if</span> treat==3&amp;time&lt;10, <span class="hljs-keyword">range</span>(1 20) lc(plr1) lp(shortdash)) <span class="hljs-comment">///</span><br>    (<span class="hljs-keyword">lfit</span> y time <span class="hljs-keyword">if</span> treat==4&amp;time&lt;15, <span class="hljs-keyword">range</span>(1 20) lc(plg1) lp(shortdash)) , ylabel(0(10)50) <span class="hljs-comment">///</span><br>    xtitle(<span class="hljs-string">&quot;时期&quot;</span>) ytitle(<span class="hljs-string">&quot;结果变量Y&quot;</span>) <span class="hljs-comment">///</span><br>    legend(<span class="hljs-keyword">order</span>(1 <span class="hljs-string">&quot;组群1（趋势=1t）&quot;</span> 2 <span class="hljs-string">&quot;组群2（趋势=0.5t）&quot;</span> 3 <span class="hljs-string">&quot;组群3（趋势=0.2t）&quot;</span> 4 <span class="hljs-string">&quot;控制组&quot;</span>) <span class="hljs-variable">$blgd</span> col(2)) <span class="hljs-comment">///</span><br>    tit(<span class="hljs-string">&quot;（a）模拟数据&quot;</span>, pos(6)) scale(1.2) name(GT_data1)<br><span class="hljs-keyword">restore</span><br><br><span class="hljs-keyword">preserve</span> <br>    reghdfe y <span class="hljs-keyword">if</span> <span class="hljs-keyword">D</span>==0, a(id time groupFE=i.treat#c.time) <span class="hljs-keyword">cluster</span>(id) <span class="hljs-comment">//仅回归全部处理前的情况，还固定了组群与时间的交互项</span><br>    ereplace groupFESlope1 = <span class="hljs-keyword">mean</span>(groupFESlope1), <span class="hljs-keyword">by</span>(id) <span class="hljs-comment">//将每个 id 分组内的 groupFESlope1 替换为该分组内 groupFESlope1 的均值。这实际上是在执行一个分组内的均值归一化。就是把那些D=1的观测值也填上上面计算的结果。groupFESlope1其实就是斜率？</span><br>    <span class="hljs-keyword">gen</span> grouptrend = time*groupFESlope1 <span class="hljs-comment">//得到时间趋势</span><br>    <span class="hljs-keyword">gen</span> y_hat = y - grouptrend <span class="hljs-comment">//去除时间趋势</span><br>    <span class="hljs-keyword">collapse</span> (<span class="hljs-keyword">mean</span>) y_hat, <span class="hljs-keyword">by</span>(treat time)<br>    <span class="hljs-keyword">tw</span>  (<span class="hljs-keyword">sc</span> y_hat time <span class="hljs-keyword">if</span> treat==2, c(<span class="hljs-keyword">l</span>) <span class="hljs-built_in">m</span>(oh) lp(dash)) <span class="hljs-comment">///</span><br>        (<span class="hljs-keyword">sc</span> y_hat time <span class="hljs-keyword">if</span> treat==3, c(<span class="hljs-keyword">l</span>) <span class="hljs-built_in">m</span>(<span class="hljs-keyword">sh</span>) lp(dash)) <span class="hljs-comment">///</span><br>        (<span class="hljs-keyword">sc</span> y_hat time <span class="hljs-keyword">if</span> treat==4, c(<span class="hljs-keyword">l</span>) <span class="hljs-built_in">m</span>(th) lp(dash)) <span class="hljs-comment">///</span><br>        (<span class="hljs-keyword">sc</span> y_hat time <span class="hljs-keyword">if</span> treat==1, c(<span class="hljs-keyword">l</span>) <span class="hljs-built_in">m</span>(dh) lp(dash)), ylabel(0(10)35) <span class="hljs-comment">///</span><br>        xtitle(<span class="hljs-string">&quot;时期&quot;</span>) ytitle(<span class="hljs-string">&quot;结果变量Y&quot;</span>) legend(<span class="hljs-keyword">order</span>(1 <span class="hljs-string">&quot;组群1&quot;</span> 2 <span class="hljs-string">&quot;组群2 (T*=10, 趋势=0.5t)&quot;</span> 3 <span class="hljs-string">&quot;组群3 (T*=15, 趋势=0.2t)&quot;</span> 4 <span class="hljs-string">&quot;控制组&quot;</span>) <span class="hljs-variable">$blgd</span> row(2)) <span class="hljs-comment">///</span><br>        tit(<span class="hljs-string">&quot;（b）剔除时间趋势&quot;</span>, pos(6)) scale(1.2) name(GT_data2)<br><span class="hljs-keyword">restore</span><br><br>grc1leg2 GT_data1 GT_data2, xsize(10) scale(1.3)  lr(1) labsize(small)<br><span class="hljs-keyword">gr</span> export <span class="hljs-string">&quot;figure/ES_GTdata.png&quot;</span>, width(3000) <span class="hljs-keyword">replace</span><br><span class="hljs-keyword">gr</span> export <span class="hljs-string">&quot;figure/ES_GTdata.svg&quot;</span>, <span class="hljs-keyword">replace</span><br><span class="hljs-keyword">gr</span> <span class="hljs-keyword">save</span> figure/ES_GTdata.gph, <span class="hljs-keyword">replace</span><br><br><span class="hljs-comment">**********************</span><br><span class="hljs-comment">**       图8        **</span><br><span class="hljs-comment">**********************</span><br><span class="hljs-keyword">use</span> simu_data_DGP02, <span class="hljs-keyword">clear</span><br><br>reghdfe y relb_* o.rel_base relf_*, a(id time) <span class="hljs-keyword">cluster</span>(id) <span class="hljs-comment">//直接回归，不控制组群时间趋势，结果很奇怪，处理前后都显著，尽管处理前系数绝对值不大</span><br>eststo TWFE<br><br>reghdfe y  relb_14 relb_13 relb_12 relb_11 relb_10 relb_9 relb_8 relb_7 relb_6 relb_5 relb_4 relb_3 relb_2 o.rel_base relf_0 relf_1 relf_2 relf_3 relf_4 relf_5 relf_6 relf_7 relf_8 relf_9 relf_10 relf_11 relf_12 relf_13 relf_14 relf_15, a(id time i.treat#c.time) <span class="hljs-keyword">cluster</span>(id) <span class="hljs-comment">//控制了组群时间趋势，处理前系数为负，且绝对值很大，此后绝对值一路转小，到处理后期不显著了</span><br>eststo TWFE_wtrend<br><br><span class="hljs-keyword">gl</span> leadall <span class="hljs-string">&quot;relb_14 relb_13 relb_12 relb_11 relb_10 relb_9 relb_8 relb_7 relb_6 relb_5 relb_4 relb_3 relb_2 rel_base&quot;</span><br><span class="hljs-keyword">gl</span> lagall <span class="hljs-string">&quot;relf_0 relf_1 relf_2 relf_3 relf_4 relf_5 relf_6 relf_7 relf_8 relf_9 relf_10 relf_11 relf_12 relf_13 relf_14 relf_15&quot;</span><br><span class="hljs-keyword">gl</span> lead10 <span class="hljs-string">&quot;relb_10 relb_9 relb_8 relb_7 relb_6 relb_5 relb_4 relb_3 relb_2 rel_base&quot;</span><br><span class="hljs-keyword">gl</span> lag10 <span class="hljs-string">&quot;relf_0 relf_1 relf_2 relf_3 relf_4 relf_5 relf_6 relf_7 relf_8 relf_9 relf_10&quot;</span><br><br><span class="hljs-keyword">matrix</span> btrue = <span class="hljs-built_in">J</span>(1,30,.)<br><span class="hljs-keyword">matrix</span> colnames btrue = <span class="hljs-variable">$leadall</span> <span class="hljs-variable">$lagall</span><br><span class="hljs-keyword">qui</span> <span class="hljs-keyword">forvalues</span> <span class="hljs-keyword">l</span> = 1/14 &#123;<br>    <span class="hljs-keyword">matrix</span> btrue[1,<span class="hljs-symbol">`l&#x27;</span>]=0<br>&#125;<br><span class="hljs-keyword">qui</span> <span class="hljs-keyword">forvalues</span> <span class="hljs-keyword">h</span> = 0/15 &#123;<br>    <span class="hljs-keyword">sum</span> tauit <span class="hljs-keyword">if</span> rel_date==<span class="hljs-symbol">`h&#x27;</span>&amp;<span class="hljs-keyword">D</span>==1<br>    <span class="hljs-keyword">matrix</span> btrue[1,<span class="hljs-symbol">`h&#x27;</span>+15]=<span class="hljs-built_in">r</span>(<span class="hljs-keyword">mean</span>)<br>&#125;<br><span class="hljs-keyword">matrix</span> <span class="hljs-keyword">list</span> btrue<br><br><span class="hljs-keyword">cap</span> <span class="hljs-keyword">gr</span> <span class="hljs-keyword">drop</span> GT_est*<br>coefplot (<span class="hljs-built_in">matrix</span>(btrue[1]), msym(Oh)) TWFE TWFE_wtrend, <span class="hljs-keyword">keep</span>(<span class="hljs-variable">$lead10</span> <span class="hljs-variable">$lag10</span>) <span class="hljs-keyword">order</span>(<span class="hljs-variable">$lead10</span> <span class="hljs-variable">$lag10</span>) omitted baselevel vertical nooffsets <span class="hljs-comment">///</span><br>    <span class="hljs-keyword">recast</span>(connect) ciopts(<span class="hljs-keyword">recast</span>(rcap)) yline(0, lc(gs8) lp(solid)) <span class="hljs-comment">///</span><br>    xline(10.5, lc(gs8) lp(dash)) xtitle(<span class="hljs-string">&quot;相对处理时期&quot;</span>) ytitle(<span class="hljs-string">&quot;估计系数&quot;</span>) <span class="hljs-comment">///</span><br>    legend(<span class="hljs-keyword">order</span>(2 <span class="hljs-string">&quot;真实系数&quot;</span> 4 <span class="hljs-string">&quot;事件研究法&quot;</span> 6 <span class="hljs-string">&quot;控制组别时间趋势&quot;</span>) <span class="hljs-variable">$blgd</span> col(3)) <span class="hljs-comment">///</span><br>    tit(<span class="hljs-string">&quot;（a）控制组别时间趋势&quot;</span>, pos(6)) scale(1.2) name(GT_est1)<br><br><span class="hljs-keyword">est</span> <span class="hljs-keyword">clear</span><br>reghdfe y  relb_14 relb_13 relb_12 relb_11 o.relb_10 relb_9 relb_8 relb_7 relb_6 o.relb_5 relb_4 relb_3 relb_2 rel_base relf_0 relf_1 relf_2 relf_3 relf_4 relf_5 relf_6 relf_7 relf_8 relf_9 relf_10 relf_11 relf_12 relf_13 relf_14 relf_15, a(id time i.treat#c.time) <span class="hljs-keyword">cluster</span>(id)<br>eststo TWFE_wtrend1<br><span class="hljs-comment">//基期是-10、-5，控制了组群时间趋势，此时的结果与真实系数相差不大。其实只要包含最早的基期和处理前一期，控制时间趋势的话，结果相差不大的，在置信区间内</span><br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">reghdfe y  o.relb_14 relb_13 relb_12 relb_11 relb_10 relb_9 relb_8 relb_7 relb_6 relb_5 relb_4 relb_3 relb_2 o.rel_base relf_0 relf_1 relf_2 relf_3 relf_4 relf_5 relf_6 relf_7 relf_8 relf_9 relf_10 relf_11 relf_12 relf_13 relf_14 relf_15, a(id time i.treat#c.time ) cluster(id) //比如这里，基期是-14和-1，此时的结果与真实系数很接近，且真实系数在估计结果的置信区间内，因此，控制时间趋势并且正确选择基期，是可以得到有效估计的。或者把事前全部omitted也行。不过这对正确把握现实中的冲击生效时间很重要。</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">*/</span><br>reghdfe y  relb_14 relb_13 relb_12 relb_11 relb_10 relb_9 relb_8 relb_7 relb_6 relb_5 relb_4 relb_3 relb_2 o.rel_base relf_0 relf_1 relf_2 relf_3 relf_4 o.relf_5 relf_6 relf_7 relf_8 relf_9 relf_10 relf_11 relf_12 relf_13 relf_14 relf_15, a(id time i.treat#c.time) <span class="hljs-keyword">cluster</span>(id) <span class="hljs-comment">//基期是-1、5，也控制了组群时间趋势，此时的结果与真实系数差得离谱</span><br>eststo TWFE_wtrend2<br><br>coefplot (<span class="hljs-built_in">matrix</span>(btrue[1]), msym(Oh)) TWFE_wtrend1 TWFE_wtrend2, <span class="hljs-keyword">keep</span>(<span class="hljs-variable">$lead10</span> <span class="hljs-variable">$lag10</span>) <span class="hljs-keyword">order</span>(<span class="hljs-variable">$lead10</span> <span class="hljs-variable">$lag10</span>) omitted baselevel vertical <span class="hljs-keyword">recast</span>(con) <span class="hljs-comment">///</span><br>    ciopts(<span class="hljs-keyword">recast</span>(rcap)) yline(0, lc(gs8) lp(solid)) <span class="hljs-comment">///</span><br>    xline(14.5, lc(gs8) lp(dash)) xtitle(<span class="hljs-string">&quot;相对处理时期&quot;</span>) ytitle(<span class="hljs-string">&quot;估计系数&quot;</span>) <span class="hljs-comment">///</span><br>    legend(<span class="hljs-keyword">order</span>(2 <span class="hljs-string">&quot;真实系数&quot;</span> 4 <span class="hljs-string">&quot;基期=(-10, -5)&quot;</span> 6 <span class="hljs-string">&quot;基期=(-1, 5)&quot;</span>) <span class="hljs-variable">$blgd</span> col(3)) <span class="hljs-comment">///</span><br>    tit(<span class="hljs-string">&quot;（b）更换基期&quot;</span>, pos(6)) scale(1.2) name(GT_est2)<br><br><span class="hljs-keyword">gr</span> combine GT_est1 GT_est2, xsize(10) scale(1.3)<br><span class="hljs-keyword">gr</span> export <span class="hljs-string">&quot;figure/ES_GTest.png&quot;</span>, width(3000) <span class="hljs-keyword">replace</span><br><span class="hljs-keyword">gr</span> export <span class="hljs-string">&quot;figure/ES_GTest.svg&quot;</span>, <span class="hljs-keyword">replace</span><br><span class="hljs-keyword">gr</span> <span class="hljs-keyword">save</span> figure/ES_GTest.gph, <span class="hljs-keyword">replace</span><br><br><br><span class="hljs-comment">**********************</span><br><span class="hljs-comment">**       表1        **</span><br><span class="hljs-comment">**********************</span><br><span class="hljs-comment">* 组别时间趋势系数估计</span><br><span class="hljs-keyword">use</span> simu_data_DGP02, <span class="hljs-keyword">clear</span><br><span class="hljs-keyword">forvalues</span> i = 1/4&#123;<br>    <span class="hljs-keyword">gen</span> group<span class="hljs-symbol">`i&#x27;</span>_time = (treat==<span class="hljs-symbol">`i&#x27;</span>) * time<br>&#125;<br><span class="hljs-comment">* 由于组别时间趋势与时间固定效应共线，故以时间趋势为0的控制组（group1）为参照组</span><br><span class="hljs-comment">* 系数代表各组群的线性时间趋势系数与参照组的差异，由于参照组本身无时间趋势，故系数代表各组本身的线性时间趋势斜率</span><br><span class="hljs-keyword">est</span> <span class="hljs-keyword">clear</span><br>reghdfe y group2_time group3_time group4_time, a(id time) <span class="hljs-keyword">cluster</span>(id) <span class="hljs-comment">//使用全样本估计时间趋势，此时是不准确的</span><br>eststo model_aux1<br>reghdfe y group2_time group3_time group4_time <span class="hljs-keyword">if</span> <span class="hljs-keyword">D</span>==0, a(id time) <span class="hljs-keyword">cluster</span>(id) <span class="hljs-comment">//使用未处理样本，即D=0的样本，估计时间趋势，此时是准确的</span><br>eststo model_aux2<br>esttab model_aux2 model_aux1, <span class="hljs-keyword">keep</span>(group*) r2 <span class="hljs-keyword">se</span> b(4) star(* 0.10 ** 0.05 *** 0.01) <br><span class="hljs-comment">/*------------------------------------------</span><br><span class="hljs-comment">                      (1)             (2)   </span><br><span class="hljs-comment">                        y               y   </span><br><span class="hljs-comment">--------------------------------------------</span><br><span class="hljs-comment">group2_time        1.0421***       1.9330***</span><br><span class="hljs-comment">                 (0.1556)        (0.0170)   </span><br><span class="hljs-comment"></span><br><span class="hljs-comment">group3_time        0.5090***       1.1024***</span><br><span class="hljs-comment">                 (0.0471)        (0.0168)   </span><br><span class="hljs-comment"></span><br><span class="hljs-comment">group4_time        0.2375***       0.4470***</span><br><span class="hljs-comment">                 (0.0276)        (0.0173)   </span><br><span class="hljs-comment">--------------------------------------------</span><br><span class="hljs-comment">N                    4700            8000   </span><br><span class="hljs-comment">R-sq                0.785           0.953   </span><br><span class="hljs-comment">--------------------------------------------*/</span><br><span class="hljs-comment">* esttab model_aux2 model_aux1 using &quot;table\model_aux.rtf&quot;, keep(group*) r2 se b(4) star(* 0.10 ** 0.05 *** 0.01) nogap replace //导出结果</span><br><br><br><span class="hljs-comment">**********************</span><br><span class="hljs-comment">**       图9        **</span><br><span class="hljs-comment">**********************</span><br><span class="hljs-comment">* 正确控制组间时间趋势</span><br><span class="hljs-comment">*   - detrend</span><br><span class="hljs-comment">*   - imputation</span><br><br><span class="hljs-keyword">use</span> simu_data_DGP02, <span class="hljs-keyword">clear</span><br><span class="hljs-keyword">gl</span> leadall <span class="hljs-string">&quot;relb_14 relb_13 relb_12 relb_11 relb_10 relb_9 relb_8 relb_7 relb_6 relb_5 relb_4 relb_3 relb_2 rel_base&quot;</span><br><span class="hljs-keyword">gl</span> lagall <span class="hljs-string">&quot;relf_0 relf_1 relf_2 relf_3 relf_4 relf_5 relf_6 relf_7 relf_8 relf_9 relf_10 relf_11 relf_12 relf_13 relf_14 relf_15&quot;</span><br><br><span class="hljs-comment">*- True ATT</span><br><span class="hljs-keyword">matrix</span> btrue = <span class="hljs-built_in">J</span>(1,30,.)<br><span class="hljs-keyword">matrix</span> colnames btrue = <span class="hljs-variable">$leadall</span> <span class="hljs-variable">$lagall</span><br><span class="hljs-keyword">qui</span> <span class="hljs-keyword">forvalues</span> <span class="hljs-keyword">l</span> = 1/14 &#123;<br>    <span class="hljs-keyword">matrix</span> btrue[1,<span class="hljs-symbol">`l&#x27;</span>]=0<br>&#125;<br><span class="hljs-keyword">qui</span> <span class="hljs-keyword">forvalues</span> <span class="hljs-keyword">h</span> = 0/15 &#123;<br>    <span class="hljs-keyword">sum</span> tauit <span class="hljs-keyword">if</span> rel_date==<span class="hljs-symbol">`h&#x27;</span>&amp;<span class="hljs-keyword">D</span>==1<br>    <span class="hljs-keyword">matrix</span> btrue[1,<span class="hljs-symbol">`h&#x27;</span>+15]=<span class="hljs-built_in">r</span>(<span class="hljs-keyword">mean</span>)<br>&#125;<br><span class="hljs-keyword">matrix</span> <span class="hljs-keyword">list</span> btrue<br><span class="hljs-comment">//真实的处理效果就是，-1期及之前都是0，之后每期+1</span><br><br><span class="hljs-comment">*- TWFE event study</span><br>reghdfe y relb_* o.rel_base relf_*, a(id time) <span class="hljs-keyword">cluster</span>(id) <span class="hljs-comment">//这里只选择了-1期做基期，是有偏的</span><br>eststo TWFE_trend<br><br><span class="hljs-comment">*- Detrend (Good-man Bacon, 2021)</span><br>reghdfe y <span class="hljs-keyword">if</span> <span class="hljs-keyword">D</span>==0, a(id time groupFE=i.treat#c.time) <span class="hljs-keyword">cluster</span>(id)<br>ereplace groupFESlope1 = <span class="hljs-keyword">mean</span>(groupFESlope1), <span class="hljs-keyword">by</span>(id)<br><span class="hljs-keyword">gen</span> grouptrend = time*groupFESlope1<br><span class="hljs-keyword">gen</span> y_hat = y - grouptrend <span class="hljs-comment">//减去了时间趋势</span><br>reghdfe y_hat relb_* o.rel_base relf_*, a(id time) <span class="hljs-keyword">cluster</span>(id)<br>eststo TWFE_detrend<br><br><span class="hljs-comment">*- Generalized SCM (Liu et al., 2021)</span><br><span class="hljs-keyword">forvalues</span> i = 1/4&#123;<br>    <span class="hljs-keyword">gen</span> group<span class="hljs-symbol">`i&#x27;</span>_time = (treat==<span class="hljs-symbol">`i&#x27;</span>) * time<br>&#125;<br>fect y, treat(<span class="hljs-keyword">D</span>) unit(id) time(time) cov(group1_time group2_time group3_time group4_time) method(<span class="hljs-string">&quot;fe&quot;</span>) <span class="hljs-keyword">se</span> nboots(100) <span class="hljs-comment">//广义合成控制的结果，也是准确的，怎么感觉这个方法本质上跟去除时间趋势是一样的</span><br><span class="hljs-keyword">matrix</span> fect_results = <span class="hljs-built_in">e</span>(ATTs)<br><span class="hljs-keyword">matrix</span> rownames fect_results = relb_13 relb_12 relb_11 relb_10 relb_9 relb_8 relb_7 relb_6 relb_5 relb_4 relb_3 relb_2 relb_1 relf_0 relf_1 relf_2 relf_3 relf_4 relf_5 relf_6 relf_7 relf_8 relf_9 relf_10 relf_11<br><span class="hljs-keyword">matrix</span> fect_b = fect_results[4..24,3]  <span class="hljs-comment">//storing the estimates for later</span><br><span class="hljs-keyword">matrix</span> fect_v = fect_results[4..24,4]<br><span class="hljs-keyword">matrix</span> fect = [fect_b , fect_v]&#x27;<br><br><span class="hljs-comment">*- Two-stage DiD (Gardner, 2021)</span><br>did2s y, first_stage(i.id i.time i.treat#c.time) second_stage(relb* rel_base relf*) treatment(<span class="hljs-keyword">D</span>) <span class="hljs-keyword">cluster</span>(id)<br>eststo twostage <span class="hljs-comment">//两阶段DID的结果最准确，但是居然不用drop掉一期？？</span><br><br><span class="hljs-keyword">gl</span> lead10 <span class="hljs-string">&quot;relb_10 relb_9 relb_8 relb_7 relb_6 relb_5 relb_4 relb_3 relb_2 rel_base&quot;</span><br><span class="hljs-keyword">gl</span> lag10 <span class="hljs-string">&quot;relf_0 relf_1 relf_2 relf_3 relf_4 relf_5 relf_6 relf_7 relf_8 relf_9 relf_10&quot;</span><br>coefplot (<span class="hljs-built_in">matrix</span>(btrue[1]), msym(Oh) <span class="hljs-keyword">recast</span>(<span class="hljs-keyword">scatter</span>))  <span class="hljs-comment">///</span><br>         (TWFE_trend, <span class="hljs-built_in">m</span>(t)) <span class="hljs-comment">///</span><br>         (TWFE_detrend, <span class="hljs-built_in">m</span>(s)) <span class="hljs-comment">///</span><br>         (twostage, <span class="hljs-built_in">m</span>(<span class="hljs-keyword">d</span>)) <span class="hljs-comment">///</span><br>         (<span class="hljs-built_in">matrix</span>(fect[1]), <span class="hljs-keyword">se</span>(2) <span class="hljs-built_in">m</span>(X)), <span class="hljs-comment">///</span><br>         <span class="hljs-keyword">keep</span>(<span class="hljs-variable">$lead10</span> <span class="hljs-variable">$lag10</span>) omitted baselevel vertical <span class="hljs-comment">///</span><br>         ciopts(<span class="hljs-keyword">recast</span>(rspike)) yline(0, lc(gs8) lp(solid)) <span class="hljs-comment">///</span><br>         xline(10.5, lc(gs8) lp(dash)) xtitle(<span class="hljs-string">&quot;相对处理时期&quot;</span>) ytitle(<span class="hljs-string">&quot;估计系数&quot;</span>) <span class="hljs-comment">///</span><br>         legend(<span class="hljs-keyword">order</span>(2 <span class="hljs-string">&quot;真实系数&quot;</span> 4 <span class="hljs-string">&quot;事件研究法（TWFE）&quot;</span> 6 <span class="hljs-string">&quot;去事前趋势（Goodman-Bacon, 2021）&quot;</span> 8 <span class="hljs-string">&quot;两阶段DiD （Gardner, 2022）&quot;</span> 10 <span class="hljs-string">&quot;广义合成控制法 （Liu等, 2022）&quot;</span>) <span class="hljs-variable">$tllgd</span> col(1)) <span class="hljs-comment">///</span><br>         xsize(8)  scale(1.3) <br><span class="hljs-keyword">gr</span> export <span class="hljs-string">&quot;figure/ES_GTest3.png&quot;</span>, width(3000) <span class="hljs-keyword">replace</span><br><span class="hljs-keyword">gr</span> export <span class="hljs-string">&quot;figure/ES_GTest3.svg&quot;</span>, <span class="hljs-keyword">replace</span><br><span class="hljs-keyword">gr</span> <span class="hljs-keyword">save</span> figure/ES_GTest3.gph, <span class="hljs-keyword">replace</span><br><br><br><span class="hljs-comment">/*** 错误控制组间趋势的影响</span><br><span class="hljs-comment">use simu_data_DGP01, clear //导入不存在组间趋势差异的数据</span><br><span class="hljs-comment">est clear</span><br><span class="hljs-comment">reghdfe y relb_* o.rel_base relf_*, a(id time) cluster(id)</span><br><span class="hljs-comment">eststo TWFE</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">reghdfe y relb_14 relb_13 relb_12 relb_11 relb_10 relb_9 relb_8 relb_7 relb_6 o.relb_5 relb_4 relb_3 relb_2 o.rel_base relf_0 relf_1 relf_2 relf_3 relf_4 relf_5 relf_6 relf_7 relf_8 relf_9 relf_10 relf_11 relf_12 relf_13 relf_14 relf_15, a(id time i.treat##c.time) cluster(id)</span><br><span class="hljs-comment">eststo TWFE_wtrend1</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">reghdfe y relb_14 relb_13 relb_12 relb_11 relb_10 relb_9 relb_8 relb_7 relb_6 relb_5 relb_4 relb_3 relb_2 o.rel_base relf_0 relf_1 relf_2 relf_3 relf_4 o.relf_5 relf_6 relf_7 relf_8 relf_9 relf_10 relf_11 relf_12 relf_13 relf_14 relf_15, a(id time i.treat##c.time) cluster(id)</span><br><span class="hljs-comment">eststo TWFE_wtrend2</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">matrix btrue = J(1,30,.)</span><br><span class="hljs-comment">matrix colnames btrue = $leadall $lagall</span><br><span class="hljs-comment">qui forvalues l = 1/14 &#123;</span><br><span class="hljs-comment">    matrix btrue[1,`l&#x27;]=0</span><br><span class="hljs-comment">&#125;</span><br><span class="hljs-comment">qui forvalues h = 0/15 &#123;</span><br><span class="hljs-comment">    sum tauit if rel_date==`h&#x27;&amp;D==1</span><br><span class="hljs-comment">    matrix btrue[1,`h&#x27;+15]=r(mean)</span><br><span class="hljs-comment">&#125;</span><br><span class="hljs-comment">matrix list btrue</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">coefplot (matrix(btrue[1]), msym(Oh)) TWFE_wtrend1 TWFE_wtrend2, keep($leadall $lagall) order($leadall $lagall) omitted baselevel vertical ///</span><br><span class="hljs-comment">    ciopts(recast(rcap)) yline(0, lc(gs8) lp(solid)) ///</span><br><span class="hljs-comment">    xline(14.5, lc(gs8) lp(dash)) xtitle(&quot;相对处理时期&quot;) ytitle(&quot;估计系数&quot;) ///</span><br><span class="hljs-comment">    legend(order(2 &quot;真实系数&quot; 4 &quot;基期=（-5, -1）&quot; 6 &quot;基期=（-1, 5）&quot;) $blgd col(3)) xsize(8) scale(1.2)</span><br></code></pre></td></tr></table></figure><h4 id="存在异质性处理效应的情况">3.4 存在异质性处理效应的情况</h4><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br></pre></td><td class="code"><pre><code class="hljs stata"><span class="hljs-keyword">clear</span> all<br><br><span class="hljs-comment">* 设定glolab</span><br><span class="hljs-keyword">gl</span> leadall <span class="hljs-string">&quot;relb_14 relb_13 relb_12 relb_11 relb_10 relb_9 relb_8 relb_7 relb_6 relb_5 relb_4 relb_3 relb_2 rel_base&quot;</span> <span class="hljs-comment">// 事前全部系数</span><br><span class="hljs-keyword">gl</span> lagall <span class="hljs-string">&quot;relf_0 relf_1 relf_2 relf_3 relf_4 relf_5 relf_6 relf_7 relf_8 relf_9 relf_10 relf_11 relf_12 relf_13 relf_14 relf_15&quot;</span> <span class="hljs-comment">// 事后全部系数</span><br><span class="hljs-keyword">gl</span> lead10 <span class="hljs-string">&quot;relb_10 relb_9 relb_8 relb_7 relb_6 relb_5 relb_4 relb_3 relb_2 rel_base&quot;</span> <span class="hljs-comment">// 事前10期系数</span><br><span class="hljs-keyword">gl</span> lag10 <span class="hljs-string">&quot;relf_0 relf_1 relf_2 relf_3 relf_4 relf_5 relf_6 relf_7 relf_8 relf_9 relf_10&quot;</span> <span class="hljs-comment">// 事后10期系数</span><br><br><span class="hljs-comment">***********************</span><br><span class="hljs-comment">**   1.观察原始数据    **</span><br><span class="hljs-comment">***********************</span><br><span class="hljs-keyword">use</span> simu_data_DGP03, <span class="hljs-keyword">clear</span><br><br><span class="hljs-keyword">preserve</span> <br><span class="hljs-keyword">collapse</span> (<span class="hljs-keyword">mean</span>) y, <span class="hljs-keyword">by</span>(treat time)<br><span class="hljs-keyword">tw</span>  (<span class="hljs-keyword">sc</span> y time <span class="hljs-keyword">if</span> treat==2, c(<span class="hljs-keyword">l</span>) <span class="hljs-built_in">m</span>(O)) <span class="hljs-comment">///</span><br>    (<span class="hljs-keyword">sc</span> y time <span class="hljs-keyword">if</span> treat==3, c(<span class="hljs-keyword">l</span>) <span class="hljs-built_in">m</span>(S)) <span class="hljs-comment">///</span><br>    (<span class="hljs-keyword">sc</span> y time <span class="hljs-keyword">if</span> treat==4, c(<span class="hljs-keyword">l</span>) <span class="hljs-built_in">m</span>(T)) <span class="hljs-comment">///</span><br>    (<span class="hljs-keyword">sc</span> y time <span class="hljs-keyword">if</span> treat==1, c(<span class="hljs-keyword">l</span>) <span class="hljs-built_in">m</span>(<span class="hljs-keyword">D</span>)), ylabel(0(10)30) <span class="hljs-comment">///</span><br>    legend(<span class="hljs-keyword">order</span>(1 <span class="hljs-string">&quot;组群1 (T*=  5, ATT&#123;sub:t&#125;=0.5t)&quot;</span> 2 <span class="hljs-string">&quot;组群2 (T*=10, ATT&#123;sub:t&#125;=1t)&quot;</span> 3 <span class="hljs-string">&quot;组群3 (T*=15, ATT&#123;sub:t&#125;=2t)&quot;</span> 4 <span class="hljs-string">&quot;控制组&quot;</span> ) <span class="hljs-variable">$blgd</span> col(2)) xtitle(<span class="hljs-string">&quot;时期&quot;</span>) ytitle(<span class="hljs-string">&quot;结果变量Y&quot;</span>) name(HTdata1)<br><span class="hljs-keyword">restore</span><br><br><span class="hljs-keyword">preserve</span> <br><span class="hljs-keyword">collapse</span> (<span class="hljs-keyword">mean</span>) tauit, <span class="hljs-keyword">by</span>(treat rel_date)<br><span class="hljs-keyword">tw</span>  (<span class="hljs-keyword">sc</span> tauit rel_date <span class="hljs-keyword">if</span> treat==2, c(<span class="hljs-keyword">l</span>) <span class="hljs-built_in">m</span>(s)) <span class="hljs-comment">///</span><br>    (<span class="hljs-keyword">sc</span> tauit rel_date <span class="hljs-keyword">if</span> treat==3, c(<span class="hljs-keyword">l</span>) <span class="hljs-built_in">m</span>(t)) <span class="hljs-comment">///</span><br>    (<span class="hljs-keyword">sc</span> tauit rel_date <span class="hljs-keyword">if</span> treat==4, c(<span class="hljs-keyword">l</span>) <span class="hljs-built_in">m</span>(<span class="hljs-keyword">d</span>)), xlabel(-15(5)15) <span class="hljs-comment">///</span><br>    xtitle(<span class="hljs-string">&quot;相对处理时期&quot;</span>) ytitle(<span class="hljs-string">&quot;平均处理效应 (ATT)&quot;</span>) <span class="hljs-comment">///</span><br>    legend(<span class="hljs-keyword">order</span>(1 <span class="hljs-string">&quot;组群1 (T*=  5, ATT&#123;sub:t&#125;=0.5t)&quot;</span> 2 <span class="hljs-string">&quot;组群2 (T*=10, ATT&#123;sub:t&#125;=1t)&quot;</span> 3 <span class="hljs-string">&quot;组群3 (T*=15, ATT&#123;sub:t&#125;=2t)&quot;</span>) <span class="hljs-variable">$blgd</span> col(2)) name(HTdata2)<br><span class="hljs-keyword">restore</span><br><br><span class="hljs-keyword">gr</span> combine HTdata1 HTdata2, xsize(10) scale(1.5)<br><br><br><span class="hljs-comment">**********************</span><br><span class="hljs-comment">**       图10       **</span><br><span class="hljs-comment">**********************</span><br><span class="hljs-comment">* Sun &amp; Abraham(2021)权重分解</span><br><span class="hljs-comment">*   - 手动进行S&amp;A的权重分解</span><br><span class="hljs-comment">*   - 全部权重结果输出在weightfiles.xlsx文件中</span><br><span class="hljs-comment">*   - 基期为-1期</span><br><span class="hljs-keyword">use</span> simu_data_DGP03, <span class="hljs-keyword">clear</span><br><span class="hljs-keyword">local</span> b_idc <span class="hljs-string">&quot;relb_14 relb_13 relb_12 relb_11 relb_10 relb_9 relb_8 relb_7 relb_6 relb_5 relb_4 relb_3 relb_2 relf_0 relf_1 relf_2 relf_3 relf_4 relf_5 relf_6 relf_7 relf_8 relf_9 relf_10 relf_11 relf_12 relf_13 relf_14 relf_15&quot;</span><br><span class="hljs-comment">* prepare partial out</span><br>hdfe <span class="hljs-symbol">`b_idc&#x27;</span>, absorb(id time) <span class="hljs-keyword">generate</span>(res_)<br><span class="hljs-keyword">levelsof</span> timing, <span class="hljs-keyword">local</span>(cohort_list) <span class="hljs-comment">// missing cohort includes the never treated units</span><br><span class="hljs-keyword">levelsof</span> rel_date, <span class="hljs-keyword">local</span>(rel_time_list) <br><span class="hljs-comment">* Loop over cohort and relative times</span><br><span class="hljs-keyword">tempname</span> bb bb_w<br><span class="hljs-keyword">foreach</span> yy of <span class="hljs-keyword">local</span> cohort_list &#123;<br>    <span class="hljs-keyword">foreach</span> rr of <span class="hljs-keyword">local</span> rel_time_list &#123; <br>    <span class="hljs-keyword">tempvar</span> catt<br>        <span class="hljs-keyword">qui</span> <span class="hljs-keyword">count</span> <span class="hljs-keyword">if</span> timing == <span class="hljs-symbol">`yy&#x27;</span> &amp; rel_date == <span class="hljs-symbol">`rr&#x27;</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">r</span>(<span class="hljs-keyword">N</span>) &gt;0 &#123;<br>            <span class="hljs-keyword">qui</span> <span class="hljs-keyword">gen</span> <span class="hljs-symbol">`catt&#x27;</span>  = (timing == <span class="hljs-symbol">`yy&#x27;</span>) * (rel_date == <span class="hljs-symbol">`rr&#x27;</span>)<br>            <span class="hljs-keyword">qui</span> <span class="hljs-keyword">regress</span> <span class="hljs-symbol">`catt&#x27;</span> res_*, nocons<br>            <span class="hljs-keyword">mat</span> <span class="hljs-symbol">`bb_w&#x27;</span> = <span class="hljs-built_in">e</span>(b)<br>            <span class="hljs-keyword">mat</span> <span class="hljs-symbol">`bb_w&#x27;</span> = <span class="hljs-symbol">`yy&#x27;</span>, <span class="hljs-symbol">`rr&#x27;</span>, <span class="hljs-symbol">`bb_w&#x27;</span><br>            <span class="hljs-keyword">matrix</span> <span class="hljs-symbol">`bb&#x27;</span>  = <span class="hljs-built_in">nullmat</span>(<span class="hljs-symbol">`bb&#x27;</span>) \ <span class="hljs-symbol">`bb_w&#x27;</span><br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-keyword">matrix</span> colnames <span class="hljs-symbol">`bb&#x27;</span> = <span class="hljs-string">&quot;timing&quot;</span> <span class="hljs-string">&quot;rel_date&quot;</span> <span class="hljs-symbol">`b_idc&#x27;</span><br><span class="hljs-keyword">matrix</span> ES_weights = <span class="hljs-symbol">`bb&#x27;</span><br><span class="hljs-keyword">mat</span> <span class="hljs-keyword">list</span> ES_weights<br>putexcel <span class="hljs-keyword">set</span> <span class="hljs-string">&quot;weightfiles&quot;</span>, <span class="hljs-keyword">replace</span> <br>putexcel A1=<span class="hljs-built_in">matrix</span>(ES_weights), colnames<br><br><span class="hljs-comment">*- 导入weightfiles.xlsx文件并画图</span><br>import excel <span class="hljs-string">&quot;weightfiles.xlsx&quot;</span>, <span class="hljs-keyword">clear</span> firstrow<br><span class="hljs-keyword">local</span> period <span class="hljs-string">&quot;relf_3&quot;</span><br><span class="hljs-keyword">keep</span> timing rel_date <span class="hljs-symbol">`period&#x27;</span><br><span class="hljs-keyword">reshape</span> wide <span class="hljs-symbol">`period&#x27;</span>, <span class="hljs-built_in">i</span>(rel_date) <span class="hljs-built_in">j</span>(timing) <br><br><span class="hljs-keyword">gr</span> bar <span class="hljs-symbol">`period&#x27;</span>5 <span class="hljs-symbol">`period&#x27;</span>10 <span class="hljs-symbol">`period&#x27;</span>15, over(rel_date) <span class="hljs-comment">///</span><br>    bar(1, color(gs0)) bar(2, color(gs6))  bar(3, color(gs12))  <span class="hljs-comment">///</span><br>    yline(0, lw(medium)) <span class="hljs-comment">///</span><br>    ytit(<span class="hljs-string">&quot;权重&quot;</span>) b1tit(<span class="hljs-string">&quot;相对处理时期&quot;</span>) <span class="hljs-comment">///</span><br>    legend(<span class="hljs-keyword">order</span>(1 <span class="hljs-string">&quot;组群1（T*=5）&quot;</span> 2 <span class="hljs-string">&quot;组群2（T*=10）&quot;</span> 3 <span class="hljs-string">&quot;组群3（T*=15）&quot;</span>) col(1) <span class="hljs-variable">$tllgd</span>)  ysize(3) scale(1.3)<br><br><span class="hljs-keyword">gr</span> export <span class="hljs-string">&quot;figure/ES_SAweights.png&quot;</span>, width(3000) <span class="hljs-keyword">replace</span><br><span class="hljs-keyword">gr</span> export <span class="hljs-string">&quot;figure/ES_SAweights.svg&quot;</span>, <span class="hljs-keyword">replace</span><br><span class="hljs-keyword">gr</span> <span class="hljs-keyword">save</span> figure/ES_SAweights.gph, <span class="hljs-keyword">replace</span><br><br><span class="hljs-comment">/*- 检查权重分解结果</span><br><span class="hljs-comment">1.使用S&amp;A提供的stata包进行权重分解和交叉检验</span><br><span class="hljs-comment">    use simu_data_DGP03.dta,clear</span><br><span class="hljs-comment">    local b_idc &quot;relf_3&quot; // 设定目标时期</span><br><span class="hljs-comment">    eventstudyweights relb_14 relb_13 relb_12 relb_11 relb_10 relb_9 relb_8 relb_7 relb_6 relb_5 relb_4 relb_3 relb_2 relf*, absorb(i.id i.time) cohort(timing) rel_time(rel_date) saveweights(&quot;weights&quot;) </span><br><span class="hljs-comment">    import excel &quot;weights.xlsx&quot;, clear firstrow</span><br><span class="hljs-comment">    keep `b_idc&#x27; timing rel_date</span><br><span class="hljs-comment">    reshape wide `b_idc&#x27;, i(rel_date) j(timing)</span><br><span class="hljs-comment">    egen w_sum = rowtotal(`b_idc&#x27;*)</span><br><span class="hljs-comment">    egen w_sumt = total(w_sum)</span><br><span class="hljs-comment">    egen w_g = total(w_sum) if rel_date==-2</span><br><span class="hljs-comment">    egen w_incl = total(w_sum) if inrange(rel_date,-14,-3) | rel_date&gt;=0</span><br><span class="hljs-comment">    egen w_excl = total(w_sum) if rel_date==-1</span><br><span class="hljs-comment">    egen w_pretrend = total(w_sum) if rel_date&gt;=0</span><br><span class="hljs-comment">    sum w_pretrend</span><br><span class="hljs-comment">    scalar w_c = r(mean)</span><br><span class="hljs-comment">    local w_c = round(w_c,0.001)</span><br><span class="hljs-comment">    </span><br><span class="hljs-comment">    gr bar `b_idc&#x27;5 `b_idc&#x27;10 `b_idc&#x27;15, over(rel_date) ///</span><br><span class="hljs-comment">        bar(1, color(gs0)) bar(2, color(gs6))  bar(3, color(gs12))  ///</span><br><span class="hljs-comment">        yline(0, lc(plr1) lw(medium)) ylab(, format(%5.1f)) ///</span><br><span class="hljs-comment">        ytit(&quot;权重&quot;) b1tit(&quot;相对处理时期&quot;) ///</span><br><span class="hljs-comment">        legend(order(1 &quot;组群1（T*=5）&quot; 2 &quot;组群2（T*=10）&quot; 3 &quot;组群3（T*=15）&quot;) col(1) $tllgd)  ysize(3) scale(1.3)</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">2.手动检查第4期权重</span><br><span class="hljs-comment">    use simu_data_DGP03, clear</span><br><span class="hljs-comment">    gen c1_relf_4 = (timing==5)*(rel_date==4)</span><br><span class="hljs-comment">    gen c2_relf_4 = (timing==10)*(rel_date==4)</span><br><span class="hljs-comment">    gen c3_relf_4 = (timing==15)*(rel_date==4)</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">    cap drop *_b</span><br><span class="hljs-comment">    reghdfe c1_relf_4 relb_* relf_*,a(id time) nocons</span><br><span class="hljs-comment">    gen c1_relf_4_b = _b[relf_3]</span><br><span class="hljs-comment">    reghdfe c2_relf_4 relb_* relf_*,a(id time) nocons</span><br><span class="hljs-comment">    gen c2_relf_4_b = _b[relf_3]</span><br><span class="hljs-comment">    reghdfe c3_relf_4 relb_* relf_*,a(id time) nocons</span><br><span class="hljs-comment">    gen c3_relf_4_b = _b[relf_3]</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">    gr bar (mean) c1_relf_4_b c2_relf_4_b c3_relf_4_b, bargap(100) blabel(bar, format(%6.4f)) ///</span><br><span class="hljs-comment">        legend(order(1 &quot;组群1&quot; 2 &quot;组群2&quot; 3 &quot;组群3&quot;)) ylabel(-0.1(0.05)0.1) ///</span><br><span class="hljs-comment">        title(&quot;各组群第4期ATT对&#123;&amp;beta&#125;&#123;sub:3&#125;的权重&quot;)</span><br><span class="hljs-comment">*/</span><br><br><br><span class="hljs-comment">**********************</span><br><span class="hljs-comment">**       图11       **</span><br><span class="hljs-comment">**********************</span><br><span class="hljs-comment">* 异质性处理效应稳健估计量</span><br><span class="hljs-comment">*   - 组群-时间ATT估计量</span><br><span class="hljs-comment">*       - De Chaisemartin &amp; D’Haultfoeuille (2020)</span><br><span class="hljs-comment">*       - Sun &amp; Abraham (2021)</span><br><span class="hljs-comment">*       - Callaway &amp; Sant&#x27;Anna (2021)</span><br><span class="hljs-comment">*       - Dube et al.(2023)</span><br><span class="hljs-comment">*   - 插补法Imputation</span><br><span class="hljs-comment">*       - Borusyak et al.(2023)</span><br><span class="hljs-comment">*       - Gardner(2022)</span><br><span class="hljs-comment">*       - Liu et al.(2022)</span><br><span class="hljs-comment">*   - 堆叠法 Stacked DID</span><br><span class="hljs-comment">*       -Cengiz et al.(2019)</span><br><span class="hljs-keyword">use</span> simu_data_DGP03, <span class="hljs-keyword">clear</span><br><br><span class="hljs-comment">* true ATT_l</span><br><span class="hljs-keyword">matrix</span> btrue = <span class="hljs-built_in">J</span>(1,21,.)<br><span class="hljs-keyword">matrix</span> colnames btrue = relb10 relb9 relb8 relb7 relb6 relb5 relb4 relb3 relb2 relb1 relf0 relf1 relf2 relf3 relf4 relf5 relf6 relf7 relf8 relf9 relf10<br><span class="hljs-keyword">qui</span> <span class="hljs-keyword">forvalues</span> <span class="hljs-keyword">l</span> = 1/10 &#123;<br>    <span class="hljs-keyword">matrix</span> btrue[1,<span class="hljs-symbol">`l&#x27;</span>]=0<br>&#125;<br><span class="hljs-keyword">qui</span> <span class="hljs-keyword">forvalues</span> <span class="hljs-keyword">h</span> = 0/10 &#123;<br>    <span class="hljs-keyword">sum</span> tauit <span class="hljs-keyword">if</span> rel_date==<span class="hljs-symbol">`h&#x27;</span>&amp;<span class="hljs-keyword">D</span>==1<br>    <span class="hljs-keyword">matrix</span> btrue[1,<span class="hljs-symbol">`h&#x27;</span>+11]=<span class="hljs-built_in">r</span>(<span class="hljs-keyword">mean</span>)<br>&#125;<br><span class="hljs-keyword">matrix</span> <span class="hljs-keyword">list</span> btrue<br><br><span class="hljs-comment">* TWFE event study</span><br><span class="hljs-keyword">est</span> <span class="hljs-keyword">clear</span><br>reghdfe y relb_14 relb_13 relb_12 relb_11 relb_10 relb_9 relb_8 relb_7 relb_6 relb_5 relb_4 relb_3 relb_2 o.rel_base relf_*, a(id time) <span class="hljs-keyword">cluster</span>(id)<br>eststo TWFE<br><br><span class="hljs-comment">* Sun &amp; Abraham (2021)</span><br><span class="hljs-keyword">gen</span> never = treat==1<br>eventstudyinteract y relb_14 relb_13 relb_12 relb_11 relb_10 relb_9 relb_8 relb_7 relb_6 relb_5 relb_4 relb_3 relb_2 relf_* rel_base, <span class="hljs-keyword">vce</span>(<span class="hljs-keyword">cluster</span> id) absorb(id time) cohort(timing) control_cohort(never) <span class="hljs-comment">//使用的是eventstudytnteract这个包</span><br><span class="hljs-keyword">matrix</span> sa_b = <span class="hljs-built_in">e</span>(b_iw) <span class="hljs-comment">// storing the estimates for later</span><br><span class="hljs-keyword">matrix</span> sa_v = <span class="hljs-built_in">e</span>(V_iw)<br><br><span class="hljs-comment">* Callaway &amp; Sant&#x27;Anna (2021)</span><br><span class="hljs-keyword">gen</span> csind = timing<br><span class="hljs-keyword">replace</span> csind = 0 <span class="hljs-keyword">if</span> <span class="hljs-built_in">mi</span>(csind)<br>csdid y, ivar(id) time(time) gvar(csind) notyet agg(event) <span class="hljs-comment">//csdid</span><br>eststo csdid<br><br><span class="hljs-comment">* Dube et al.(2023) 局部投影DID</span><br><span class="hljs-keyword">xtset</span> id time<br><span class="hljs-keyword">cap</span> <span class="hljs-keyword">drop</span> t *_lpdid*<br><span class="hljs-keyword">gen</span> t = _n-15 <span class="hljs-keyword">if</span> _n&lt;=30<br><span class="hljs-keyword">gen</span> b_lpdid_fe = .<br><span class="hljs-keyword">gen</span> se_lpdid_fe = .<br><br><span class="hljs-keyword">forval</span> j =14(-1)2 &#123;<br>    <span class="hljs-keyword">qui</span>: reghdfe y relb_<span class="hljs-symbol">`j&#x27;</span> <span class="hljs-keyword">if</span> (rel_date==-<span class="hljs-symbol">`j&#x27;</span> | rel_base==1 &amp; treat!=1) | treat==1, a(id time) <span class="hljs-keyword">cluster</span>(id)    <br>    <span class="hljs-keyword">qui</span>: <span class="hljs-keyword">replace</span> b_lpdid_fe   =  _b[relb_<span class="hljs-symbol">`j&#x27;</span>]  <span class="hljs-keyword">if</span> t==-<span class="hljs-symbol">`j&#x27;</span><br>    <span class="hljs-keyword">qui</span>: <span class="hljs-keyword">replace</span> se_lpdid_fe  = _se[relb_<span class="hljs-symbol">`j&#x27;</span>]  <span class="hljs-keyword">if</span> t==-<span class="hljs-symbol">`j&#x27;</span><br>&#125;<br><br><span class="hljs-keyword">forval</span> j =0(1)15 &#123;<br>    <span class="hljs-keyword">qui</span>: reghdfe y relf_<span class="hljs-symbol">`j&#x27;</span> <span class="hljs-keyword">if</span> (rel_date==<span class="hljs-symbol">`j&#x27;</span> | rel_base==1 &amp; treat!=1) | treat==1, a(id time) <span class="hljs-keyword">cluster</span>(id) <br>    <span class="hljs-keyword">qui</span>: <span class="hljs-keyword">replace</span> b_lpdid_fe   = _b[relf_<span class="hljs-symbol">`j&#x27;</span>]  <span class="hljs-keyword">if</span> t==<span class="hljs-symbol">`j&#x27;</span><br>    <span class="hljs-keyword">qui</span>: <span class="hljs-keyword">replace</span> se_lpdid_fe  = _se[relf_<span class="hljs-symbol">`j&#x27;</span>]  <span class="hljs-keyword">if</span> t==<span class="hljs-symbol">`j&#x27;</span><br>&#125;<br><span class="hljs-keyword">replace</span>  b_lpdid_fe  = 0 <span class="hljs-keyword">if</span> t==-1<br><span class="hljs-keyword">replace</span> se_lpdid_fe  = 0 <span class="hljs-keyword">if</span> t==-1<br><span class="hljs-keyword">tostring</span> t, <span class="hljs-keyword">replace</span><br><span class="hljs-keyword">replace</span> t = <span class="hljs-string">&quot;T&quot;</span> + t<br><span class="hljs-keyword">mkmat</span> b_lpdid_fe, <span class="hljs-keyword">mat</span>(lpdid_b) rownames(t) nomissing<br><span class="hljs-keyword">mkmat</span> se_lpdid_fe, <span class="hljs-keyword">mat</span>(lpdid_se) rownames(t) nomissing<br><br><span class="hljs-comment">* Borusyak et al.(2023) 插补法</span><br>did_imputation y id time timing, allhorizons  pretrend(10) <br>eststo bjs<br><br><span class="hljs-comment">* Gardner(2022)</span><br>did2s y, first_stage(i.id i.time) second_stage(relb* rel_base relf*) treatment(<span class="hljs-keyword">D</span>) <span class="hljs-keyword">cluster</span>(id)<br>eststo twostage<br><br><span class="hljs-comment">* Liu et al.(2022)</span><br>fect y, treat(<span class="hljs-keyword">D</span>) unit(id) time(time) method(<span class="hljs-string">&quot;fe&quot;</span>) <span class="hljs-keyword">se</span> nboots(30)<br><span class="hljs-keyword">matrix</span> fect_results = <span class="hljs-built_in">e</span>(ATTs)<br><span class="hljs-keyword">matrix</span> rownames fect_results = relb_13 relb_12 relb_11 relb_10 relb_9 relb_8 relb_7 relb_6 relb_5 relb_4 relb_3 relb_2 relb_1 relf_0 relf_1 relf_2 relf_3 relf_4 relf_5 relf_6 relf_7 relf_8 relf_9 relf_10 relf_11<br><span class="hljs-keyword">matrix</span> fect_b = fect_results[4..24,3] <span class="hljs-comment">// storing the estimates for later</span><br><span class="hljs-keyword">matrix</span> fect_v = fect_results[4..24,4]<br><br><span class="hljs-comment">* Cengiz et al.(2019) 堆叠法</span><br>stackedev y relb_14 relb_13 relb_12 relb_11 relb_10 relb_9 relb_8 relb_7 relb_6 relb_5 relb_4 relb_3 relb_2 relf_* rel_base, cohort(timing) time(time) never_treat(never) unit_fe(id) clust_unit(id)<br>eststo <span class="hljs-keyword">stack</span><br><br><span class="hljs-comment">* 建议先用event_plot随便画一个图，否则可能报错(原因未知)</span><br>event_plot <span class="hljs-keyword">stack</span>, stub_lag(relf_#) stub_lead(relb_#) plottype(<span class="hljs-keyword">scatter</span>) ciplottype(rcap) <br><br><span class="hljs-comment">* 画图</span><br><span class="hljs-comment">* eventplot只支持8个估计结果</span><br><span class="hljs-comment">* 真实系数+TWFE+6个稳健估计量</span><br>event_plot btrue# TWFE sa_b#sa_v csdid lpdid_b#lpdid_se bjs twostage <span class="hljs-keyword">stack</span>, <span class="hljs-comment">///</span><br>    stub_lag(relf# relf_# relf_# Tp# T# tau# relf_# relf_#) <span class="hljs-comment">///</span><br>    stub_lead(relb# relb_# relb_# Tm# T-# pre# relb_# relb_#) <span class="hljs-comment">///</span><br>    plottype(<span class="hljs-keyword">scatter</span>) ciplottype(rspike) <span class="hljs-comment">///</span><br>    together perturb(-0.35(0.1)0.35) trimlead(10) trimlag(10) noautolegend <span class="hljs-comment">///</span><br>    graph_opt(xtit(<span class="hljs-string">&quot;相对处理发生时间&quot;</span>) ytitle(<span class="hljs-string">&quot;估计系数&quot;</span>) xlabel(-10(1)10) ylabel(-3(3)9) <span class="hljs-comment">///</span><br>        legend(<span class="hljs-keyword">order</span>(1 <span class="hljs-string">&quot;真实系数&quot;</span> 2 <span class="hljs-string">&quot;事件研究法TWFE&quot;</span> 4 <span class="hljs-string">&quot;Sun &amp; Abraham（2021）&quot;</span>  <span class="hljs-comment">///</span><br>                     6 <span class="hljs-string">&quot;Callaway &amp; Sant&#x27;Anna（2021）&quot;</span> 8 <span class="hljs-string">&quot;Dube et al.（2023）&quot;</span> 10 <span class="hljs-string">&quot;Borusyak et al.（2022）&quot;</span> <span class="hljs-comment">///</span><br>                     12 <span class="hljs-string">&quot;Gardner（2022）&quot;</span> 14 <span class="hljs-string">&quot;Cengiz et al.（2019）&quot;</span>) col(2) <span class="hljs-variable">$tllgd</span>) <span class="hljs-comment">///</span><br>        xline(-0.5, lcolor(gs8) lp(dash)) yline(0, lcolor(gs0) lp(solid)) <span class="hljs-comment">///</span><br>        xsize(10) ysize(5) scale(1.3) <span class="hljs-comment">///</span><br>    ) <span class="hljs-comment">///</span><br>    lag_opt1(msymbol(Oh) color(plb1))         lag_ci_opt1(color(cranberry)) <span class="hljs-comment">///</span><br>    lag_opt2(msymbol(o)  color(plr1))         lag_ci_opt2(color(plr1)) <span class="hljs-comment">///</span><br>    lag_opt3(msymbol(<span class="hljs-keyword">d</span>)  color(navy))         lag_ci_opt3(color(navy)) <span class="hljs-comment">///</span><br>    lag_opt4(msymbol(t)  color(forest_green)) lag_ci_opt4(color(forest_green)) <span class="hljs-comment">///</span><br>    lag_opt5(msymbol(s)  color(dkorange))     lag_ci_opt5(color(dkorange)) <span class="hljs-comment">///</span><br>    lag_opt6(msymbol(th) color(purple))       lag_ci_opt6(color(purple)) <span class="hljs-comment">///</span><br>    lag_opt7(msymbol(dh) color(plb2))         lag_ci_opt7(color(plb2)) <span class="hljs-comment">///</span><br>    lag_opt8(msymbol(<span class="hljs-keyword">sh</span>) color(plr2))         lag_ci_opt8(color(plr2)) <br><br><span class="hljs-keyword">gr</span> export <span class="hljs-string">&quot;figure/ES_HTest1.png&quot;</span>, width(3000) <span class="hljs-keyword">replace</span><br><span class="hljs-keyword">gr</span> export <span class="hljs-string">&quot;figure/ES_HTest1.svg&quot;</span>, <span class="hljs-keyword">replace</span><br><span class="hljs-keyword">gr</span> <span class="hljs-keyword">save</span> figure/ES_HTest1.gph, <span class="hljs-keyword">replace</span><br><br><span class="hljs-comment">**********************</span><br><span class="hljs-comment">**       图12       **</span><br><span class="hljs-comment">**********************</span><br><span class="hljs-comment">*** 使用未处理样本检验平行趋势</span><br><span class="hljs-keyword">use</span> simu_data_DGP03, <span class="hljs-keyword">clear</span><br><br><span class="hljs-comment">* true ATT_l</span><br><span class="hljs-keyword">matrix</span> btrue = <span class="hljs-built_in">J</span>(1,30,.)<br><span class="hljs-keyword">matrix</span> colnames btrue = <span class="hljs-variable">$leadall</span> <span class="hljs-variable">$lagall</span><br><span class="hljs-keyword">qui</span> <span class="hljs-keyword">forvalues</span> <span class="hljs-keyword">l</span> = 1/14 &#123;<br>    <span class="hljs-keyword">matrix</span> btrue[1,<span class="hljs-symbol">`l&#x27;</span>]=0<br>&#125;<br><span class="hljs-keyword">qui</span> <span class="hljs-keyword">forvalues</span> <span class="hljs-keyword">h</span> = 0/15 &#123;<br>    <span class="hljs-keyword">sum</span> tauit <span class="hljs-keyword">if</span> rel_date==<span class="hljs-symbol">`h&#x27;</span>&amp;<span class="hljs-keyword">D</span>==1<br>    <span class="hljs-keyword">matrix</span> btrue[1,<span class="hljs-symbol">`h&#x27;</span>+15]=<span class="hljs-built_in">r</span>(<span class="hljs-keyword">mean</span>)<br>&#125;<br><span class="hljs-keyword">matrix</span> <span class="hljs-keyword">list</span> btrue<br><br><span class="hljs-comment">* TWFE</span><br>reghdfe y relb_14 relb_13 relb_12 relb_11 relb_10 relb_9 relb_8 relb_7 relb_6 relb_5 relb_4 relb_3 relb_2 o.rel_base relf_*, a(id time) <span class="hljs-keyword">cluster</span>(id)<br>eststo TWFE<br><span class="hljs-keyword">testparm</span> <span class="hljs-variable">$leadall</span><br><br><span class="hljs-comment">* TWFE，使用未处理子样本</span><br>reghdfe y relb_14 relb_13 relb_12 relb_11 relb_10 relb_9 relb_8 relb_7 relb_6 relb_5 relb_4 relb_3 relb_2 o.rel_base <span class="hljs-keyword">if</span> <span class="hljs-keyword">D</span>==0, a(id time) <span class="hljs-keyword">cluster</span>(id)<br>eststo TWFE_pre<br><span class="hljs-keyword">testparm</span> <span class="hljs-variable">$leadall</span><br><br><br>coefplot (<span class="hljs-built_in">matrix</span>(btrue[1]), <span class="hljs-keyword">recast</span>(<span class="hljs-keyword">scatter</span>) msym(Oh) ) (TWFE, <span class="hljs-built_in">m</span>(s) ) (TWFE_pre, <span class="hljs-built_in">m</span>(t)) , <span class="hljs-keyword">keep</span>(<span class="hljs-variable">$leadall</span>) omitted baselevel vertical <span class="hljs-comment">///</span><br>    <span class="hljs-keyword">recast</span>(con) ciopts(<span class="hljs-keyword">recast</span>(rcap)) yline(0, lc(gs0) lp(solid)) <span class="hljs-comment">///</span><br>    xline(14, lc(gs8) lp(dash)) ylabel(-6(2)4) xtit(<span class="hljs-string">&quot;相对处理时期&quot;</span>) ytit(<span class="hljs-string">&quot;估计系数&quot;</span>) <span class="hljs-comment">///</span><br>    legend(<span class="hljs-keyword">order</span>(2 <span class="hljs-string">&quot;真实系数&quot;</span> 4 <span class="hljs-string">&quot;全样本&quot;</span> 6 <span class="hljs-string">&quot;未处理子样本&quot;</span>) <span class="hljs-variable">$blgd</span>) <span class="hljs-comment">///</span><br>    text(-5 1 <span class="hljs-string">&quot;全样本：F=12.78  p=0.00***&quot;</span>, size(medium) placement(<span class="hljs-keyword">e</span>)) <span class="hljs-comment">///</span><br>    text(2.5 1 <span class="hljs-string">&quot;子样本：F=0.78  p=0.69&quot;</span>, size(medium) placement(<span class="hljs-keyword">e</span>)) scale(1.2)<br><br><span class="hljs-keyword">gr</span> export <span class="hljs-string">&quot;figure/ES_HTpretest.png&quot;</span>, width(3000) <span class="hljs-keyword">replace</span><br><span class="hljs-keyword">gr</span> export <span class="hljs-string">&quot;figure/ES_HTpretest.svg&quot;</span>, <span class="hljs-keyword">replace</span><br><span class="hljs-keyword">gr</span> <span class="hljs-keyword">save</span> figure/ES_HTpretest.gph, <span class="hljs-keyword">replace</span><br></code></pre></td></tr></table></figure><h3 id="同时存在异质性处理效应与组群时间趋势的情况估计不准确">3.5同时存在异质性处理效应与组群时间趋势的情况（估计不准确）</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><code class="hljs stata"><span class="hljs-keyword">clear</span> all<br><br><span class="hljs-comment">**********************</span><br><span class="hljs-comment">**       图13       **</span><br><span class="hljs-comment">**********************</span><br><span class="hljs-keyword">use</span> simu_data_DGP04, <span class="hljs-keyword">clear</span><br><br><span class="hljs-keyword">preserve</span> <br><span class="hljs-keyword">collapse</span> (<span class="hljs-keyword">mean</span>) y y0 y1, <span class="hljs-keyword">by</span>(treat time rel_date)<br><span class="hljs-keyword">tw</span>  (<span class="hljs-keyword">sc</span> y time <span class="hljs-keyword">if</span> treat==2, color(plb1) lp(solid) lw(medthick) c(<span class="hljs-keyword">l</span>) <span class="hljs-built_in">m</span>(O)) (<span class="hljs-keyword">line</span> y0 time <span class="hljs-keyword">if</span> treat==2&amp;rel_date&gt;=-1, lc(plb1) lp(dash) lw(thick)) <span class="hljs-comment">///</span><br>    (<span class="hljs-keyword">sc</span> y time <span class="hljs-keyword">if</span> treat==3, color(plr1) lp(solid) lw(medthick) c(<span class="hljs-keyword">l</span>) <span class="hljs-built_in">m</span>(T)) (<span class="hljs-keyword">line</span> y0 time <span class="hljs-keyword">if</span> treat==3&amp;rel_date&gt;=-1, lc(plr1) lp(dash) lw(thick)) <span class="hljs-comment">///</span><br>    (<span class="hljs-keyword">sc</span> y time <span class="hljs-keyword">if</span> treat==4, color(plg1) lp(solid) lw(medthick) c(<span class="hljs-keyword">l</span>) <span class="hljs-built_in">m</span>(S)) (<span class="hljs-keyword">line</span> y0 time <span class="hljs-keyword">if</span> treat==4&amp;rel_date&gt;=-1, lc(plg1) lp(dash) lw(thick)) <span class="hljs-comment">///</span><br>    (<span class="hljs-keyword">sc</span> y time <span class="hljs-keyword">if</span> treat==1, color(ply1) lp(solid) lw(medthick) c(<span class="hljs-keyword">l</span>) <span class="hljs-built_in">m</span>(<span class="hljs-keyword">D</span>)), <span class="hljs-comment">///</span><br>    ylabel(0(20)80) <span class="hljs-comment">///</span><br>    legend(<span class="hljs-keyword">order</span>(1 <span class="hljs-string">&quot;组群1（T*= 5）&quot;</span> 3 <span class="hljs-string">&quot;组群2（T*=10）&quot;</span> 5 <span class="hljs-string">&quot;组群3（T*=15）&quot;</span> 7 <span class="hljs-string">&quot;控制组&quot;</span> ) <span class="hljs-variable">$blgd</span> col(2)) xtitle(<span class="hljs-string">&quot;时期&quot;</span>) ytitle(<span class="hljs-string">&quot;结果变量Y&quot;</span>) scale(1.2)<br><span class="hljs-keyword">restore</span><br><span class="hljs-keyword">gr</span> export <span class="hljs-string">&quot;figure/ES_HTNPdata.png&quot;</span>, width(3000) <span class="hljs-keyword">replace</span><br><span class="hljs-keyword">gr</span> export <span class="hljs-string">&quot;figure/ES_HTNPdata.svg&quot;</span>, <span class="hljs-keyword">replace</span><br><span class="hljs-keyword">gr</span> <span class="hljs-keyword">save</span> figure/ES_HTNPdata.gph, <span class="hljs-keyword">replace</span><br><br><span class="hljs-keyword">preserve</span> <br><span class="hljs-keyword">collapse</span> (<span class="hljs-keyword">mean</span>) tauit, <span class="hljs-keyword">by</span>(treat rel_date)<br><span class="hljs-keyword">tw</span>  (<span class="hljs-keyword">sc</span> tauit rel_date <span class="hljs-keyword">if</span> treat==2, c(<span class="hljs-keyword">l</span>) <span class="hljs-built_in">m</span>(s)) <span class="hljs-comment">///</span><br>    (<span class="hljs-keyword">sc</span> tauit rel_date <span class="hljs-keyword">if</span> treat==3, c(<span class="hljs-keyword">l</span>) <span class="hljs-built_in">m</span>(t)) <span class="hljs-comment">///</span><br>    (<span class="hljs-keyword">sc</span> tauit rel_date <span class="hljs-keyword">if</span> treat==4, c(<span class="hljs-keyword">l</span>) <span class="hljs-built_in">m</span>(<span class="hljs-keyword">d</span>)), xlabel(-15(5)15) <span class="hljs-comment">///</span><br>    xtitle(<span class="hljs-string">&quot;相对处理时期&quot;</span>) ytitle(<span class="hljs-string">&quot;平均处理效应 (ATT)&quot;</span>) <span class="hljs-comment">///</span><br>    legend(<span class="hljs-keyword">order</span>(1 <span class="hljs-string">&quot;组群1 (T*=  5, ATT&#123;sub:t&#125;=0.5t)&quot;</span> 2 <span class="hljs-string">&quot;组群2 (T*=10, ATT&#123;sub:t&#125;=1t)&quot;</span> 3 <span class="hljs-string">&quot;组群3 (T*=15, ATT&#123;sub:t&#125;=2t)&quot;</span>) <span class="hljs-variable">$tllgd</span> col(1)) <br><span class="hljs-keyword">restore</span><br><br><span class="hljs-comment">**********************</span><br><span class="hljs-comment">**       图14       **</span><br><span class="hljs-comment">**********************</span><br><span class="hljs-keyword">use</span> simu_data_DGP04, <span class="hljs-keyword">clear</span><br><span class="hljs-keyword">est</span> <span class="hljs-keyword">clear</span><br><br><span class="hljs-comment">* true ATT</span><br><span class="hljs-keyword">matrix</span> btrue = <span class="hljs-built_in">J</span>(1,21,.)<br><span class="hljs-keyword">matrix</span> colnames btrue = relb10 relb9 relb8 relb7 relb6 relb5 relb4 relb3 relb2 relb1 relf0 relf1 relf2 relf3 relf4 relf5 relf6 relf7 relf8 relf9 relf10<br><span class="hljs-keyword">qui</span> <span class="hljs-keyword">forvalues</span> <span class="hljs-keyword">l</span> = 1/10 &#123;<br>    <span class="hljs-keyword">matrix</span> btrue[1,<span class="hljs-symbol">`l&#x27;</span>]=0<br>&#125;<br><span class="hljs-keyword">qui</span> <span class="hljs-keyword">forvalues</span> <span class="hljs-keyword">h</span> = 0/10 &#123;<br>    <span class="hljs-keyword">sum</span> tauit <span class="hljs-keyword">if</span> rel_date==<span class="hljs-symbol">`h&#x27;</span>&amp;<span class="hljs-keyword">D</span>==1<br>    <span class="hljs-keyword">matrix</span> btrue[1,<span class="hljs-symbol">`h&#x27;</span>+11]=<span class="hljs-built_in">r</span>(<span class="hljs-keyword">mean</span>)<br>&#125;<br><span class="hljs-keyword">matrix</span> <span class="hljs-keyword">list</span> btrue<br><br><span class="hljs-comment">* TWFE event study</span><br>reghdfe y relb_14 relb_13 relb_12 relb_11 relb_10 relb_9 relb_8 relb_7 relb_6 relb_5 relb_4 relb_3 relb_2 o.rel_base relf_*, a(id time) <span class="hljs-keyword">cluster</span>(id)<br>eststo TWFE<br><br><span class="hljs-comment">* Sun &amp; Abraham (2021)</span><br><span class="hljs-keyword">gen</span> never = treat==1<br>eventstudyinteract y relb_14 relb_13 relb_12 relb_11 relb_10 relb_9 relb_8 relb_7 relb_6 relb_5 relb_4 relb_3 relb_2 relf_* rel_base, <span class="hljs-keyword">vce</span>(<span class="hljs-keyword">cluster</span> id) absorb(id time) cohort(timing) control_cohort(never)<br><span class="hljs-keyword">matrix</span> sa_b = <span class="hljs-built_in">e</span>(b_iw) <span class="hljs-comment">// storing the estimates for later</span><br><span class="hljs-keyword">matrix</span> sa_v = <span class="hljs-built_in">e</span>(V_iw)<br><br><span class="hljs-comment">* Callaway &amp; Sant&#x27;Anna (2021)</span><br><span class="hljs-keyword">gen</span> csind = timing<br><span class="hljs-keyword">replace</span> csind = 0 <span class="hljs-keyword">if</span> <span class="hljs-built_in">mi</span>(csind)<br>csdid y, ivar(id) time(time) gvar(csind) notyet agg(event)<br>eststo csdid<br><br><span class="hljs-comment">* Dube et al.(2023)</span><br><span class="hljs-keyword">xtset</span> id time<br><span class="hljs-keyword">cap</span> <span class="hljs-keyword">drop</span> t *_lpdid*<br><span class="hljs-keyword">gen</span> t = _n-15 <span class="hljs-keyword">if</span> _n&lt;=30<br><span class="hljs-keyword">gen</span> b_lpdid_fe = .<br><span class="hljs-keyword">gen</span> se_lpdid_fe = .<br><br><span class="hljs-keyword">forval</span> j =14(-1)2 &#123;<br>    <span class="hljs-keyword">qui</span>: reghdfe y relb_<span class="hljs-symbol">`j&#x27;</span> <span class="hljs-keyword">if</span> (rel_date==-<span class="hljs-symbol">`j&#x27;</span> | rel_base==1 &amp; treat!=1) | treat==1, a(id time) <span class="hljs-keyword">cluster</span>(id)    <br>    <span class="hljs-keyword">replace</span> b_lpdid_fe   =  _b[relb_<span class="hljs-symbol">`j&#x27;</span>]  <span class="hljs-keyword">if</span> t==-<span class="hljs-symbol">`j&#x27;</span><br>    <span class="hljs-keyword">replace</span> se_lpdid_fe  = _se[relb_<span class="hljs-symbol">`j&#x27;</span>]  <span class="hljs-keyword">if</span> t==-<span class="hljs-symbol">`j&#x27;</span><br>&#125;<br><br><span class="hljs-keyword">forval</span> j =0(1)15 &#123;<br>    <span class="hljs-keyword">qui</span>: reghdfe y relf_<span class="hljs-symbol">`j&#x27;</span> <span class="hljs-keyword">if</span> (rel_date==<span class="hljs-symbol">`j&#x27;</span> | rel_base==1 &amp; treat!=1) | treat==1, a(id time) <span class="hljs-keyword">cluster</span>(id) <br>    <span class="hljs-keyword">replace</span> b_lpdid_fe   = _b[relf_<span class="hljs-symbol">`j&#x27;</span>]  <span class="hljs-keyword">if</span> t==<span class="hljs-symbol">`j&#x27;</span><br>    <span class="hljs-keyword">replace</span> se_lpdid_fe  = _se[relf_<span class="hljs-symbol">`j&#x27;</span>]  <span class="hljs-keyword">if</span> t==<span class="hljs-symbol">`j&#x27;</span><br>&#125;<br><span class="hljs-keyword">replace</span>  b_lpdid_fe  = 0 <span class="hljs-keyword">if</span> t==-1<br><span class="hljs-keyword">replace</span> se_lpdid_fe  = 0 <span class="hljs-keyword">if</span> t==-1<br><span class="hljs-keyword">tostring</span> t, <span class="hljs-keyword">replace</span><br><span class="hljs-keyword">replace</span> t = <span class="hljs-string">&quot;T&quot;</span> + t<br><span class="hljs-keyword">mkmat</span> b_lpdid_fe, <span class="hljs-keyword">mat</span>(lpdid_b) rownames(t) nomissing<br><span class="hljs-keyword">mkmat</span> se_lpdid_fe, <span class="hljs-keyword">mat</span>(lpdid_se) rownames(t) nomissing<br><br><span class="hljs-comment">* Borusyak et al.(2023)</span><br>did_imputation y id time timing, allhorizons  pretrend(10) <br>eststo bjs<br><br><span class="hljs-comment">* Gardner(2022)</span><br>did2s y, first_stage(i.id i.time) second_stage(relb* rel_base relf*) treatment(<span class="hljs-keyword">D</span>) <span class="hljs-keyword">cluster</span>(id)<br>eststo twostage<br><br><span class="hljs-comment">* Liu et al.(2022)</span><br>fect y, treat(<span class="hljs-keyword">D</span>) unit(id) time(time) method(<span class="hljs-string">&quot;fe&quot;</span>) <span class="hljs-keyword">se</span> nboots(30)<br><span class="hljs-keyword">matrix</span> fect_results = <span class="hljs-built_in">e</span>(ATTs)<br><span class="hljs-keyword">matrix</span> rownames fect_results = relb_13 relb_12 relb_11 relb_10 relb_9 relb_8 relb_7 relb_6 relb_5 relb_4 relb_3 relb_2 relb_1 relf_0 relf_1 relf_2 relf_3 relf_4 relf_5 relf_6 relf_7 relf_8 relf_9 relf_10 relf_11<br><span class="hljs-keyword">matrix</span> fect_b = fect_results[4..24,3] <span class="hljs-comment">// storing the estimates for later</span><br><span class="hljs-keyword">matrix</span> fect_v = fect_results[4..24,4]<br><br><span class="hljs-comment">* Cengiz et al.(2019)</span><br>stackedev y relb_14 relb_13 relb_12 relb_11 relb_10 relb_9 relb_8 relb_7 relb_6 relb_5 relb_4 relb_3 relb_2 relf_* rel_base, cohort(timing) time(time) never_treat(never) unit_fe(id) clust_unit(id)<br>eststo <span class="hljs-keyword">stack</span><br><br>event_plot <span class="hljs-keyword">stack</span>, stub_lag(relf_#) stub_lead(relb_#) plottype(<span class="hljs-keyword">scatter</span>) ciplottype(rcap) <br><br>event_plot btrue# TWFE sa_b#sa_v csdid lpdid_b#lpdid_se bjs twostage <span class="hljs-keyword">stack</span>, <span class="hljs-comment">///</span><br>    stub_lag(relf# relf_# relf_# Tp# T# tau# relf_# relf_#) <span class="hljs-comment">///</span><br>    stub_lead(relb# relb_# relb_# Tm# T-# pre# relb_# relb_#) <span class="hljs-comment">///</span><br>    plottype(<span class="hljs-keyword">scatter</span>) ciplottype(rspike) <span class="hljs-comment">///</span><br>    together perturb(-0.35(0.1)0.35) trimlead(10) trimlag(10) noautolegend <span class="hljs-comment">///</span><br>    graph_opt(xtit(<span class="hljs-string">&quot;相对处理时期&quot;</span>) ytitle(<span class="hljs-string">&quot;估计系数&quot;</span>) xlabel(-10(1)10) ylabel(-5(5)15) <span class="hljs-comment">///</span><br>        legend(<span class="hljs-keyword">order</span>(1 <span class="hljs-string">&quot;真实系数&quot;</span> 2 <span class="hljs-string">&quot;事件研究法TWFE&quot;</span> 4 <span class="hljs-string">&quot;Sun &amp; Abraham（2021）&quot;</span>  6 <span class="hljs-string">&quot;Callaway &amp; Sant&#x27;Anna（2021）&quot;</span> 8 <span class="hljs-string">&quot;Dube et al.（2023）&quot;</span> 10 <span class="hljs-string">&quot;Borusyak et al.（2022）&quot;</span> <span class="hljs-comment">///</span><br>         12 <span class="hljs-string">&quot;Gardner（2022）&quot;</span> 14 <span class="hljs-string">&quot;Cengiz et al.（2019）&quot;</span>) col(2) <span class="hljs-variable">$tllgd</span> ) <span class="hljs-comment">///</span><br>        xline(-0.5, lcolor(gs8) lp(dash)) yline(0, lcolor(gs0) lp(solid)) <span class="hljs-comment">///</span><br>        xsize(10) ysize(5) scale(1.3) <span class="hljs-comment">///</span><br>    ) <span class="hljs-comment">///</span><br>    lag_opt1(msymbol(Oh) color(plb1)) lag_ci_opt1(color(cranberry)) <span class="hljs-comment">///</span><br>    lag_opt2(msymbol(o) color(plr1)) lag_ci_opt2(color(plr1)) <span class="hljs-comment">///</span><br>    lag_opt3(msymbol(<span class="hljs-keyword">d</span>) color(navy)) lag_ci_opt3(color(navy)) <span class="hljs-comment">///</span><br>    lag_opt4(msymbol(t) color(forest_green)) lag_ci_opt4(color(forest_green)) <span class="hljs-comment">///</span><br>    lag_opt5(msymbol(s) color(dkorange)) lag_ci_opt5(color(dkorange)) <span class="hljs-comment">///</span><br>    lag_opt6(msymbol(th) color(purple)) lag_ci_opt6(color(purple)) <span class="hljs-comment">///</span><br>    lag_opt7(msymbol(dh)  color(plb2)) lag_ci_opt7(color(plb2)) <span class="hljs-comment">///</span><br>    lag_opt8(msymbol(<span class="hljs-keyword">sh</span>)  color(plr2)) lag_ci_opt8(color(plr2)) <br><span class="hljs-keyword">gr</span> export <span class="hljs-string">&quot;figure/ES_HTNPest.png&quot;</span>, width(3000) <span class="hljs-keyword">replace</span><br><span class="hljs-keyword">gr</span> export <span class="hljs-string">&quot;figure/ES_HTNPest.svg&quot;</span>, <span class="hljs-keyword">replace</span><br><span class="hljs-keyword">gr</span> <span class="hljs-keyword">save</span> figure/ES_HTNPest.gph, <span class="hljs-keyword">replace</span><br></code></pre></td></tr></table></figure><h3 id="原文图1和图4">3.6 原文图1和图4</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><code class="hljs stata"><span class="hljs-comment">* 设定主路径</span><br><span class="hljs-keyword">cd</span> <span class="hljs-string">&quot;$root&quot;</span><br><br><span class="hljs-keyword">clear</span> all<br><br><span class="hljs-comment">**********************</span><br><span class="hljs-comment">**       图1        **</span><br><span class="hljs-comment">**********************</span><br><span class="hljs-keyword">use</span> Currie_2020, <span class="hljs-keyword">clear</span><br><span class="hljs-keyword">tw</span> (<span class="hljs-keyword">line</span> DD year, lw(thick)) (<span class="hljs-keyword">line</span> ES year, lw(thick)), <span class="hljs-comment">///</span><br>    xlab(2005(5)2020) ylab(0(0.05)0.25, <span class="hljs-keyword">format</span>(%6.2f)) <span class="hljs-comment">///</span><br>    legend(<span class="hljs-keyword">order</span>(1 <span class="hljs-string">&quot;双重差分法&quot;</span> 2 <span class="hljs-string">&quot;事件研究法&quot;</span>)) <span class="hljs-comment">///</span><br>    xtitle(<span class="hljs-string">&quot;&quot;</span>) ytitle(<span class="hljs-string">&quot;占比&quot;</span>) subtitle(<span class="hljs-string">&quot;（a）英文经济学五大刊&quot;</span>, pos(6)) scale(1.2) name(top5)<br><br><span class="hljs-keyword">use</span> cntop, <span class="hljs-keyword">clear</span><br><span class="hljs-keyword">keep</span> <span class="hljs-keyword">if</span> year&gt;=2004<br><span class="hljs-keyword">gen</span> DD_share = dd/<span class="hljs-keyword">total</span><br><span class="hljs-keyword">gen</span> ES_share = es/<span class="hljs-keyword">total</span><br><span class="hljs-keyword">gen</span> ESPT_share = espt/<span class="hljs-keyword">total</span><br><span class="hljs-keyword">two</span> (<span class="hljs-keyword">line</span> DD_share year, lw(thick)) <span class="hljs-comment">///</span><br>    (<span class="hljs-keyword">line</span> ES_share year, lw(thick)) <span class="hljs-comment">///</span><br>    (<span class="hljs-keyword">line</span> ESPT_share year, lw(thick) lp(shortdash)), <span class="hljs-comment">///</span><br>    xlab(2005(5)2020) ylab(0(0.05)0.25, <span class="hljs-keyword">format</span>(%6.2f)) <span class="hljs-comment">///</span><br>    legend(<span class="hljs-keyword">order</span>(1 <span class="hljs-string">&quot;双重差分法&quot;</span> 2 <span class="hljs-string">&quot;事件研究法&quot;</span> 3 <span class="hljs-string">&quot;事件研究法+平行趋势&quot;</span>) size(medsmall)) <span class="hljs-comment">///</span><br>    xtitle(<span class="hljs-string">&quot;&quot;</span>) ytitle(<span class="hljs-string">&quot;占比&quot;</span>) subtitle(<span class="hljs-string">&quot;（b）中文权威期刊&quot;</span>, pos(6)) scale(1.2) name(cntop)<br><br>grc1leg2 top5 cntop, ytol legendfrom(cntop) xsize(8) scale(1.5)<br><span class="hljs-keyword">gr</span> export <span class="hljs-string">&quot;figure/topshare.png&quot;</span>, width(3000) <span class="hljs-keyword">replace</span><br><span class="hljs-keyword">gr</span> export <span class="hljs-string">&quot;figure/topshare.svg&quot;</span>,  <span class="hljs-keyword">replace</span><br><br><br><span class="hljs-comment">**********************</span><br><span class="hljs-comment">**       图4        **</span><br><span class="hljs-comment">**********************</span><br><br><span class="hljs-keyword">set</span> seed 20230101<br><span class="hljs-keyword">clear</span> all    <br><span class="hljs-keyword">set</span> obs 400<br><span class="hljs-keyword">gen</span> id = _n<br><span class="hljs-keyword">expand</span> 20<br><span class="hljs-keyword">bysort</span> id: <span class="hljs-keyword">gen</span> time = _n  <br><br><span class="hljs-comment">* 生成个体固定效应</span><br><span class="hljs-keyword">gen</span>  unit_c     = runiform(0,10) <span class="hljs-keyword">if</span> time==1<br><span class="hljs-keyword">egen</span> unit_fe  = <span class="hljs-keyword">mean</span>(unit_c), <span class="hljs-keyword">by</span>(id)<br><br><span class="hljs-keyword">gen</span>     indicator_c = unit_c <br><span class="hljs-keyword">qui</span> <span class="hljs-keyword">sum</span> indicator_c,<span class="hljs-keyword">d</span><br><span class="hljs-keyword">scalar</span>  threshold1   = <span class="hljs-built_in">r</span>(p25)<br><span class="hljs-keyword">scalar</span>  threshold2   = <span class="hljs-built_in">r</span>(p50)<br><span class="hljs-keyword">scalar</span>  threshold3   = <span class="hljs-built_in">r</span>(p75)<br><span class="hljs-keyword">egen</span>    indicator   = <span class="hljs-keyword">mean</span>(indicator_c), <span class="hljs-keyword">by</span>(id)<br><span class="hljs-keyword">gen</span>     treat = 1<br><span class="hljs-keyword">replace</span> treat = 2 <span class="hljs-keyword">if</span> indicator&gt;threshold1<br><span class="hljs-keyword">replace</span> treat = 3 <span class="hljs-keyword">if</span> indicator&gt;threshold2<br><span class="hljs-keyword">replace</span> treat = 4 <span class="hljs-keyword">if</span> indicator&gt;threshold3<br><span class="hljs-keyword">tab</span> treat, <span class="hljs-keyword">gen</span>(group)<br><br><span class="hljs-keyword">gen</span> timing = .<br><span class="hljs-keyword">replace</span> timing = 5 <span class="hljs-keyword">if</span> treat==2<br><span class="hljs-keyword">replace</span> timing = 10 <span class="hljs-keyword">if</span> treat==3<br><span class="hljs-keyword">replace</span> timing = 15 <span class="hljs-keyword">if</span> treat==4<br><br><span class="hljs-comment">* 定义潜在结果y0和y1</span><br><span class="hljs-keyword">gen</span> rel_date = time-timing<br><span class="hljs-keyword">replace</span> rel_date = 0 <span class="hljs-keyword">if</span> <span class="hljs-built_in">mi</span>(rel_date)<br><span class="hljs-keyword">gen</span> <span class="hljs-keyword">post</span> = rel_date&gt;=0<br><span class="hljs-keyword">gen</span> group_level = 15*group2 + 10*group3 +5*group4<br><span class="hljs-keyword">gen</span> group_trend = 0<br><span class="hljs-keyword">egen</span> X_cf = <span class="hljs-keyword">mean</span>(unit_c), <span class="hljs-keyword">by</span>(treat)<br><br><span class="hljs-keyword">gen</span> y0 = group_level + group_trend   + runiform(0,10)<br><span class="hljs-keyword">gen</span> y11 = group_level + group_trend   + (5*group2 + 5*group3 + 5*group4)*<span class="hljs-keyword">post</span> + runiform(0,10) <span class="hljs-comment">// static effect</span><br><span class="hljs-keyword">gen</span> y12 = group_level + group_trend   + (1*group2 + 1*group3 + 1*group4)*<span class="hljs-keyword">post</span>*(rel_date+1) + runiform(0,10) <span class="hljs-comment">// dynamic effect</span><br><span class="hljs-keyword">gen</span> y13 = group_level + group_trend   + (0.5*group2 + 1*group3 + 2*group4)*<span class="hljs-keyword">post</span>*(rel_date+1) + runiform(0,10) <span class="hljs-comment">// dynamic effect</span><br><br><span class="hljs-comment">* 生成观测样本y </span><br><span class="hljs-keyword">cap</span> <span class="hljs-keyword">drop</span> y<br><span class="hljs-keyword">gen</span> <span class="hljs-keyword">D</span> = 0<br><span class="hljs-keyword">replace</span> <span class="hljs-keyword">D</span> = 1 <span class="hljs-keyword">if</span> rel_date&gt;=0&amp;<span class="hljs-built_in">inlist</span>(treat,2,3,4)<br><span class="hljs-keyword">gen</span> y1 = (1-<span class="hljs-keyword">D</span>)*y0 + <span class="hljs-keyword">D</span>*y11<br><span class="hljs-keyword">gen</span> y2 = (1-<span class="hljs-keyword">D</span>)*y0 + <span class="hljs-keyword">D</span>*y12<br><span class="hljs-keyword">gen</span> y3 = (1-<span class="hljs-keyword">D</span>)*y0 + <span class="hljs-keyword">D</span>*y13<br><br><span class="hljs-keyword">preserve</span> <br><span class="hljs-keyword">collapse</span> (<span class="hljs-keyword">mean</span>)  y1 y2 y3 y0, <span class="hljs-keyword">by</span>(treat time)<br><span class="hljs-keyword">tw</span>  (<span class="hljs-keyword">line</span> y1 time <span class="hljs-keyword">if</span> treat==2, lw(thick)) <span class="hljs-comment">///</span><br>    (<span class="hljs-keyword">line</span> y1 time <span class="hljs-keyword">if</span> treat==3, lw(thick)) <span class="hljs-comment">///</span><br>    (<span class="hljs-keyword">line</span> y1 time <span class="hljs-keyword">if</span> treat==4, lw(thick)) <span class="hljs-comment">///</span><br>    (<span class="hljs-keyword">line</span> y1 time <span class="hljs-keyword">if</span> treat==1, lw(thick)), ylabel(0(10)30) <span class="hljs-comment">///</span><br>    legend(<span class="hljs-keyword">order</span>(1 <span class="hljs-string">&quot;组群1（ATT&#123;sub:t&#125;=5）&quot;</span> 2 <span class="hljs-string">&quot;组群2（ATT&#123;sub:t&#125;=5）&quot;</span> 3 <span class="hljs-string">&quot;组群3（ATT&#123;sub:t&#125;=5）&quot;</span> 4 <span class="hljs-string">&quot;控制组&quot;</span>) <span class="hljs-variable">$blgd</span> col(2)) xtitle(<span class="hljs-string">&quot;&quot;</span>) ytitle(<span class="hljs-string">&quot;结果变量Y&quot;</span>)  <span class="hljs-comment">///</span><br>    tit(<span class="hljs-string">&quot;（a）同质性处理效应&quot;</span>, pos(6)) name(TEA1)<br><span class="hljs-keyword">restore</span><br><br><span class="hljs-keyword">preserve</span> <br><span class="hljs-keyword">collapse</span> (<span class="hljs-keyword">mean</span>)  y1 y2 y3 y0, <span class="hljs-keyword">by</span>(treat time)<br><span class="hljs-keyword">tw</span>  (<span class="hljs-keyword">line</span> y2 time <span class="hljs-keyword">if</span> treat==2, lw(thick)) <span class="hljs-comment">///</span><br>    (<span class="hljs-keyword">line</span> y2 time <span class="hljs-keyword">if</span> treat==3, lw(thick)) <span class="hljs-comment">///</span><br>    (<span class="hljs-keyword">line</span> y2 time <span class="hljs-keyword">if</span> treat==4, lw(thick)) <span class="hljs-comment">///</span><br>    (<span class="hljs-keyword">line</span> y2 time <span class="hljs-keyword">if</span> treat==1, lw(thick)), ylabel(0(10)30) <span class="hljs-comment">///</span><br>    legend(<span class="hljs-keyword">order</span>(1 <span class="hljs-string">&quot;组群1（ATT&#123;sub:t&#125;=1t）&quot;</span> 2 <span class="hljs-string">&quot;组群2（ATT&#123;sub:t&#125;=1t）&quot;</span> 3 <span class="hljs-string">&quot;组群3（ATT&#123;sub:t&#125;=1t）&quot;</span> 4 <span class="hljs-string">&quot;控制组&quot;</span>) <span class="hljs-variable">$blgd</span> col(2)) xtitle(<span class="hljs-string">&quot;&quot;</span>) ytitle(<span class="hljs-string">&quot;结果变量Y&quot;</span>)   <span class="hljs-comment">///</span><br>    tit(<span class="hljs-string">&quot;（b）同质性处理效应路径&quot;</span>, pos(6)) name(TEA2)<br><span class="hljs-keyword">restore</span><br><br><span class="hljs-keyword">preserve</span> <br><span class="hljs-keyword">collapse</span> (<span class="hljs-keyword">mean</span>)  y1 y2 y3 y0, <span class="hljs-keyword">by</span>(treat time)<br><span class="hljs-keyword">tw</span>  (<span class="hljs-keyword">line</span> y3 time <span class="hljs-keyword">if</span> treat==2, lw(thick)) <span class="hljs-comment">///</span><br>    (<span class="hljs-keyword">line</span> y3 time <span class="hljs-keyword">if</span> treat==3, lw(thick)) <span class="hljs-comment">///</span><br>    (<span class="hljs-keyword">line</span> y3 time <span class="hljs-keyword">if</span> treat==4, lw(thick)) <span class="hljs-comment">///</span><br>    (<span class="hljs-keyword">line</span> y3 time <span class="hljs-keyword">if</span> treat==1, lw(thick)), ylabel(0(10)30) <span class="hljs-comment">///</span><br>    legend(<span class="hljs-keyword">order</span>(1 <span class="hljs-string">&quot;组群1（ATT&#123;sub:t&#125;=0.5t）&quot;</span> 2 <span class="hljs-string">&quot;组群2（ATT&#123;sub:t&#125;=1t）&quot;</span> 3 <span class="hljs-string">&quot;组群3（ATT&#123;sub:t&#125;=2t）&quot;</span> 4 <span class="hljs-string">&quot;控制组&quot;</span>) <span class="hljs-variable">$blgd</span> col(2)) xtitle(<span class="hljs-string">&quot;&quot;</span>) ytitle(<span class="hljs-string">&quot;结果变量Y&quot;</span>) <span class="hljs-comment">///</span><br>    tit(<span class="hljs-string">&quot;（c）异质性处理效应&quot;</span>, pos(6)) name(TEA3)<br><span class="hljs-keyword">restore</span><br><br><span class="hljs-keyword">gr</span> combine TEA1 TEA2 TEA3, ysize(4) xsize(12) row(1) scale(1.5)<br><span class="hljs-keyword">gr</span> export <span class="hljs-string">&quot;figure/ES_TEA.png&quot;</span>, width(3000) <span class="hljs-keyword">replace</span><br><span class="hljs-keyword">gr</span> export <span class="hljs-string">&quot;figure/ES_TEA.svg&quot;</span>, <span class="hljs-keyword">replace</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>DID</tag>
      
      <tag>因果推断</tag>
      
      <tag>事件研究</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>如何在hexo博客中嵌入PDF</title>
    <link href="/2023/11/07/%E5%A6%82%E4%BD%95%E5%9C%A8hexo%E5%8D%9A%E5%AE%A2%E4%B8%AD%E5%B5%8C%E5%85%A5PDF/"/>
    <url>/2023/11/07/%E5%A6%82%E4%BD%95%E5%9C%A8hexo%E5%8D%9A%E5%AE%A2%E4%B8%AD%E5%B5%8C%E5%85%A5PDF/</url>
    
    <content type="html"><![CDATA[<p>之前pre过的一些内容只有ppt，没有写博文，想传到小站，整理成文字很麻烦也没有必要，但是直接传ppt似乎不太好，放个下载链接有点突兀，而hexo对ppt的支持并不友好。于是，换个思路，将ppt转成pdf，并试图嵌入页面。</p><p>说干就干，查了一些将pdf嵌入博客页面的方法，有<code>hexo-pdf</code>这个插件，但是已经很久没有维护了，不太敢用。有uu提到可以用<code>pdf.js</code>，简单方便，而且在桌面端和移动端都有不错的效果，那么开始实验！</p><p>首先，备份本地的blog文件夹，好怕一通操作把我的博客又干碎了哈哈。</p><p>接下来，进入正式流程：</p><ul><li><p>第一步，下载<ahref="https://mozilla.github.io/pdf.js/getting_started/#download">pdf.js</a>，将文件夹解压放到指定的位置。我的博客应用的是<ahref="https://github.com/fluid-dev/hexo-theme-fluid">Fluid</a>主题，与其他hexo博客主题不同，fluid主题文件夹是有实际操作意义的，于是我在主题文件夹里新建了<code>myjs</code>文件夹，将解压后的文件夹放入其中，并命名为<code>pdfjs</code>，其他主题的博客似乎放在博客根目录的<code>source</code>即可；</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/image-20231107192623637.png"alt="image-20231107192623637" /><figcaption aria-hidden="true">image-20231107192623637</figcaption></figure></li><li><p>第二步，修改<code>pdfjs/web/viewer.mjs</code>，将里面的特定内容注销，可以使用关键词搜索找到这里⬇️；</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/image-20231107193023321.png"alt="image-20231107193023321" /><figcaption aria-hidden="true">image-20231107193023321</figcaption></figure></li><li><p>第三步，修改博客配置文件<code>_config.yml</code>（注意不是主题配置文件），将<code>pdfjs</code>文件夹加入到跳过渲染的选项里；</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">skip_render:</span> [<span class="hljs-string">myjs/**</span>]<br></code></pre></td></tr></table></figure></li><li><p>第四步，在博客根目录的<code>source</code>文件夹里，新建一个pdf文件夹，用于存储需要嵌入的pdf文件。需要注意的是，存入的pdf文件名不能含有非法字符，比如<code>&amp;</code>；</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/image-20231107193558689.png"alt="image-20231107193558689" /><figcaption aria-hidden="true">image-20231107193558689</figcaption></figure></li><li><p>第五步，在博文的markdown文件中，嵌入代码和pdf路径，如：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;iframe src=<span class="hljs-string">&quot;/myjs/pdfjs/web/viewer.html?file=/pdf/Factors determining household-level food insecurity during COVID-19 epidemic a case of Wuhan, China.pdf&quot;</span> style=<span class="hljs-string">&#x27;width:100%;height:800px&#x27;</span>&gt;&lt;/iframe&gt;<br></code></pre></td></tr></table></figure><p>注意此处填写的是相对路径⬆️，嵌入文档的高度和宽度可以调整，对于论文pdf或者ppt转pdf而言，将高度设置为<code>800px</code>似乎是个不错的选择。另外，由于markdown编辑器（比如typora）并不是完整的浏览器，所以在查看<code>.md</code>文档时，本地并不会成功显示pdf控件，而是会看到类似下面的内容：</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/image-20231107194724061.png"alt="image-20231107194724061" /><figcaption aria-hidden="true">image-20231107194724061</figcaption></figure><p>不过不用慌，部署完在网页端打开，浏览器是可以正常渲染的！</p></li></ul><hr /><p>如果一切顺利的话，我们就可以看到嵌入了pdf文件的博文啦，效果如下：</p><iframe src="/myjs/pdfjs/web/viewer.html?file=/pdf/Factors determining household-level food insecurity during COVID-19 epidemic a case of Wuhan, China.pdf" style="width:100%;height:800px"></iframe><hr /><p>在桌面端，嵌入的pdf可以下载、打印和全屏播放，还可以旋转查看，非常厉害！不过移动端我试了几个浏览器，包括微信浏览器、Chrome、edge和Safari，都没有播放pdf的选项，可能是我没有正确配置，不过问题不大。另外在移动端，可能是考虑到pdf文件太大，第一次打开嵌入了pdf的博文时，pdf文件不会加载，需要手动刷新一次。</p><p>至此，就已经实现了在hexo博客中嵌入pdf啦！注意GitHub单个仓库的大小限制是1G，单个文件大小限制是100M，嵌入的pdf应该尽量小一些，以免一不小心把仓库干爆收到GitHub的警告。此外，如果是ppt转pdf，原ppt中有动画播放的部分会静态显示，此时在原ppt中尽量不要有上下层遮挡。</p>]]></content>
    
    
    
    <tags>
      
      <tag>PDF</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Handbook of DID family</title>
    <link href="/2023/10/25/Handbook%20of%20DID%20family_20231026/"/>
    <url>/2023/10/25/Handbook%20of%20DID%20family_20231026/</url>
    
    <content type="html"><![CDATA[<p>本篇博客文章是我学习DID（difference indifferences）的记录，侧重<strong>实践性</strong>（主要是太多底层计量原理我也搞不懂）。我期望将它做成一个实用的小册子，方便与感兴趣的小伙伴交流和用时复查。作为近些年最流行的因果推断实证设计，DID的重要性已无需多言。在本文中，我将对DID的基本原理、适用情景和限制进行概述，并介绍DID的多种变体，包括交错DID、DDD、广义DID等，这其中最重要的是<mark><strong>交错DID</strong></mark>。同时，对于找到的各类实用软件包，也一并介绍。如发现文中的错误之处或有其他补充，请直接告诉我（联系方式见本博客“<ahref="https://yuzhangnju.github.io/about/">关于</a>”页）。</p><p>本文重点参考、摘录了“<ahref="https://www.lianxh.cn/">连享会</a>”网站的内容，感谢lianxh的工作！</p><h2 id="标准did">1 标准DID</h2><h3 id="did的基本思想---canonical-did">1.1 DID的基本思想 - CanonicalDID</h3><blockquote><ul><li>框架：潜在结果因果框架</li><li>结构：2 X 2，【处理组&amp;对照组】 X【处理前&amp;处理后】，即“两组*两期”，这一结构也意味着冲击是一次推开的</li><li>基本假设：<ul><li>平行趋势假设（认为事前平行使反事实也平行）；</li><li>政策影响无溢出效应或交互效应（SUVTA）；</li><li>无预期效应</li><li>处理效应同质</li></ul></li><li>必做检验：<ul><li>平行趋势检验</li><li>安慰剂检验</li></ul></li></ul></blockquote><p>举个例子：</p><blockquote><p>两个相距较远的城市M和N长期以来经济发展水平有相同的趋势，两地经济交流较少。从某一年起，M市成为一项减税政策的试点城市，而N市不受影响，此后，M城市的经济增速发生了变化，而N市不变。此时，政策实施后两城市的经济水平之差减去政策实施前的经济水平差，即为政策效应（差分再差分，即双重差分）。</p></blockquote><p>⬇️如下图所示</p><ul><li>处理效应（政策效应）TE =（C-E）-（A-B）= CD</li><li>AD是AC的反事实，由于DE无法直接观察到，此时以AB代替</li></ul><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/image-20231025135914225.png"alt="image-20231025135914225" /><figcaption aria-hidden="true">image-20231025135914225</figcaption></figure><p>图1 双重差分法的示意</p><h3 id="canonical-did的标准构造">1.2 Canonical DID的标准构造</h3><p>从DID的基本原理可知，DID的实验设计需包含事件冲击和时间先后，其基本构造如下：<span class="math display">\[y_{it} = \beta_0 + \beta_1 Treat_i + \beta_2 Post_t + \beta_3 Treat_iPost_t + \epsilon_{it} \quad(1)\]</span> 如式（1）所示，<spanclass="math inline">\(yit\)</span>为结果变量，<spanclass="math inline">\(Treat_i\)</span>是事件冲击虚拟变量，<spanclass="math inline">\(Post_t\)</span>是时间虚拟变量，<spanclass="math inline">\(\beta_3\)</span>是我们关注的变量，为处理效应。该式的图解如图2所示</p><figure><img src="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/CF-1.png"alt="Counterfactual, betas" /><figcaption aria-hidden="true">Counterfactual, betas</figcaption></figure><p>图2 DID系数的含义</p><p>表1 2X2 DID的系数释义</p><table style="width:100%;"><thead><tr class="header"><th></th><th>Treatment = 0</th><th>Treatment = 1</th><th><strong><em>Difference</em></strong></th></tr></thead><tbody><tr class="odd"><td><strong>Post = 0</strong></td><td><span class="math display">\[ \beta_0 \]</span></td><td><span class="math display">\[ \beta_0 + \beta_1 \]</span></td><td><span class="math display">\[ \beta_1 \]</span></td></tr><tr class="even"><td><strong>Post = 1</strong></td><td><span class="math display">\[\beta_0 + \beta_2\]</span></td><td><span class="math display">\[ \beta_0 + \beta_1 + \beta_2 + \beta_3\]</span></td><td><span class="math display">\[ \beta_1 + \beta_3 \]</span></td></tr><tr class="odd"><td><strong><em>Difference</em></strong></td><td><span class="math display">\[ \beta_2 \]</span></td><td><span class="math display">\[ \beta_2 + \beta_3 \]</span></td><td><span class="math display">\[ \beta_3 \]</span></td></tr></tbody></table><h3 id="did的数据结构">1.3 DID的数据结构</h3><h4 id="政策效果不随时间变化">1.3.1 政策效果不随时间变化</h4><p>对于第一个个体，y在第五期接受干预，出现上升，此后趋势不变。</p><p>其实不论政策效果随不随时间变化，计算的处理效应都是平均处理效应ATE。</p><table><thead><tr class="header"><th>id</th><th>year</th><th>y</th><th>d</th><th>t</th><th>dt</th></tr></thead><tbody><tr class="odd"><td>1</td><td>1</td><td>3</td><td>1</td><td>0</td><td>0</td></tr><tr class="even"><td>1</td><td>2</td><td>4</td><td>1</td><td>0</td><td>0</td></tr><tr class="odd"><td>1</td><td>3</td><td>5</td><td>1</td><td>0</td><td>0</td></tr><tr class="even"><td>1</td><td>4</td><td>6</td><td>1</td><td>0</td><td>0</td></tr><tr class="odd"><td>1</td><td>5</td><td>10</td><td>1</td><td>1</td><td>1</td></tr><tr class="even"><td>1</td><td>6</td><td>11</td><td>1</td><td>1</td><td>1</td></tr><tr class="odd"><td>1</td><td>7</td><td>12</td><td>1</td><td>1</td><td>1</td></tr><tr class="even"><td>1</td><td>8</td><td>13</td><td>1</td><td>1</td><td>1</td></tr><tr class="odd"><td>2</td><td>1</td><td>1</td><td>0</td><td>0</td><td>0</td></tr><tr class="even"><td>2</td><td>2</td><td>2</td><td>0</td><td>0</td><td>0</td></tr><tr class="odd"><td>2</td><td>3</td><td>3</td><td>0</td><td>0</td><td>0</td></tr><tr class="even"><td>2</td><td>4</td><td>4</td><td>0</td><td>0</td><td>0</td></tr><tr class="odd"><td>2</td><td>5</td><td>5</td><td>0</td><td>1</td><td>0</td></tr><tr class="even"><td>2</td><td>6</td><td>6</td><td>0</td><td>1</td><td>0</td></tr><tr class="odd"><td>2</td><td>7</td><td>7</td><td>0</td><td>1</td><td>0</td></tr><tr class="even"><td>2</td><td>8</td><td>8</td><td>0</td><td>1</td><td>0</td></tr></tbody></table><h4 id="政策效果随时间变化">1.3.2 政策效果随时间变化</h4><p>对于第一个个体，y在第五期接受干预，出现上升，此后趋势逐渐增强。</p><table><thead><tr class="header"><th>id</th><th>year</th><th>y</th><th>d</th><th>t</th><th>dt</th></tr></thead><tbody><tr class="odd"><td>1</td><td>1</td><td>3</td><td>1</td><td>0</td><td>0</td></tr><tr class="even"><td>1</td><td>2</td><td>4</td><td>1</td><td>0</td><td>0</td></tr><tr class="odd"><td>1</td><td>3</td><td>5</td><td>1</td><td>0</td><td>0</td></tr><tr class="even"><td>1</td><td>4</td><td>6</td><td>1</td><td>0</td><td>0</td></tr><tr class="odd"><td>1</td><td>5</td><td>8</td><td>1</td><td>1</td><td>1</td></tr><tr class="even"><td>1</td><td>6</td><td>11</td><td>1</td><td>1</td><td>1</td></tr><tr class="odd"><td>1</td><td>7</td><td>15</td><td>1</td><td>1</td><td>1</td></tr><tr class="even"><td>1</td><td>8</td><td>20</td><td>1</td><td>1</td><td>1</td></tr><tr class="odd"><td>2</td><td>1</td><td>1</td><td>0</td><td>0</td><td>0</td></tr><tr class="even"><td>2</td><td>2</td><td>2</td><td>0</td><td>0</td><td>0</td></tr><tr class="odd"><td>2</td><td>3</td><td>3</td><td>0</td><td>0</td><td>0</td></tr><tr class="even"><td>2</td><td>4</td><td>4</td><td>0</td><td>0</td><td>0</td></tr><tr class="odd"><td>2</td><td>5</td><td>5</td><td>0</td><td>1</td><td>0</td></tr><tr class="even"><td>2</td><td>6</td><td>6</td><td>0</td><td>1</td><td>0</td></tr><tr class="odd"><td>2</td><td>7</td><td>7</td><td>0</td><td>1</td><td>0</td></tr><tr class="even"><td>2</td><td>8</td><td>8</td><td>0</td><td>1</td><td>0</td></tr></tbody></table><h3 id="计算处理效应">1.4 计算处理效应</h3><p>在Stata中有多种命令可以计算处理效应，早期的有<code>diff</code>，<code>reg</code>、<code>areg</code>、<code>xtreg</code>也可以，实证中使用较多的是<code>reghdfe</code>，该命令的优点是处理速度快、输出结果简洁，在各大top刊中常见。</p><p>从Stata17开始，官方提供了DID命令，分别是<code>didregress</code>和<code>xtdidregress</code>，其中后者适用于面板数据。官方命令的优点是方便回归后绘制时间趋势图。</p><p>命令的使用及介绍见文末代码。</p><h3 id="平行趋势检验">1.5 平行趋势检验</h3><p>事前平行趋势对于基于准实验设计的因果推断方法至关重要，因为事前的平行趋势是使得观测不到的反事实平行于对照组的最重要条件。</p><p>平行趋势检验一般有画<strong>时间趋势图</strong>和<strong>事件研究法</strong>（Eventstudy）两种。</p><h4 id="时间趋势图">1.5.1 时间趋势图</h4><p>画时间趋势图是一个比较粗糙的方法，大致看看处理组和控制组在冲击前后的趋势变化，如果是一个好的实验设计，事件冲击前处理组和控制组的均值应该有平行趋势，冲击后处理组的趋势发生变化。</p><p>绘制时间趋势图的命令可以基于xtdidreg实现，也可以手动计算。</p><h4 id="事件研究法">1.5.2 事件研究法</h4><p>DID是双重差分，事件研究是单次差分，在DID中运用事件研究有两个好处：</p><ul><li>一是可以利用回归方法对双重差分法中最重要的平行趋势假设进行检验，与画时间趋势图相比，好处在于可以控制协变量的影响，方程形式也更加灵活；</li><li>二是可以更加清楚地得到政策效果在时间维度上的变化。因此，这部分检验在论文中也往往被称为政策的动态效果(DynamicEffects) 或者灵活的 DID （Flexible DID Estimates）。</li></ul><p><strong>注意</strong>：此处涉及到基准期的选择，一般选择drop掉第一期或者政策前一期。</p><h3 id="安慰剂检验">1.6 安慰剂检验</h3><p>关于「安慰剂效应」，维基百科的解释如下：</p><blockquote><p>安慰剂效应 (placeboeffect)，又名伪药效应、假药效应、代设剂效应，是指病人虽然获得无效的治疗，但却让其“预料” 或 “相信” 治疗有效，而让病患症状得到舒缓的现象。</p></blockquote><p>随着「因果推断方法」在实证研究中的使用比例不断提升，越来越多的文章也会进行安慰剂检验。其检验基本原理与医学中的安慰剂类似，即使用「假的政策发生时间或实验组」进行分析，以检验能否得到政策效应。如果依然得到了政策效应，则表明基准回归中的政策效应并不可靠。进一步，经济结果可能是由其他不可观测因素导致的，而非关注的政策所产生。</p><p>在实证研究中，无论是稳健性检验，还是安慰剂检验，亦或是异质性分析，其背后真实的目的只有两方面：</p><ul><li>第一，使得文章故事性更强，逻辑更加严密；</li><li>第二，为因果推断服务，让读者相信研究对象之间的因果效应。</li></ul><p>当然，不同的因果推断方法有着不同的安慰剂检验方法，这也进一步说明安慰剂检验是为因果推断服务的。而无论是哪一种因果推断方法，其对应的安慰剂检验思想均可理解为「构造伪政策」。但是，在应用安慰剂检验时，需要注意的是，不能为了安慰剂检验而进行安慰剂检验，其背后一定要有理论的逻辑。</p><p>例如，在使用 DID 方法后，通过随机构造实验组，并模拟 10000次，然后将系数或 <spanclass="math inline">\(t\)</span>值在一张图中绘制出来，以告诉读者前文的识别是可靠的。</p><p>基于 2x2DID的基本要素（处理组、对照组、事前、事后），一个直观的思路是让这些要素发生随机偏离，来实现安慰剂检验。由此，常见的安慰剂检验方法有：</p><ul><li><strong>改变政策发生时间</strong></li></ul><blockquote><p>采用政策发生之前的数据。将政策实施前的除第一年之外的所有年份“人为地”设定成为处理组的政策实施年份，然后根据DID模型逐年回归。当所有回归中的交互项系数都不显著时,说明通过了安慰剂检验,表明之前识别的政策平均效应是可靠的，否则就是不可靠的。如果政策实施前有n年数据，那么就要做n-1次上述回归。（其实就是将政策发生事件随机改为政策发生之前的年份）</p></blockquote><ul><li><strong>随机生成实验组</strong></li></ul><blockquote><p>通过随机抽取实验组，重复多次，提取安慰剂结果系数或 <spanclass="math inline">\(t\)</span>值，然后将其绘制在图中，并观察真实的政策效应与安慰剂结果。当真实的政策效应与安慰剂检验结果显著不同时，可排除其他随机因素对结果的干扰。</p></blockquote><ul><li><strong>替换样本</strong></li></ul><blockquote><p>替换样本进行安慰剂检验与随机生成实验组的方法较为相似。不同之处在于，随机生成实验组的安慰剂检验方法最终结果以图形展示，而替换样本安慰剂检验结果多以表格形式展示。在实际操作过程中，替换样本安慰剂检验不需要重复模拟，这在技术上显得容易一点，但在理论逻辑上更加严谨。比如，某政策颁布后，受政策影响的是污染行业，在因果识别后，可对非污染行业进行分析，探究是否存在政策效应(亦或对政策范围外的污染行业进行分析)。如果对于非污染行业依然存在所谓的政策效应，那么前文的分析并不可靠。</p></blockquote><ul><li><strong>替换变量</strong></li></ul><blockquote><p>替换变量进行安慰剂检验主要分为替换被解释变量和替换解释变量。与稳健性检验有所不同的是，稳健性检验希望在替换变量后结果依然稳健，而安慰剂检验希望替换变量后结果不再显著。首先，替换被解释变量。某项政策实施后，对特定经济活动会产生影响，但并不是对所有的经济活动都会产生影响。因此，将被解释变量替换为预期不会受到政策影响的变量进行安慰剂检验，以排除其他可能的干扰因素。</p></blockquote><p>关于平行趋势检验和安慰剂检验的更多资料，参见：</p><ul><li><p><ahref="https://mp.weixin.qq.com/s/wqkUfU0PMkFQhjbazGHYqA">双重差分法（DID）平行趋势及安慰剂检验方法案例合集</a></p></li><li><p><ahref="https://www.lianxh.cn/details/498.html">安慰剂检验！安慰剂检验！</a></p></li><li><p><ahref="https://mp.weixin.qq.com/s/Ipsr5lau0Mps1YlYqtXOKA">DID中平行趋势检验及drop掉的基期选择问题</a></p></li><li><p><ahref="https://www.lianxh.cn/details/760.html">Stata：平行趋势不满足？主成分DID来帮你！-pcdid</a></p></li></ul><h3 id="固定效应注意事项">1.7 固定效应注意事项</h3><p>基本控制的是个体固定效应和时间固定效应，有时会控制更高维度的交互项。</p><p>转自群聊：</p><blockquote><p>关于不同维度固定效应意义的总结：</p><p>A.针对面板数据，我们通常采用固定效应来减轻不可观测因素对结果的影响。其中一维固定效应是常见的方法，包括但不限于：</p><p>个体固定效应：通过排除个体层面不受时间变化影响的不可观测因素（例如，个人性别、公司CEO特征），以减少其可能对结果造成的影响。</p><p>日期固定效应：用以缓解那些不随个体变化但会随着时间变化而发生变化的不可观测因素对估计结果的影响，比如节假日因素等。</p><p>B.随后，我们逐步将固定效应的维度提升至二维。例如：</p><p>个体-日期固定效应：用以控制个体层面随时间变化的不可观测因素对结果的影响，也就是这些不可观测因素同时随着个体和日期而变化。</p><p>行业-日期固定效应：用以控制行业层面随时间变化的不可观测因素对结果变量的影响，比如行业层面逐年变化的行业竞争程度。</p><p>省份-日期固定效应：用以控制省份层面随时间变化的不可观测因素对结果的影响，比如省份层面逐年变化的经济波动（不同省份不同年份肯定不同）。</p><p>例如，以省份-日期固定效应为例，通过控制这组固定效应，我们能够从同一年同一个省内不同地级市之间获取关键解释变量系数δ的变异。这样识别出来的δ相比不控制这一组固定效应时更为准确，可以参考Wang(2013)在研究我国开发区经济效果的文章。</p><p>*当然，省份-年份固定效应就是用省份和年份一起来分组的，无论企业变动与否，都能完全分组，那么省份-年份可以以表出省份，也可以表出年份，所以控制了省份-年份就不用再控制省份和年份。这意味着，一旦控制了省份-年份固定效应，就不再需要额外控制省份固定效应、年份固定效应。如果将省份-年份虚拟变量纳入模型后，再加入年份虚拟变量，会导致冗余，从而被自动剔除。同样，如果将省份虚拟变量加入模型，也会面临相同的情况。</p><p>下面三维固定效应也是同样的道理。</p><p>C.当前，我们正逐渐升级固定效应的维度，从二维逐步拓展至三维甚至更多维度。在模型中引入了高维度的固定效应：</p><p>城市-年份-周固定效应：用以控制城市层面随时间变化的不可观测因素，从而减轻那些随城市变化同时也会随时间变化（包括年、月和周）的不可观测因素对结果的影响。值得特别注意的是，相较于城市-年份-月份固定效应，城市-年份-周固定效应控制了更高阶的城市时变不可观测因素，因此通常是我们首选的固定效应。</p><p>城市-行业-年份固定效应：用以控制那些随着城市和行业变动，同时也会随着时间进行变化的不可观测因素对结果的影响。</p><p>这些高维度固定效应的引入使得我们能够更全面地理解并控制潜在的影响因素，从而提高模型的准确性和可靠性。</p></blockquote><p><ahref="https://mp.weixin.qq.com/s/ZeAJMJNTIpDSWsLysaJg7g">关于控制交互固定效应的总结:代码及示例托盘而出</a></p><h2 id="did家族">2 DID家族</h2><p>CanonicalDID有很多假设，现实情况中，这些假设常常无法得到满足，如事前不平行、政策不是一次性推开等。在CanonicalDID的基本假设被放松的情况下，采取各种策略实现合理估计，便诞生了各种DID变体。</p><p>参见：</p><ul><li><ahref="https://mp.weixin.qq.com/s/IQzm0eHBnXgZhTO9wdI49g">知否知否？——双重差分法（DID）“大家族”的成员们</a></li><li>黄炜,张子尧,刘安然.从双重差分法到事件研究法[J].产业经济评论,2022(02):17-36.</li></ul><h3 id="三重差分-ddd">2.1 三重差分 DDD</h3><ul><li><p>基本原理：给标准DID再找一组对照组，不要求一个DID满足组内平行趋势，但要求两组DID的组内差异满足组间平行趋势；</p></li><li><p>参见：<ahref="https://mp.weixin.qq.com/s/efm1qnT-HvRmn1AqgZjGzw">计量TOP刊最全三重差分DDD估计指导！！！</a>or <a href="https://www.lianxh.cn/details/276.html">Stata：三重差分 DDD模型简介</a></p></li><li><p>为什么要用DDD：</p><ul><li><p>政策冲击在标准DID的组内可能存在溢出效应</p></li><li><p>跨组找对照样本，但对照样本不满足平行趋势</p></li><li><p>举个例子：假设研究对象是美国的两个州，处理州(T)引入了一项医疗保健改革，而控制州(C)没有。此外，这两个州的人口可以细分为两组，A组和B组。我们打算研究的医疗保健措施只被引入B组，即B组是可以从该措施中受益的群体。最后，时间跨度上假设为两期，即保健措施实施前和实施后。</p><p>直接比较处理状态下的A组和B组似乎很方便。但如果医疗改革在处理州内存在溢出效应（B组溢出到A组），那所得结果就无法取信。另一个可能的选择是比较处理州的B组和控制州的B组。但，如果不同的州有不同的经济状况，那么无论医疗措施如何，处理州B组与控制州B组的趋势总是不同的，这种做法也就不成立。</p><p>然而，一种合理地假设是，一般的经济状况差别不会影响A组和B组人群间的相对差别。在这种情况下，我们就可以用相对差别来估计处理州中A组和B组（差异）的反事实结果。</p></li></ul></li></ul><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/image-20231025133323120.png"alt="image-20231025133323120" /><figcaption aria-hidden="true">image-20231025133323120</figcaption></figure><p>图3 三重差分法的图示</p><ul><li>处理效应（政策效应）TE =（C-E）-（D-E）= （C-E）-（O-P）= CD</li><li>此时，DE是AB差在干预后的反事实，由于DE无法直接观察到，此时以OP代替</li></ul><p><span class="math display">\[y_{it} = \beta_0 + \beta_1 P_{i} + \beta_2 C_{j} + \beta_3 T_t + \beta_4(P_i T_t) + \beta_5 (C_j T_t) + \beta_6 (P_i C_j) + \beta_7 (P_i C_jT_t) + \epsilon_{it}\quad(2)\]</span></p><p>相比DID，DDD额外增加了一个Group，变量设置也是01变量，此时，如式（2）所示，<spanclass="math inline">\(\beta_7\)</span>是处理效应。</p><p>在纯对照的Group（<span class="math inline">\(C=0\)</span>）⬇️：</p><table style="width:100%;"><thead><tr class="header"><th></th><th>T = 0</th><th>T = 1</th><th><strong><em>Difference</em></strong></th></tr></thead><tbody><tr class="odd"><td><strong>P = 0</strong></td><td><span class="math display">\[ \beta_0 \]</span></td><td><span class="math display">\[ \beta_0 + \beta_3 \]</span></td><td><span class="math display">\[ \beta_3 \]</span></td></tr><tr class="even"><td><strong>P = 1</strong></td><td><span class="math display">\[ \beta_0 + \beta_1 \]</span></td><td><span class="math display">\[ \beta_0 + \beta_1 + \beta_3 + \beta_4\]</span></td><td><span class="math display">\[ \beta_3 + \beta_4 \]</span></td></tr><tr class="odd"><td><strong><em>Difference</em></strong></td><td><span class="math display">\[ \beta_1 \]</span></td><td><span class="math display">\[ \beta_1 + \beta_4 \]</span></td><td><span class="math display">\[ \beta_4 \]</span></td></tr></tbody></table><p>在有实验的Group中（<span class="math inline">\(C=1\)</span>）⬇️</p><table style="width:100%;"><thead><tr class="header"><th></th><th>T = 0</th><th>T = 1</th><th><strong><em>Difference</em></strong></th></tr></thead><tbody><tr class="odd"><td><strong>P = 0</strong></td><td><span class="math display">\[ \beta_0 + \beta_2 \]</span></td><td><span class="math display">\[ \beta_0 + \beta_2 + \beta_3 +\beta_5  \]</span></td><td><span class="math display">\[ \beta_3 + \beta_5 \]</span></td></tr><tr class="even"><td><strong>P = 1</strong></td><td><span class="math display">\[ \beta_0 + \beta_1 + \beta_2 +\beta_6  \]</span></td><td><span class="math display">\[ \beta_0 + \beta_1 + \beta_2 + \beta_3+ \beta_4 + \beta_5 + \beta_6 + \beta_7 \]</span></td><td><span class="math display">\[ \beta_3 + \beta_4 + \beta_5 +\beta_7  \]</span></td></tr><tr class="odd"><td><strong><em>Difference</em></strong></td><td><span class="math display">\[ \beta_1 + \beta_6  \]</span></td><td><span class="math display">\[ \beta_1 + \beta_4 + \beta_6 + \beta_7\]</span></td><td><span class="math display">\[ \beta_4 + \beta_7 \]</span></td></tr></tbody></table><p>将两者做差即可以得到处理效应 <spanclass="math inline">\(\beta_7\)</span> ⬇️</p><table style="width:100%;"><thead><tr class="header"><th></th><th>T = 0</th><th>T = 1</th><th><strong><em>Difference</em></strong></th></tr></thead><tbody><tr class="odd"><td><strong>P = 0</strong></td><td><span class="math display">\[ \beta_2  \]</span></td><td><span class="math display">\[ \beta_2 + \beta_5 \]</span></td><td><span class="math display">\[ \beta_5 \]</span></td></tr><tr class="even"><td><strong>P = 1</strong></td><td><span class="math display">\[ \beta_2 + \beta_6 \]</span></td><td><span class="math display">\[ \beta_2 + \beta_5 + \beta_6 + \beta_7\]</span></td><td><span class="math display">\[ \beta_5 + \beta_7 \]</span></td></tr><tr class="odd"><td><strong><em>Difference</em></strong></td><td><span class="math display">\[ \beta_6 \]</span></td><td><span class="math display">\[ \beta_6 + \beta_7 \]</span></td><td><span class="math display">\[ \beta_7 \]</span></td></tr></tbody></table><p><strong>注：</strong>标准DDD也可用双向固定效应TWFE。参见：<ahref="https://asjadnaqvi.github.io/DiD/docs/code/06_twfe/">The TwowayFixed Effects (TWFE) model</a></p><p>其他资料：</p><ul><li><ahref="https://mp.weixin.qq.com/s/Qw8CkRX6zum9bSI5bTujRg">三重差分DDD估计中平行趋势检验如何操作呢？</a></li><li><img src="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/image-20231025104507993.png" alt="image-20231025104507993" style="zoom:50%;" /></li></ul><h3 id="交错did-staggered-did">2.2 交错DID （Staggered DID）</h3><p>亦称多期DID、多时点DID、渐进DID、时变DID、异时DID，是目前应用非常广泛的DID变体，非常重要。相比标准DID，staggeredDID放宽了政策冲击在同一时间影响处理组的条件。</p><p>标准双重差分法模型和双向固定效应双重差分法模型涉及的政策实施时点或冲击发生时点为同一时期。然而，现实生活中诸多政策实施未必发生在某一时点，而是先有试点再逐步推广，在渐进的过程中推而行之，如增值税转型、土地确权、新农保实施、高铁开通、官员晋升等。交错双重差分法为处理这类情形提供了方法。（黄炜等，2022）<span class="math display">\[Y_{it} = \beta_0 + \beta_1 * Treat_{it} + \beta * \Sigma Z_{it} + \mu_i+ \tau_t + \epsilon_{it}\quad(3)\]</span> Staggered DID一般化模型设定见式（3），<spanclass="math inline">\(\beta_1\)</span>是政策效应的大小，相比标准DID，StaggeredDID使用一个随时间和个体变化的处理变量代替了交互项（其实就是将标准DID中的交互项写成一个变量）。</p><p>Staggered DID的数据结构如下：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs stata">id    year treati postit treati*postit Dit<br>----------------------------------------------<br>1    2001    1      0          0        0<br>1    2002    1      0          0        0<br>1    2003    1      1          1        1<br>1    2004    1      1          1        1<br>1    2005    1      1          1        1<br>----------------------------------------------<br>2    2001    1      0          0        0<br>2    2002    1      0          0        0<br>2    2003    1      0          0        0<br>2    2004    1      1          1        1<br>2    2005    1      1          1        1<br>----------------------------------------------<br>3    2001    0      0          0        0<br>3    2002    0      0          0        0<br>3    2003    0      0          0        0<br>3    2004    0      0          0        0<br>3    2005    0      0          0        0<br></code></pre></td></tr></table></figure><p>图示⬇️（刘冲等，2022）</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/image-20231027143649692.png"alt="image-20231027143649692" /><figcaption aria-hidden="true">image-20231027143649692</figcaption></figure><p>Staggered DID可以使用 <code>panelview</code>命令进行可视化，参见<ahref="https://www.lianxh.cn/details/1035.html">Stata绘图：面板数据可视化-panelview</a>或 <ahref="https://mp.weixin.qq.com/s/9RVw0n9dkeE2001FSb3diA">【视频号29】用panelview可视化交叠DID</a>。</p><p>有关Staggered DID的Stata模拟和处理，参见：</p><ul><li><a href="https://www.lianxh.cn/details/72.html">倍分法DID详解(二)：多时点 DID (渐进DID)</a></li><li><a href="https://www.lianxh.cn/details/9.html">倍分法DID详解(三)：多时点 DID (渐进DID) 的进一步分析</a></li><li><a href="https://www.lianxh.cn/news/42611191cca93.html">Big BadBanks：多期 DID 经典论文介绍</a></li><li><ahref="https://www.lianxh.cn/news/439e934fd68c9.html">Stata：多期倍分法(DID) 详解及其图示</a></li><li><ahref="https://www.lianxh.cn/details/112.html">多期DID：平行趋势检验图示</a></li><li><ahref="https://www.lianxh.cn/details/1201.html">多时点DID保姆级教程(上)-平行趋势检验</a></li><li><ahref="https://www.lianxh.cn/details/1163.html">多时点DID保姆级教程(下)-安慰剂检验</a></li><li><ahref="https://pwya.github.io/post/%E8%AE%A1%E9%87%8F%E4%BA%A4%E5%8F%A0did%E5%AE%9E%E7%94%A8%E6%95%99%E7%A8%8B/">【计量】交叠DID实用教程</a>or <a href="https://mp.weixin.qq.com/s/yLaDp8Yy6xSjCfqjo80AIQ">分享:交叠DID简明使用教程, 降低学者DID的学习成本！</a></li><li><ahref="https://www.lianxh.cn/details/1116.html">Stata：Mundlak方法的DID-jwdid</a></li></ul><p><strong>新进展-非常重要：</strong></p><blockquote><p>计量经济学领域的最新研究成果表明，当试点政策在不同时点开展时，双向固定效应下得到的多时点DID回归估计值可能存在偏差（Goodman-Bacon,2021），这是由处理时点差异和异质性处理效应所导致的结果。本文分别将Callawayand Sant'Anna （2022）的稳健估计方法和堆叠DID方法（Stacked RegressionApproach）应用于本文的基准模型中，重新估计试点政策的平均处理效应。本文将Callawayand Sant'Anna(2022)提出的估计方法应用于本文的基准模型中，重新估计试点政策的平均处理效应。【张莉,刘昭聪,程可为等.产业用地审批改革与资源配置效率——基于微观企业土地存量数据的研究[J].中国工业经济,2023(09):61-79.DOI:10.19581/j.cnki.ciejournal.2023.09.004.】</p><ul><li><p><ahref="https://www.sciencedirect.com/science/article/pii/S0304405X22000204">Howmuch should we trust staggered difference-in-differencesestimates?</a></p></li><li><p><ahref="https://www.sciencedirect.com/science/article/pii/S0304407620303948">Difference-in-Differenceswith multiple time periods</a></p></li><li><p><ahref="https://www.sciencedirect.com/science/article/pii/S0304407621001445">Difference-in-differenceswith variation in treatment timing</a></p><p>上述三篇文章发现TWFE在staggered DID中可能存在严重的问题（bacon分解诊断），因此需要使用其他方法，如csdid、堆叠DID方法（Stacked RegressionApproach）、两步回归法等。【王鹏超,韩立彬.多时点双重差分法的潜在问题与解决措施[J].东北财经大学学报,2023,No.146(02):27-39】</p></li></ul><p>权威文章参见：</p><ul><li><a href="https://mp.weixin.qq.com/s/dF4JM5Z3toQxjCa9eyo_hw">典范!这篇AER在一图表里用了所有DID最新进展方法, 审稿人直接服了！</a></li></ul><p>其他国内分析文章参见：</p><ul><li>刘冲,沙学康,张妍.交错双重差分：处理效应异质性与估计方法选择[J].数量经济技术经济研究,2022,39(09):177-204.</li><li>许文立.双重差分法的最新理论进展与经验研究新趋势[J].广东社会科学,2023(05):51-62.<ul><li>许文立提到，在实证研究中的，对于估计偏误的诊断有五种方法：1️⃣回归法；2️⃣Bacon分解，但只适用于强平衡面板数据的情况；3️⃣CD分解法；4️⃣SA分解法；5️⃣静态效应检验。</li></ul></li></ul></blockquote><p>交叠DID使用TWFE，问题出在哪里（参见：<ahref="https://pwya.github.io/post/%E8%AE%A1%E9%87%8F%E4%BA%A4%E5%8F%A0did%E5%AE%9E%E7%94%A8%E6%95%99%E7%A8%8B/">【计量】交叠DID实用教程</a>）：</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/image-20231031142456912.png"alt="image-20231031142456912" /><figcaption aria-hidden="true">image-20231031142456912</figcaption></figure><h4 id="bacon-decomposition">2.2.1 Bacon decomposition</h4><p>标准的 DID通常用来估计处理组与控制组在处理前后的结果差异，然而在实践中，由于处理往往发生在不同的时间点上，研究者通常使用下式估计处理效应<span class="math inline">\(\beta^{DD}\)</span>： <spanclass="math display">\[y_{it} = \alpha_i + \alpha_t + \beta^{DD}D_{it} + e_{it}\quad(4)\]</span> 式（4）中，<span class="math inline">\(\alpha_i\)</span>为截面个体效应，<span class="math inline">\(\alpha_t\)</span>为时间固定效应，<span class="math inline">\(D_{it}\)</span> 为个体 <spanclass="math inline">\(i\)</span> 在 <spanclass="math inline">\(t\)</span>时刻是否接受处理哑变量。但事实上，我们对于这种不同时点的处理效应理解有很大局限性，且通常依赖于“条件于群组与时间固定效应，干预应当近似于随机分配” 的一般假定。AndrewGoodman-Bacon (2021) 提出，双向固定效应估计量 (TWFEDD)等于数据中所有可能的两组或两期 DD 估计量的加权平均值。</p><p>其估计的因果解释需要平行趋势假设和随时间恒定的处理效应，他展示了如何分解两个规范之间的差异，并提供了对包含时变控制模型的新分析。本文将简要概述这篇文章，并介绍基于这一分解方法的Stata 命令 <code>bacondecomp</code>。</p><p>Bacondecomposition是一种TWFE估计量偏误诊断的方法，可以看出TWFE在StaggeredDID应用的效果。</p><p>参见：</p><ul><li><a href="https://asjadnaqvi.github.io/DiD/docs/code/06_bacon/">Bacondecomposition</a></li><li><ahref="https://mp.weixin.qq.com/s/hS9mfZui2uu05ExxE8EHVw">Stata：多处理时点效应估计的Bacon分解-bacondecomp</a></li><li><ahref="https://mp.weixin.qq.com/s/cy6cnwL3fGUkhX4NTY0LwQ">【视频号24】交叠DID的陷阱：从Bacon分解说起（1）</a></li><li><ahref="https://mp.weixin.qq.com/s/cewB6XboKQmWrcjRCQSryg">【视频号25】交叠DID的陷阱：从Bacon分解说起（2）</a></li><li><ahref="https://mp.weixin.qq.com/s/NKy9uBMzijNzn6tR6lTXpQ">【应用计量系列52】再谈培根分解：新升级、新操作、新结果</a></li><li><ahref="https://mp.weixin.qq.com/s/w-m5-ihcCFg9PiLcqFTu7A">【香樟推文2505】交叠DID偏误的诊断、解决与应用——兼论连续DID的偏误</a></li><li><ahref="https://mp.weixin.qq.com/s/Ipsr5lau0Mps1YlYqtXOKA">Bacon分解结果的解读</a></li></ul><h4 id="csdid">2.2.2 csdid</h4><p>标准的 DID模型将样本分为两组：实验组和对照组；将时间分为两个阶段：政策发生前和政策发生后。所有的实验组样本都在同一时间点受到政策冲击。</p><p>随着 DID 方法的拓展，许多实证研究将其拓展为多期DID，即实验组并非在同一时点遭受政策冲击。但是，自 2019年来，不少学者纷纷指出这种多期 DID 有可能会产生有偏估计 (Athey andImbens，2022；Baker et al.，2022；Goodman-Bacon，2021)。</p><p>其主要原因在于，多期 DID估计的本质是多个不同处理效应的加权平均，权重可能存在为负的情形。在权重为负的情下，不同处理效应加权平均后得到的平均处理效应，可能会与真实的平均处理效应方向相反。Bakeret al. (2021) 通过数据模拟发现，多期 DID估计出来有偏误的处理效应甚至会与真实处理效应的符号相反。</p><p>为此，Callaway and Sant'Anna (2021) 提出了一种用于识别异质性多期 DID的新方法，该新方法适用于以下三种情形：</p><ul><li>时间分为多期；</li><li>实验组受到政策冲击的时间并非同一；</li><li>实验组和对照组只有在控制了协变量之后才满足平行趋势假定。</li></ul><p><code>csdid</code>现在已成为Stata的程序包（也有R的版本），可以汇报StaggeredDID的稳健估计量，结果与TWFE做比较，可以看看基准回归是否合理。</p><p>参见：</p><ul><li><p><ahref="https://asjadnaqvi.github.io/DiD/docs/code/06_did_csdid/">csdid(Callaway and Sant’Anna 2021)</a></p></li><li><p><ahref="https://friosavila.github.io/playingwithstata/main_csdid.html">CSDIDVersion 1.6</a></p></li><li><p><ahref="https://mp.weixin.qq.com/s/oR7XoFs3qXdw0kecUhavMw">异质性多期DID估计的新方法-csdid</a></p></li><li><p><ahref="https://www.lianxh.cn/details/1027.html">DID偏误问题：多时期DID的双重稳健估计量(下)-csdid</a></p></li></ul><h4 id="stacked-did">2.2.3 Stacked DID</h4><p>stackedev实现在 Cunningham (2021) and Baker (2021) 中讨论并在 Cengiz等人 （2010） 中实现的堆叠事件研究估计。</p><p>该包将各个数据集或堆叠追加在一起。每个堆叠包括来自同一时间段内接受治疗的一组单位和从未接受过治疗的所有单位的所有观察结果。通过将单个治疗单位队列与从未治疗过的单位进行比较，在每个堆叠中确定效果。</p><p>这种方法避免了对后期实施单位和早期实施单位的错误比较，如果效果因治疗队列而异，则可能会偏向双向固定效应（TWFE） 估计（Goodman-Bacon，2021年）。</p><p>堆叠事件研究分三个步骤进行估计：</p><ul><li>首先，创建单个堆叠；</li><li>其次，它们被附加在一起；</li><li>最后，该软件包通过 reghdfe估计事件研究，其中包括逐个堆叠的固定效应、逐个堆叠的时间固定效应和逐个堆叠上的标准误差聚类。</li></ul><p><code>stackedev</code>也是一个Stata软件包，可以结合下面的资料安装尝试。</p><p>参见：</p><ul><li><ahref="https://asjadnaqvi.github.io/DiD/docs/code/06_stackedev/">stackedev(Cengiz, Dube, Lindner, Zipperer 2019)</a></li><li><ahref="https://mp.weixin.qq.com/s/LaaHH98vEscnqhBCWffP0Q">系统梳理DID最新进展:从多期DID的潜在问题到当前主流解决方法和代码!</a></li><li><ahref="https://mp.weixin.qq.com/s/TWlq-RrYATUJyqkaYtCyPQ">【香樟推文2435】从交叠双重差分法到堆叠双重差分法——举例与讨论</a></li><li><ahref="https://mp.weixin.qq.com/s/v_WJR_QuTEs04BF5RXXEHQ">Stata--交叠DID异质稳健估计之堆叠DID</a></li></ul><h4 id="did2s-两步回归法">2.2.4 did2s 两步回归法</h4><p>最近一系列文献都表明，当处理组个体接受处理的时间是交错的，而且平均处理效应随着组别以及时间发生变化时，常见的双重差分估计就不能识别一个典型处理效应并做出合理的度量(Borusyak and Jaravel, 2017; Athey and Imbens, 2018; Goodman-Bacon,2018; de Chaisemartin and D’Haultfoeuille, 2020; Imai andKim, 2020; Sunand Abraham, 2020)。</p><p>为此，本文将介绍可能缓解上述问题的方法——两阶段双重差分。具体地，本篇推文主要分为以下内容：</p><ul><li>首先，提供了一些简单的直觉来解释为什么双重差分回归不能确定 group ××period 平均处理效应；</li><li>其次，提出了一个可供选择的二阶段 GMM 估计框架 (two-stage estimationframework)。在这个框架中，我们在第一阶段识别组别效应和时期效应，在移除了组别效应和时期效应之后，在第二阶段，通过比较处理组和对照组的结果差异来识别平均处理效应。两阶段方法对于被处理的时间是交错的以及处理效应具有异质性的情况下估计结果是稳健的，而且还能够用来识别许多不同的平均处理效应，方法简单直接好用；</li><li>最后，为了方便大家理解，我们用实例并结合 Stata操作来演示该方法的实现，其中重点介绍 <code>did2s</code> 命令。</li></ul><p>参见：</p><ul><li><a href="https://asjadnaqvi.github.io/DiD/docs/code/06_did2s/">did2s(Gardner 2021)</a></li><li><ahref="https://www.lianxh.cn/news/cb98eb5208c55.html">Stata倍分法新趋势：did2s-两阶段双重差分模型</a></li></ul><h4 id="did_multiplegt-多期多个体模型">2.2.5 did_multiplegt多期多个体模型</h4><p>双边固定效应多期 DID模型假设对于样本的处理是不变的，这样的假设在现实中常常不成立。首先，处理变量可能不是一个二元变量，如不同地区的政策力度不同。其次，处理也并非是一次性的，样本不能简单地一分为二处理组和控制组，如降雨对于地区的影响，会出现从有到无、从无到有的多个交替过程，这时就需要一个动态的处理组。</p><p>动态处理组的设定放松了传统 DID模型中处理不变的设定，可以有效解决了上述的问题。并且，在模型中处理变量<span class="math inline">\(D\)</span>可以为二元变量，也可以是非二元变量。</p><p><code>did_multiplegt</code>也是一个Stata命令，同时，该命令还可以处理很多其他情况，如<strong>允许个体退出实验</strong>。</p><p>参见：</p><ul><li><ahref="https://asjadnaqvi.github.io/DiD/docs/code/06_did_multiplegt/">did_multiplegt(Chaisemartin and D’Haultfœuille 2020, 2021)</a></li><li><ahref="https://mp.weixin.qq.com/s/GOWZlN9dq7sanOo5S16kyA">DIDM：多期多个体倍分法-did_multiplegt</a></li></ul><h4 id="did_imputation">2.2.6 did_imputation</h4><p><code>did_imputation</code>也是一个Stata命令，可以作事件研究法的稳健有效估计量，好像也可以应用于StaggeredDID？</p><p>参见：</p><ul><li><ahref="https://asjadnaqvi.github.io/DiD/docs/code/06_did_imputation/">did_imputation(Borusyak, Jaravel, Spiess 2021)</a></li><li><ahref="https://www.lianxh.cn/details/853.html">Stata：事件研究法的稳健有效估计量-did_imputation</a></li></ul><h4 id="eventstudyinteract">2.2.7 eventstudyinteract</h4><p>The <code>eventstudyinteract</code> command is written by Liyang Sunbased on the Sun and Abraham 2020 paper <ahref="https://www.sciencedirect.com/science/article/pii/S030440762030378X">EstimatingDynamic Treatment Effects in Event Studies with Heterogeneous TreatmentEffects</a>.</p><p>The command potentially has some issues.</p><p>参见：</p><ul><li><ahref="https://asjadnaqvi.github.io/DiD/docs/code/06_eventstudyinteract/">eventstudyinteract(Sun and Abraham 2020)</a></li><li><ahref="https://mp.weixin.qq.com/s/k2kxnRvzHFk3LLdwByZzyw">最新Sun和Abraham(2020)和TWFE估计多期或交错DID并绘图展示结果！详细解读code！</a></li></ul><h4 id="各种估计量的比较">2.2.8 各种估计量的比较</h4><p>就是将TWFE、did_multiplegt、csdid、did_imputation、eventstudyinteract、stackedev、did2s等方法的估计结果放一起对比。（图片来自<ahref="https://asjadnaqvi.github.io/DiD/docs/code/06_combined/">Allestimators</a>）</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/allestimators2.png"alt="img" /><figcaption aria-hidden="true">img</figcaption></figure><p>许文立也做了比较：</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/image-20231027200000742.png"alt="image-20231027200000742" /><figcaption aria-hidden="true">image-20231027200000742</figcaption></figure><p>刘冲等（2022）也做了比较，感兴趣的小伙伴也可以自行查看论文并复现。</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/image-20231028195711047.png"alt="image-20231028195711047" /><figcaption aria-hidden="true">image-20231028195711047</figcaption></figure><p>参见：</p><ul><li><ahref="https://www.lianxh.cn/details/1097.html">Stata：各种DID估计量的比较分析</a></li><li><ahref="https://asjadnaqvi.github.io/DiD/docs/code/06_combined/">Allestimators</a></li></ul><h3 id="队列did-cohort-did">2.3 队列DID （Cohort DID）</h3><p>亦称截面DID，即使用横截面数据来评估某一历史事件对个体的长期影响。常用于评估特殊历史事件对个体和家庭的长期影响（通常使用的都是横截面数据）。与标准DID相似，队列DID也有两个维度的变异，通常而言，一个维度是地区，另一个维度是出生（年龄）队列，如果感觉难以理解的话，其实只需把出生队列这个维度理解为时间就好了。</p><p>推荐阅读：</p><ul><li><ahref="https://www.aeaweb.org/articles?id=10.1257/aer.20191414">Chen, Y.,Fan, Z., Gu, X., &amp; Zhou, L. A. (2020). Arrival of young talent: Thesend-down movement and rural education in China. <em>American EconomicReview</em>, <em>110</em>(11), 3393-3430.</a></li><li><a href="https://doi.org/10.1093/ej/uead061">Guo, S., Gao, N., &amp;Liang, P. (2023). Winter Is Coming: Early-life Experiences andPoliticians’ Decisions. <em>The Economic Journal</em>, uead061.</a>（这篇文章我精读并做了复现，感觉非常厉害。）</li><li><ahref="https://nsd.pku.edu.cn/docs/20221021150423034989.pdf">疫苗接种、人力资本积累与收入增长</a>（Dr.Wang 的大作，《经济学（季刊）》待刊）</li><li><ahref="https://www.lianxh.cn/details/639.html">队列DID：以知识青年“上山下乡”为例-T401</a></li><li><ahref="https://mp.weixin.qq.com/s/5P8-jrGp1MlPthTHhiXD8A">截面数据的DID设计：CohortDID（队列DID）的Stata使用“说明书”</a></li></ul><h3 id="广义did-generalized-did">2.4 广义DID （Generalized DID）</h3><p>亦称强度DID、连续DID。见得不多。</p><blockquote><p>当所有研究对象均或多或少同时受到了政策干预，即仅有处理组而无控制组时，仍然能够考虑应用双重差分法。对此，可以根据研究对象受到的具体冲击情况来构建处理强度(treatmentintensity)指标来进行分析，此时个体维度并不是从 0 到 1的改变，而是连续的变化。因此，可以将个体维度的政策分组虚拟变量替换为用以表示不同个体受政策影响程度的连续型变量，该种方法被称为广义双重差分法。Nunn和Qian(2011)研究了一个经典的例子，他们研究了土豆种植扩散对欧洲人口增长的影响。欧洲几乎所有地区都种植了土豆，不存在未种植土豆的地区，因此没有标准意义上的控制组。他们的选择是将地区间土豆种植适宜度作为处理强度，以1700年前后为处理时点，使用广义双重差分法估计了引入土豆对人口增长的影响。（黄炜等，2022）</p></blockquote><p>推荐阅读：</p><ul><li><p><ahref="https://www.lianxh.cn/details/1190.html">论文复现：土豆对人口与城市化的贡献-连续DID应用</a></p></li><li><p><ahref="https://mp.weixin.qq.com/s/TbB2swZ77-Cd-_ZBtLWrHw">【应用计量系列64】强度DID最新进展与应用</a></p></li><li><p><ahref="https://mp.weixin.qq.com/s/oPVre9GbbfgQsCMrecinuQ">【香樟推文2475】运河与叛乱：中国学者AER量化历史最新力作</a></p></li></ul><h3 id="模糊did-fuzzy-did">2.5 模糊DID （Fuzzy DID）</h3><blockquote><p>在标准双重差分法等方法的应用情境中，处理组和控制组之间通常泾渭分明，因此可以通过分组差分得到较为“干净”的处理效应。但是，有时冲击并未带来急剧(sharp)变化，所谓的“处理组”中虽然受冲击率高于其他组别，但并没有完全被干预或受政策冲击，而所谓的“控制组”中也并非完全没有受到冲击，即处理组和控制组之间没有明确的分野，不存在“干净”的处理组与控制组。模糊双重差分法为处理此类情形提供了可能，deChaisemartin 和d’Haultfoeuille(2018)在文章中详细介绍了该种方法，并利用该方法重新评估了印度尼西亚的教育回报。（黄炜等，2022）</p></blockquote><p>更多内容参见：</p><ul><li><p><a href="https://www.lianxh.cn/details/536.html">FuzzyDID：模糊倍分法</a></p></li><li><p><a href="https://mp.weixin.qq.com/s/nV1hcRIh_qp312NYsOy0ew">前沿,模糊双重差分法FDID方法介绍和示例, 附code和数据！</a></p></li></ul><h3 id="混合截面did">2.6 混合截面DID</h3><blockquote><p>混合截面数据与面板数据相比，其不同之处在于它的不同时点的观测个体是不同的，但是它也有时间和个体两个维度，所以只要进行巧妙的构思，依然可以构建DID模型进行政策评估。伍德里奇同志在《计量经济学导论》一书13.2节举了一个经典的例子“垃圾焚化炉的区位对住房价格的影响”（KielandMcClain，1995），来讲解混合截面DID的做法，大家有兴趣可以去看下。（江河JH，2022）</p></blockquote><p>参见：</p><ul><li><ahref="https://mp.weixin.qq.com/s/3Im5kuVV-MYmMw6SrdVpUg">DID大法续论 |听说混合截面数据也能做DID</a></li></ul><h3 id="其他情况">2.7 其他情况</h3><p>DID家族百花齐放，且在不断发展中，还有很多类型、策略或模式，如“进入-退出型”DID、双重机器学习、合成双重差分DID、<ahref="https://www.lianxh.cn/details/840.html">空间DID</a>、<ahref="https://www.lianxh.cn/details/649.html">一刀切的DID</a>、<ahref="https://www.lianxh.cn/details/499.html">考虑溢出效应的DID</a>、<ahref="https://www.lianxh.cn/details/438.html">非线性DID</a>（或称NL-DID、CIC）、分位数DID、<ahref="https://mp.weixin.qq.com/s/F4F301Vj4y07UOCJ_OKoZw">被解释变量为虚拟变量的DID</a>，DID还可以与其他策略相结合，如PSMDID、<ahref="https://www.lianxh.cn/details/763.html">RDD&amp;DID</a>！内容繁杂，但基础原理离不开标准DID，可以自行查看。</p><p>黄炜等学者认为“几乎任何两个维度的差异之差异都可以从双重差分的角度去理解。也就是说，几乎所有的<strong>交互项模型</strong>都可以理解为一种双重差分法。”更多说明可以阅读原文。</p><p>其他资料参见：</p><ul><li><p><ahref="https://mp.weixin.qq.com/s/YvwTCtQxZeRemQK_4Ix_Rg">科研随笔：重磅更新——《前沿计量部分最新进展：一个简明实用手册》</a> or <ahref="https://pwya.github.io/post/%E8%AE%A1%E9%87%8F%E5%89%8D%E6%B2%BFdid%E6%96%B9%E6%B3%95%E5%AE%9E%E7%94%A8%E6%89%8B%E5%86%8C/">【计量】前沿DID方法实用手册：FuzzyDID,合成控制DID,DML</a></p></li><li><p><ahref="https://mp.weixin.qq.com/s/sKaLgD21Qcdy3Kkobp3-oQ">【香樟推文2791】新的DiD理论文献让你眼花缭乱？系统性梳理DiD方法前沿进展</a></p></li></ul><h2 id="did-checklist">3 DID Checklist</h2><p>Jonathan Roth等学者近期在Journal of Econometrics发表了一篇<ahref="https://www.sciencedirect.com/science/article/pii/S0304407623001318">文章</a>，讲述了DID的新进展，文章也是一个Handbook，列出了使用DID的待查清单。“计量经济圈”的推文里有清单的翻译版，在此摘录：</p><blockquote><ul><li><strong>每个个体都在同一时间受到政策冲击吗？</strong><ul><li>如果是，并且面板是平衡的，则使用式 (5) 或 (7)等双向固定效应TWFE估计方法。TWFE会产生易于解释的估计值。</li><li>如果不是，请考虑使用“异质性稳健估计值“来估计时间上交错执行的政策处理效应（如3节所述）。至于使用哪种方法的估计值，取决于一项政策的出现和结束情况，以及研究者打算施加的平行趋势假设。只有当你很确信政策处理效应具有同质性才使用双向固定效应TWFE估计值。</li></ul></li><li><strong>你确定平行趋势假设有效吗？</strong><ul><li>如果是，请解释有效的原因，包括回归方程所设定的函数形式的验证。如果理由是政策发生在时间上的（准）随机性，请考虑使用第6节中讨论的更有效的估计值。</li><li>如果不是，请按照以下步骤开展：<ul><li>如果以协变量为条件的平行趋势假设更合理，请考虑第4.2节所述的以协变量为条件的估计值。</li><li>通过构建事件研究图来评估平行趋势假设的合理性。如果有一个共同的政策冲击日期，并且使用的是无条件平行趋势假设，请根据(16)等回归方程绘制系数。如果不是，请参阅4.3节以获取有关事件图构建的建议。</li><li>在汇报事件研究图时，也可以采用4.4.1节所述的方法对事前趋势进行进一步的验证。</li><li>如4.5节所述，报告正式的敏感性分析，描述结论对潜在违反平行趋势的稳健性。</li></ul></li></ul></li><li><strong>你是否有大量从超总体（super-population）中通过整群抽样（clustersampling）获得的处理组和控制组样本？</strong><ul><li>如果是，则在相应聚类级别上使用聚类稳健方法（cluster-robustmethods）。一个经验法则，是在独立分配处理效应的级别上进行聚类（例如，政策在州级别上实行时就在州级上聚类），具体可以参见5.2节。</li><li>如果有少量受到政策冲击的整群样本，可以考虑使用5.1节中替代性政策效应推断方法。</li><li>如果你无法想象或获取超总体，请考虑5.2节中基于模型设计（designbased）的政策效应推断方法。</li></ul></li></ul></blockquote><p>翻译来自：</p><ul><li><ahref="https://mp.weixin.qq.com/s/Ipsr5lau0Mps1YlYqtXOKA">使用最新DID方法需要做的几项检查清单！</a></li></ul><p>关于JoE论文的其他内容参见：</p><ul><li><ahref="https://mp.weixin.qq.com/s/sKaLgD21Qcdy3Kkobp3-oQ">【香樟推文2791】新的DiD理论文献让你眼花缭乱？系统性梳理DiD方法前沿进展</a></li></ul><h2 id="实用软件包">4 实用软件包</h2><h3 id="did相关的软件包">4.1 DID相关的软件包</h3><p>JonathanRoth等在JoE论文里还对DID相关的软件包进行了表格总结，包含平行趋势诊断，并带上了出处，我这里一并摘录过来。（Markdown显示的表格不美观，建议还是看原文。。。）</p><p><ahref="https://www.sciencedirect.com/science/article/pii/S0304407623001318">Table2. Statistical packages for recent DiD methods.</a></p><table><thead><tr class="header"><th style="text-align: left;">Heterogeneity Robust Estimators forStaggered Treatment Timing</th><th></th><th></th></tr></thead><tbody><tr class="odd"><td style="text-align: left;"><u>Package</u></td><td><u>Software</u></td><td><u>Description</u></td></tr><tr class="even"><td style="text-align: left;">did, csdid</td><td>R, Stata</td><td>Implements <ahref="https://doi.org/10.1016/j.jeconom.2020.12.001">Callaway andSant’Anna (2021)</a></td></tr><tr class="odd"><td style="text-align: left;">did2s</td><td>R, Stata</td><td>Implements <ahref="%5B%20https://doi.org/10.48550/arXiv.2207.05943%5D(https://doi.org/10.48550/arXiv.2207.05943)">Gardner(2021)</a>, <ahref="%5B%20https://doi.org/10.48550/arXiv.2108.12419%5D(https://doi.org/10.48550/arXiv.2108.12419)">Borusyaket al. (2021)</a>, <ahref="https://doi.org/10.1016/j.jeconom.2020.09.006">Sun and Abraham(2021)</a>, <ahref="https://doi.org/10.1016/j.jeconom.2020.12.001">Callaway andSant’Anna (2021)</a>, <ahref="%5B%20https://doi.org/10.48550/arXiv.2102.01291%5D(https://doi.org/10.48550/arXiv.2102.01291)">Rothand Sant’Anna (2021)</a></td></tr><tr class="even"><td style="text-align: left;">didimputation, did_imputation</td><td>R, Stata</td><td>Implements <ahref="%5B%20https://doi.org/10.48550/arXiv.2108.12419%5D(https://doi.org/10.48550/arXiv.2108.12419)">Borusyaket al. (2021)</a></td></tr><tr class="odd"><td style="text-align: left;">DIDmultiplegt, did_multiplegt</td><td>R, Stata</td><td>Implements <ahref="https://www.aeaweb.org/articles?id=10.1257/aer.20181169">deChaisemartin and D’Haultfoeuille (2020)</a></td></tr><tr class="even"><td style="text-align: left;">eventstudyinteract</td><td>Stata</td><td>Implements <ahref="https://doi.org/10.1016/j.jeconom.2020.09.006">Sun and Abraham(2021)</a></td></tr><tr class="odd"><td style="text-align: left;">flexpaneldid</td><td>Stata</td><td>Implements <a href="http://dx.doi.org/10.2139/ssrn.3692458">Dettmann(2020)</a>, based on <ahref="https://www.jstor.org/stable/2999630">Heckman et al.(1998)</a></td></tr><tr class="even"><td style="text-align: left;">fixest</td><td>R</td><td>Implements <ahref="https://doi.org/10.1016/j.jeconom.2020.09.006">Sun and Abraham(2021)</a></td></tr><tr class="odd"><td style="text-align: left;">stackedev</td><td>Stata</td><td>Implements stacking approach in <ahref="https://doi.org/10.1093/qje/qjz014">Cengiz et al. (2019)</a></td></tr><tr class="even"><td style="text-align: left;">staggered</td><td>R</td><td>Implements <a href="https://doi.org/10.48550/arXiv.2102.01291">Rothand Sant’Anna (2021)</a>, <ahref="https://doi.org/10.1016/j.jeconom.2020.12.001">Callaway andSant’Anna (2021)</a>, and <ahref="https://doi.org/10.1016/j.jeconom.2020.09.006">Sun and Abraham(2021)</a></td></tr><tr class="odd"><td style="text-align: left;">xtevent</td><td>Stata</td><td>Implements <ahref="https://www.aeaweb.org/articles?id=10.1257/aer.20180609">Freyaldenhovenet al. (2019)</a></td></tr><tr class="even"><td style="text-align: left;"><strong>DiD with Covariates</strong></td><td></td><td></td></tr><tr class="odd"><td style="text-align: left;"><u>Package</u></td><td><u>Software</u></td><td><u>Description</u></td></tr><tr class="even"><td style="text-align: left;">DRDID, drdid</td><td>R, Stata</td><td>Implements <ahref="https://doi.org/10.1016/j.jeconom.2020.06.003">Sant’Anna and Zhao(2020)</a></td></tr><tr class="odd"><td style="text-align: left;"><strong>Diagnostics for TWFE withStaggered Timing</strong></td><td></td><td></td></tr><tr class="even"><td style="text-align: left;"><u>Package</u></td><td><u>Software</u></td><td><u>Description</u></td></tr><tr class="odd"><td style="text-align: left;">bacondecomp, ddtiming</td><td>R, Stata</td><td>Diagnostics from <ahref="https://doi.org/10.1016/j.jeconom.2021.03.014">Goodman-Bacon(2021)</a></td></tr><tr class="even"><td style="text-align: left;">TwoWayFEWeights</td><td>R, Stata</td><td>Diagnostics from <ahref="https://www.aeaweb.org/articles?id=10.1257/aer.20181169">deChaisemartin and D’Haultfoeuille (2020)</a></td></tr><tr class="odd"><td style="text-align: left;"><strong>Diagnostic/ Sensitivity forViolations of Parallel Trends</strong></td><td></td><td></td></tr><tr class="even"><td style="text-align: left;"><u>Package</u></td><td><u>Software</u></td><td><u>Description</u></td></tr><tr class="odd"><td style="text-align: left;">honestDiD</td><td>R, Stata</td><td>Implements <ahref="https://doi.org/10.1093/restud/rdad018">Rambachan and Roth(2023)</a></td></tr><tr class="even"><td style="text-align: left;">pretrends</td><td>R</td><td>Diagnostics from <ahref="https://www.aeaweb.org/articles?id=10.1257/aeri.20210236">Roth(2022)</a></td></tr></tbody></table><p>Note: This table lists R and Stata packages for recent DiD methods,and is based on Asjad Naqvi’s repository athttps://asjadnaqvi.github.io/DiD/. Several of the packages listed under“Heterogeneity Robust Estimators” also accommodate covariates.</p><p>其实看这个Note里的<ahref="https://asjadnaqvi.github.io/DiD/">博客</a>也是可以的。</p><h3 id="其他软件包">4.2 其他软件包</h3><ul><li><code>didplacebo</code> Stata命令，可以<ahref="">一键进行DID安慰剂检验</a>，适用于单时点冲击的标准DID，以及多时间冲击的交叠DID（staggeredDID）</li><li><code>permute</code> Stata命令，也可以简单进行<ahref="https://www.lianxh.cn/details/731.html">安慰剂检验</a>；</li><li><code>eventdd</code> Stata命令，可以<ahref="https://lianxh.cn/news/e715545930fcf.html">一行代码绘制平行趋势图</a>。</li></ul><h2 id="其他参考资料">5 其他参考资料</h2><p>（1）一个很详细的博客</p><p>https://diff.healthpolicydatascience.org/</p><p>（2）一个三四年前的博客？Data science for public service</p><p>https://ds4ps.org/PROG-EVAL-III/DiffInDiff.html</p><p>（3）一个有用的关于DID的R markdown书</p><p>https://bookdown.org/mike/data_analysis/difference-in-differences.html</p><p>（4）The effect</p><p>https://theeffectbook.net/ch-DifferenceinDifference.html</p><p>（5）The mixtape</p><p>https://mixtape.scunning.com/09-difference_in_differences</p><p>（6）一个网页，有各种DID相关的包和进展--这个非常重要</p><p>https://asjadnaqvi.github.io/DiD/</p><p>https://asjadnaqvi.github.io/DiD/docs/code</p><p>（7）因果推理的统计工具-一本很强大的R书</p><p>https://chabefer.github.io/STCI/</p><p>（8）与DID有关的一系列问题</p><p>https://friosavila.github.io/playingwithstata/index.html</p><p>（9）DID资源站，<strong>JoE文章作者</strong>、DID专家的博客，他的小狗🐶似乎很可爱</p><p>https://www.jonathandroth.com/did-resources/</p><p>（10）这个人的博客有点意思</p><p>https://christinecai.github.io/items/PublicGoods.html</p><h2 id="附did实验代码">6 附：DID实验代码</h2><h3 id="标准did数据模拟分析与检验代码">6.1标准DID数据模拟、分析与检验代码</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br></pre></td><td class="code"><pre><code class="hljs stata"><span class="hljs-comment">***DID family code***</span><br><span class="hljs-comment">***资料主要来源于连享会官方网站 https://www.lianxh.cn/ ，有一定改编</span><br><br><span class="hljs-keyword">cd</span> <span class="hljs-string">&quot;/Users/yu/worklist/casual_inference/14-张宇 DID家族&quot;</span><br><span class="hljs-comment">*请替换成你的工作目录，或删除上面这一行，这样会选择默认工作目录</span><br><br><br><br><span class="hljs-comment">*************************************************************</span><br><span class="hljs-comment">************************** 一、标准DID ***********************</span><br><span class="hljs-comment">*************************************************************</span><br><br><br><br><span class="hljs-comment">**1.1 生成模拟数据</span><br><br><span class="hljs-comment">///设定300个观测值，设定随机数种子</span><br><br><span class="hljs-keyword">clear</span> all<br><span class="hljs-keyword">set</span> obs 300 <br><span class="hljs-keyword">set</span> seed 10101<br><span class="hljs-keyword">gen</span> id =_n<br><br><span class="hljs-comment">/// 每一个数值的数量扩大11倍，再减去前300个观测值，为300个体10年的面板数据，跟常用的地级市面板比较接近</span><br><br><span class="hljs-keyword">expand</span> 11<br><span class="hljs-keyword">drop</span> <span class="hljs-keyword">in</span> 1/300<br><span class="hljs-keyword">count</span><br><br><span class="hljs-comment">///以id分组生成时间标识</span><br><br><span class="hljs-keyword">bys</span> id: <span class="hljs-keyword">gen</span> year = _n+1999<br><span class="hljs-keyword">xtset</span> id year<br><br><span class="hljs-comment">///生成协变量x1, x2</span><br><br><span class="hljs-keyword">gen</span> x1 = rnormal(1,7)<br><span class="hljs-keyword">gen</span> x2 = rnormal(2,5)<br><br><span class="hljs-comment">///生成个体固定效应和时间固定效应</span><br><br><span class="hljs-keyword">sort</span> year id<br><span class="hljs-keyword">by</span> year: <span class="hljs-keyword">gen</span> ind = _n<br><span class="hljs-keyword">sort</span> id year<br><span class="hljs-keyword">by</span> id: <span class="hljs-keyword">gen</span> T = _n<br><br><span class="hljs-comment">//生成treat和post变量，以2005年为接受政策干预的时点，id为151-300的个体为处理组，其余为控制组</span><br><span class="hljs-keyword">gen</span> <span class="hljs-keyword">D</span> = 0 <br><span class="hljs-keyword">replace</span> <span class="hljs-keyword">D</span> = 1 <span class="hljs-keyword">if</span>  id &gt; 150<br><span class="hljs-keyword">gen</span> <span class="hljs-keyword">post</span> = 0<br><span class="hljs-keyword">replace</span> <span class="hljs-keyword">post</span> = 1 <span class="hljs-keyword">if</span> year &gt;= 2005<br><span class="hljs-comment">//（这里是为了后面构造数据时使用，在真实世界中，个体固定效应和时间固定效应是观察不到的）</span><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">计量经济学中的固定效应模型是用于考虑非观测异质性的一个重要方法。这种非观测异质性是指一些无法被观测到的、与因变量相关的变量，它们可能导致普通最小二乘法（OLS）估计量出现偏误。固定效应模型可以帮助我们控制这些非观测的、时间不变的异质性。</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">固定效应是什么:</span><br><span class="hljs-comment">固定效应是指那些对所有观测单位而言是恒定的，或对某一特定观测单位在所有时期中都是恒定的效应。换句话说，固定效应捕获了那些对因变量有影响、但在数据中没有观测到的、时间不变的异质性。</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">个体固定效应:</span><br><span class="hljs-comment">当我们在横截面数据中（如不同国家、企业或个体）观察到的某种异质性与因变量相关时，这种异质性可能是由于我们没有观测到的某些特质造成的。例如，考虑一个分析国家的经济增长的研究，每个国家都有其独特的政治制度、文化和历史背景。这些因素可能会影响其经济增长，但在模型中很难明确度量。个体固定效应就是用来捕获这种时间不变的、与因变量相关的异质性。</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">时间固定效应:</span><br><span class="hljs-comment">时间固定效应考虑的是所有观测单位在某一特定时间点共同受到的影响。例如，全球经济危机可能影响所有国家的经济增长。通过加入时间固定效应，我们可以控制所有国家在某一特定年份所共同受到的影响。这样，我们就可以准确估计其他解释变量对因变量的影响，而不受到这种共同时点效应的干扰。</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">总之，固定效应模型可以帮助我们控制那些非观测的、时间不变的异质性，从而得到更为准确的估计结果。在实际研究中，选择是否应用固定效应模型以及选择个体固定效应还是时间固定效应，都需要根据具体的研究背景和目的来决定。</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-comment">///将基础数据结构保存成dta文件，命名为DID_Basic_Simu.dta, 默认保存在当前的 working directory 路径下</span><br><br><span class="hljs-keyword">save</span> <span class="hljs-string">&quot;DID_Basic_Simu.dta&quot;</span>, <span class="hljs-keyword">replace</span><br><br><br><br><br><br><span class="hljs-comment">***1.2 政策效果不随时间而变的 Standard DID 的模拟</span><br><br><span class="hljs-comment">///调用1.1生成的基础数据结构</span><br><span class="hljs-keyword">clear</span><br><span class="hljs-keyword">use</span> <span class="hljs-string">&quot;DID_Basic_Simu.dta&quot;</span><br><br><span class="hljs-comment">///生成两种潜在结果，并且合成最终的结果变量，令政策的真实效果为10，且不随时间发生变化，直到最后一期</span><br><br><span class="hljs-keyword">bysort</span> id: <span class="hljs-keyword">gen</span> y0 = 10  + 5 * x1 + 3 * x2 + T + ind + rnormal()<br><span class="hljs-keyword">bysort</span> id: <span class="hljs-keyword">gen</span> y1 = 10  + 5 * x1 + 3 * x2 + T + ind + rnormal() <span class="hljs-keyword">if</span> year &lt; 2005<br><span class="hljs-keyword">bysort</span> id: <span class="hljs-keyword">replace</span> y1 = 10  + 5 * x1 + 3 * x2 + 10 + T + ind + rnormal() <span class="hljs-keyword">if</span> year &gt;= 2005<br><span class="hljs-comment">*将y1的2005年之后的部分 +10，构成政策效果</span><br><span class="hljs-keyword">gen</span> y = y0 + <span class="hljs-keyword">D</span> * (y1 - y0)<br><span class="hljs-comment">*这里的y，在前30个个体等于y0，在后30个个体等于y1,即前30个个体为控制组，在所有期内都不受政策影响，后30个个体为对照组，在2005年后受政策影响</span><br><br><span class="hljs-comment">///去除协变量和个体效应对y的影响，画出剩余残差的图像</span><br><br><span class="hljs-keyword">xtreg</span> y x1 x2, fe r<br><span class="hljs-keyword">predict</span> <span class="hljs-keyword">e</span>,ue <span class="hljs-comment">//生成残差ue并取变量名为e</span><br>binscatter <span class="hljs-keyword">e</span> year, <span class="hljs-keyword">line</span>(connect) <span class="hljs-keyword">by</span>(<span class="hljs-keyword">D</span>)<br><br><span class="hljs-comment">///输出生成的图片，令格式为800*600</span><br><span class="hljs-keyword">graph</span> export <span class="hljs-string">&quot;article1_1.png&quot;</span>,<span class="hljs-keyword">as</span>(png) <span class="hljs-keyword">replace</span> width(800) height(600)<br><br><span class="hljs-comment">//计算处理效应</span><br><span class="hljs-comment">*估计处理效应有很多种命令，比较推荐reghdfe，运行速度快，结果简洁，看的文章里也大多用的这个，此处是双向固定效应</span><br>reghdfe y c.<span class="hljs-keyword">D</span>#c.<span class="hljs-keyword">post</span> x1 x2, absorb(id year) <span class="hljs-keyword">vce</span>(robust)<br><span class="hljs-comment">*Stata17开始有了官方命令xtdidregress，xtdidregress (y1 x1 x2) (treat1), group(grpvar1) time(tvar)，xtdidreg的优点在于可以方便绘制时间趋势图</span><br><span class="hljs-keyword">gen</span> did = <span class="hljs-keyword">D</span>*<span class="hljs-keyword">post</span> <span class="hljs-comment">//在xtdidreg命令中，不允许使用标记符的写法</span><br>xtdidregress (y x1 x2) (did), <span class="hljs-built_in">group</span>(id) time(year) <span class="hljs-keyword">vce</span>(robust id)<br><br><span class="hljs-comment">//绘制时间趋势图</span><br><span class="hljs-keyword">estat</span> trendplots<br><br><span class="hljs-keyword">save</span> <span class="hljs-string">&quot;DID_test.dta&quot;</span>, <span class="hljs-keyword">replace</span><br><br><br><br><br><br><span class="hljs-comment">***1.3 政策效果随时间变化的 Standard DID 的模拟</span><br><br><span class="hljs-comment">///调用本文第二部分生成的基础数据结构</span><br><span class="hljs-keyword">clear</span><br><span class="hljs-keyword">use</span> <span class="hljs-string">&quot;DID_Basic_Simu.dta&quot;</span><br><br><span class="hljs-comment">///生成两种潜在结果，并且合成最终的结果变量，令政策的真实效果随时间发生变化，即（5*T-T），由于从2005年开始接受干预，因此，每年的政策效果应为24，28，32，36，40.</span><br><br><span class="hljs-keyword">bysort</span> id: <span class="hljs-keyword">gen</span> y0 = 10  + 5 * x1 + 3 * x2 + T + ind  + rnormal()<br><span class="hljs-keyword">bysort</span> id: <span class="hljs-keyword">gen</span> y1 = 10  + 5 * x1 + 3 * x2 + T + ind  + rnormal() <span class="hljs-keyword">if</span> year &lt; 2005<br><br><span class="hljs-keyword">bysort</span> id: <span class="hljs-keyword">replace</span> y1 = 10  + 5 * x1 + 3 * x2 + T * 5 + ind   + rnormal() <span class="hljs-keyword">if</span> year &gt;= 2005<br><br><span class="hljs-keyword">gen</span> y = y0 + <span class="hljs-keyword">D</span> * (y1 - y0)<br><br><span class="hljs-comment">///去除协变量和个体效应对y的影响，画出剩余残差的图像</span><br><br><span class="hljs-keyword">xtreg</span> y x1 x2 , fe r<br><span class="hljs-keyword">predict</span> <span class="hljs-keyword">e</span>,ue<br>binscatter <span class="hljs-keyword">e</span> year, <span class="hljs-keyword">line</span>(connect) <span class="hljs-keyword">by</span>(<span class="hljs-keyword">D</span>)<br><br><span class="hljs-comment">//计算处理效应（此处是处理期的平均处理效应 ATE，即24，28，32，36，40的均值）</span><br>reghdfe y c.<span class="hljs-keyword">D</span>#c.<span class="hljs-keyword">post</span> x1 x2, absorb(id year) <span class="hljs-keyword">vce</span>(robust)<br><br><span class="hljs-keyword">gen</span> did = <span class="hljs-keyword">D</span>*<span class="hljs-keyword">post</span> <br>xtdidregress (y x1 x2) (did), <span class="hljs-built_in">group</span>(id) time(year) <span class="hljs-keyword">vce</span>(robust id)<br><br><span class="hljs-comment">//绘制时间趋势图</span><br><span class="hljs-keyword">estat</span> trendplots<br><br><br><br><br><br><span class="hljs-comment">***1.4 事件研究法</span><br><br><span class="hljs-comment">///政策效应不变的情况</span><br><span class="hljs-comment">///调用1.1生成的基础数据结构</span><br><span class="hljs-keyword">clear</span><br><span class="hljs-keyword">use</span> <span class="hljs-string">&quot;DID_test.dta&quot;</span><br><br><span class="hljs-keyword">xtset</span> id year<br><br><span class="hljs-comment">//方法1：通过标记符设置虚拟变量</span><br>reghdfe y i.<span class="hljs-keyword">D</span>#i.year x1 x2, <span class="hljs-keyword">vce</span>(robust) absorb(id year) <span class="hljs-comment">//默认第一期（最小变量）为参考期</span><br><span class="hljs-comment">*注意：不知为何此处结果的系数与方法2正好相反，从结果看，此处显示的是D=0的结果。从一些top期刊看，使用方法2的多一些。</span><br><br><br><span class="hljs-comment">//方法2: 通过手动生成时间虚拟变量，构造交互项，此时可以指定某一个组别作为参照组，在本文中将样本中的第一期作为基准组，另外在论文中常用的还有将政策实施的前一期和当期作为基准参照组。</span><br><span class="hljs-comment">///预先生成年度虚拟变量</span><br><span class="hljs-keyword">tab</span> year, <span class="hljs-keyword">gen</span>(yeardummy)<br>reghdfe y c.<span class="hljs-keyword">D</span>#(c.yeardummy2-yeardummy10) x1 x2, absorb(id year) <span class="hljs-keyword">vce</span>(robust)<br><br><span class="hljs-comment">//将每期的系数画出来，作为结果汇报</span><br>coefplot, <span class="hljs-comment">///</span><br>   <span class="hljs-keyword">keep</span>(c.<span class="hljs-keyword">D</span>#c.yeardummy2 c.<span class="hljs-keyword">D</span>#c.yeardummy3 c.<span class="hljs-keyword">D</span>#c.yeardummy4 c.<span class="hljs-keyword">D</span>#c.yeardummy5 c.<span class="hljs-keyword">D</span>#c.yeardummy6 c.<span class="hljs-keyword">D</span>#c.yeardummy7 c.<span class="hljs-keyword">D</span>#c.yeardummy8 c.<span class="hljs-keyword">D</span>#c.yeardummy9 c.<span class="hljs-keyword">D</span>#c.yeardummy10)  <span class="hljs-comment">///保留指定的系数</span><br>   coeflabels(c.<span class="hljs-keyword">D</span>#c.yeardummy2 = <span class="hljs-string">&quot;-4&quot;</span>   <span class="hljs-comment">///将期数标在横轴</span><br>   c.<span class="hljs-keyword">D</span>#c.yeardummy3 = <span class="hljs-string">&quot;-3&quot;</span>           <span class="hljs-comment">///</span><br>   c.<span class="hljs-keyword">D</span>#c.yeardummy4 = <span class="hljs-string">&quot;-2&quot;</span>           <span class="hljs-comment">///</span><br>   c.<span class="hljs-keyword">D</span>#c.yeardummy5 = <span class="hljs-string">&quot;-1&quot;</span>           <span class="hljs-comment">///</span><br>   c.<span class="hljs-keyword">D</span>#c.yeardummy6  = <span class="hljs-string">&quot;0&quot;</span>             <span class="hljs-comment">///</span><br>   c.<span class="hljs-keyword">D</span>#c.yeardummy7  = <span class="hljs-string">&quot;1&quot;</span>              <span class="hljs-comment">///</span><br>   c.<span class="hljs-keyword">D</span>#c.yeardummy8  = <span class="hljs-string">&quot;2&quot;</span>              <span class="hljs-comment">///</span><br>   c.<span class="hljs-keyword">D</span>#c.yeardummy9  = <span class="hljs-string">&quot;3&quot;</span>              <span class="hljs-comment">///</span><br>   c.<span class="hljs-keyword">D</span>#c.yeardummy10 = <span class="hljs-string">&quot;4&quot;</span>)            <span class="hljs-comment">///</span><br>   vertical                             <span class="hljs-comment">///</span><br>   yline(0)                             <span class="hljs-comment">///</span><br>   ytitle(<span class="hljs-string">&quot;Coef&quot;</span>)                 <span class="hljs-comment">///</span><br>   xtitle(<span class="hljs-string">&quot;Time passage relative to year of adoption of implied contract exception&quot;</span>) <span class="hljs-comment">///</span><br>   addplot(<span class="hljs-keyword">line</span> @b @at)                 <span class="hljs-comment">///增加点之间的连线</span><br>   ciopts(<span class="hljs-keyword">recast</span>(rcap))                 <span class="hljs-comment">///设置置信区间样式，常用的是上下区间虚线，估计系数粗实线</span><br>   scheme(s1mono)<br><br><br><span class="hljs-comment">//将每期的系数画出来，换一种置信区间表示方法（在本案中用起来有点抽象。。）</span><br>coefplot, <span class="hljs-comment">///</span><br>   <span class="hljs-keyword">keep</span>(c.<span class="hljs-keyword">D</span>#c.yeardummy2 c.<span class="hljs-keyword">D</span>#c.yeardummy3 c.<span class="hljs-keyword">D</span>#c.yeardummy4 c.<span class="hljs-keyword">D</span>#c.yeardummy5 c.<span class="hljs-keyword">D</span>#c.yeardummy6 c.<span class="hljs-keyword">D</span>#c.yeardummy7 c.<span class="hljs-keyword">D</span>#c.yeardummy8 c.<span class="hljs-keyword">D</span>#c.yeardummy9 c.<span class="hljs-keyword">D</span>#c.yeardummy10)  <span class="hljs-comment">///保留指定的系数</span><br>   coeflabels(c.<span class="hljs-keyword">D</span>#c.yeardummy2 = <span class="hljs-string">&quot;-4&quot;</span>   <span class="hljs-comment">///将期数标在横轴</span><br>   c.<span class="hljs-keyword">D</span>#c.yeardummy3 = <span class="hljs-string">&quot;-3&quot;</span>           <span class="hljs-comment">///</span><br>   c.<span class="hljs-keyword">D</span>#c.yeardummy4 = <span class="hljs-string">&quot;-2&quot;</span>           <span class="hljs-comment">///</span><br>   c.<span class="hljs-keyword">D</span>#c.yeardummy5 = <span class="hljs-string">&quot;-1&quot;</span>           <span class="hljs-comment">///</span><br>   c.<span class="hljs-keyword">D</span>#c.yeardummy6  = <span class="hljs-string">&quot;0&quot;</span>             <span class="hljs-comment">///</span><br>   c.<span class="hljs-keyword">D</span>#c.yeardummy7  = <span class="hljs-string">&quot;1&quot;</span>              <span class="hljs-comment">///</span><br>   c.<span class="hljs-keyword">D</span>#c.yeardummy8  = <span class="hljs-string">&quot;2&quot;</span>              <span class="hljs-comment">///</span><br>   c.<span class="hljs-keyword">D</span>#c.yeardummy9  = <span class="hljs-string">&quot;3&quot;</span>              <span class="hljs-comment">///</span><br>   c.<span class="hljs-keyword">D</span>#c.yeardummy10 = <span class="hljs-string">&quot;4&quot;</span>)            <span class="hljs-comment">///</span><br>   vertical                             <span class="hljs-comment">///</span><br>   yline(0)                             <span class="hljs-comment">///</span><br>   ytitle(<span class="hljs-string">&quot;Coef&quot;</span>)                 <span class="hljs-comment">///</span><br>   xtitle(<span class="hljs-string">&quot;Time passage relative to year of adoption of implied contract exception&quot;</span>) <span class="hljs-comment">///</span><br>   msymbol(O) msize(small) mcolor(gs1) <span class="hljs-comment">///plot样式</span><br>   addplot(<span class="hljs-keyword">line</span> @b @at)                 <span class="hljs-comment">///增加点之间的连线</span><br>   ciopts(<span class="hljs-keyword">recast</span>(rline) lwidth(thin) lpattern(dash) lcolor(gs2))                  <span class="hljs-comment">///</span><br>   scheme(s1mono)<br><br>   <br>   <br><br>   <br><span class="hljs-comment">***1.5 安慰剂检验</span><br><span class="hljs-comment">*DID家族现在有便捷的安慰剂检验包 didplacebo 见陈强老师推文 https://mp.weixin.qq.com/s/egERxrpCFQyliH4FimCalQ</span><br><span class="hljs-comment">*安慰剂检验的本质：随机改变冲击的时间和被试样本</span><br><br><span class="hljs-comment">//方法1: 使用 didplacebo 一键进行时间、空间和混合安慰剂检验</span><br><br><span class="hljs-keyword">clear</span><br><span class="hljs-keyword">use</span> <span class="hljs-string">&quot;DID_test.dta&quot;</span><br><br>reghdfe y did x1 x2, absorb(id year) <span class="hljs-keyword">vce</span>(robust)<br><br><span class="hljs-keyword">estimates</span> store did_test<br><br>didplacebo did_test, treatvar(did) pbotime(1(1)4)<br>didplacebo did_test, treatvar(did) pbounit rep(500) seed(1)<br>didplacebo did_test, treatvar(did) pbomix(1) <span class="hljs-comment">//pbomix(1)表示适合于标准DID的混合安慰剂检验</span><br><br><span class="hljs-comment">//也可以同时进行时间、空间与混合安慰剂检验</span><br>didplacebo did_test, treatvar(did) pbotime(1(1)4) pbounit pbomix(1)<br><br><br><span class="hljs-comment">//方法2: 随机生成实验组（有了方法1，感觉方法2没啥用了）</span><br><span class="hljs-comment">*参见 https://www.lianxh.cn/details/731.html</span><br><span class="hljs-comment">*一行代码进行安慰剂检验 permute</span><br><br><span class="hljs-keyword">clear</span><br><span class="hljs-keyword">use</span> <span class="hljs-string">&quot;DID_test.dta&quot;</span><br><br><span class="hljs-keyword">permute</span> did _b[did], reps(1000) rseed(123): reghdfe y did x1 x2, absorb(id year) <span class="hljs-keyword">vce</span>(robust)<br><span class="hljs-comment">*did就是交互项</span><br><span class="hljs-comment">*reps(1000) 重复抽样1000次</span><br><br><span class="hljs-comment">//抽样1000，记录系数存入新数据集中</span><br><span class="hljs-keyword">permute</span> did beta = _b[did],  <span class="hljs-comment">///</span><br>        reps(1000) rseed(123) saving(<span class="hljs-string">&quot;simulations.dta&quot;</span>, <span class="hljs-keyword">replace</span>):  <span class="hljs-comment">///</span><br>        reghdfe y did x1 x2, absorb(id year) <span class="hljs-keyword">vce</span>(robust)<br><br><span class="hljs-comment">//图示系数</span><br><span class="hljs-keyword">use</span> <span class="hljs-string">&quot;simulations.dta&quot;</span>, <span class="hljs-keyword">clear</span><br>#delimit ;<br>dpplot beta, xline(10.02, lc(black*0.5) lp(dash))<br>             xline(0, lc(black*0.5) lp(solid))<br>             xtitle(<span class="hljs-string">&quot;Estimator&quot;</span>, size(*0.8)) <br>             xlabel(-5(1)5, <span class="hljs-keyword">format</span>(%4.1f) labsize(small))<br>             ytitle(<span class="hljs-string">&quot;Density&quot;</span>, size(*0.8)) <br>             ylabel(, nogrid <span class="hljs-keyword">format</span>(%4.1f) labsize(small)) <br>             <span class="hljs-keyword">note</span>(<span class="hljs-string">&quot;&quot;</span>) caption(<span class="hljs-string">&quot;&quot;</span>) <br>             graphregion(fcolor(white)) ;<br>#delimit cr<br><span class="hljs-keyword">graph</span> export <span class="hljs-string">&quot;安慰剂检验.png&quot;</span>, width(1000) <span class="hljs-keyword">replace</span><br><br><span class="hljs-comment">*系数分布在零的附近，且服从正态分布，就符合安慰剂检验的预期；在实际应用中，只需要真实的估计值在核密度图的尾部即可，如「刘瑞明, 毛宇, 亢延锟. 制度松绑、市场活力激发与旅游经济发展——来自中国文化体制改革的证据[J]. 经济研究, 2020, 55(01):115-131.」</span><br><br><span class="hljs-comment">*如果想使用老方法，重走旧时路，也是可以的：https://mp.weixin.qq.com/s/snYGfrWF5Cd_R3eZzIK3NA</span><br></code></pre></td></tr></table></figure><h3 id="staggered-did数据模拟分析与检验代码">6.2 StaggeredDID数据模拟、分析与检验代码</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br></pre></td><td class="code"><pre><code class="hljs stata"><span class="hljs-comment">*******************************************************************</span><br><span class="hljs-comment">************************** 二、Staggered DID ***********************</span><br><span class="hljs-comment">*******************************************************************</span><br><br><span class="hljs-comment">*在标准DID的各种变体里，交错DID是最重要的，因为现实中大量政策不是一次性推开的，而是先试点再推广。在DID的前沿进展研究与应用中，交错DID都是最重要的，因此，有必要系统学习交错DID的各项操作，面向Stata实践交错DID</span><br><br><span class="hljs-keyword">cd</span> <span class="hljs-string">&quot;/Users/yu/worklist/casual_inference/14-张宇 DID家族&quot;</span><br><span class="hljs-comment">*请替换成你的工作目录，或删除上面这一行，这样会选择默认工作目录</span><br><br><span class="hljs-comment">***2.1 所有个体最终都进入了实验组的情况</span><br><br><span class="hljs-comment">***2.1.1 交错DID的数据生成</span><br><br><span class="hljs-comment">///设定60个观测值，设定随机数种子</span><br><span class="hljs-keyword">clear</span> all<br><span class="hljs-keyword">set</span> obs 60 <br><span class="hljs-keyword">set</span> seed 10101<br><span class="hljs-keyword">gen</span> id =_n<br><br><span class="hljs-comment">/// 每一个数值的数量扩大11倍，再减去前六十个观测值，即60*11-60 = 600，为60个体10年的面板数据</span><br><span class="hljs-keyword">expand</span> 11<br><span class="hljs-keyword">drop</span> <span class="hljs-keyword">in</span> 1/60<br><span class="hljs-keyword">count</span><br><br><span class="hljs-comment">///以id分组生成时间标识</span><br><span class="hljs-keyword">bys</span> id: <span class="hljs-keyword">gen</span> time = _n+1999<br><span class="hljs-keyword">xtset</span> id time<br><br><span class="hljs-comment">///生成协变量以及个体和时间效应</span><br><span class="hljs-keyword">gen</span> x1 = rnormal(1,7)<br><span class="hljs-keyword">gen</span> x2 = rnormal(2,5)<br><br><span class="hljs-keyword">sort</span> time id<br><span class="hljs-keyword">by</span> time: <span class="hljs-keyword">gen</span> ind = _n<br><span class="hljs-keyword">sort</span> id time<br><br><span class="hljs-keyword">by</span> id: <span class="hljs-keyword">gen</span> T = _n<br><span class="hljs-keyword">gen</span> y = 0<br><br><span class="hljs-comment">///生成处理变量,此时D为Dit,设定1-20在2004年接受冲击，21-40为2006年，36-60为2008年</span><br><span class="hljs-keyword">gen</span> <span class="hljs-keyword">D</span> = 0<br><span class="hljs-keyword">gen</span> birth_date = 0<br><br><span class="hljs-keyword">forvalues</span> i = 1/20&#123;<br>    <span class="hljs-keyword">replace</span> <span class="hljs-keyword">D</span> = 1 <span class="hljs-keyword">if</span> id  == <span class="hljs-symbol">`i&#x27;</span> &amp; time &gt;= 2004<br>    <span class="hljs-keyword">replace</span> birth_date = 2004 <span class="hljs-keyword">if</span> id == <span class="hljs-symbol">`i&#x27;</span><br>&#125;<br><br><span class="hljs-keyword">forvalues</span> i = 21/40&#123;<br>    <span class="hljs-keyword">replace</span> <span class="hljs-keyword">D</span> = 1 <span class="hljs-keyword">if</span> id  == <span class="hljs-symbol">`i&#x27;</span> &amp; time &gt;= 2006<br>    <span class="hljs-keyword">replace</span> birth_date = 2006 <span class="hljs-keyword">if</span> id == <span class="hljs-symbol">`i&#x27;</span><br>&#125;<br><br><span class="hljs-keyword">forvalues</span> i = 41/60&#123;<br>    <span class="hljs-keyword">replace</span> <span class="hljs-keyword">D</span> = 1 <span class="hljs-keyword">if</span> id  == <span class="hljs-symbol">`i&#x27;</span> &amp; time &gt;= 2008<br>    <span class="hljs-keyword">replace</span> birth_date = 2008 <span class="hljs-keyword">if</span> id == <span class="hljs-symbol">`i&#x27;</span><br>&#125;<br><br><span class="hljs-comment">///将基础数据结构保存成dta文件，Staggered_DID_Basic_Simu1.dta,默认保存在当前的 working directory 路径下</span><br><br><span class="hljs-keyword">save</span> <span class="hljs-string">&quot;Staggered_DID_Basic_Simu1.dta&quot;</span>, <span class="hljs-keyword">replace</span><br><br><br><br><br><br><span class="hljs-comment">***2.1.2 政策效果不随时间发生变化的Staggered DID</span><br><br><span class="hljs-comment">///调用生成的基础数据文件</span><br><span class="hljs-keyword">clear</span><br><span class="hljs-keyword">use</span> <span class="hljs-string">&quot;Staggered_DID_Basic_Simu1.dta&quot;</span><br><br><span class="hljs-comment">///Y的生成，使得接受冲击的个体的政策真实效果为10</span><br><span class="hljs-keyword">bysort</span> id: <span class="hljs-keyword">gen</span> y0 = 10  + 5 * x1 + 3 * x2 + T + ind  + rnormal()<br><span class="hljs-keyword">bysort</span> id: <span class="hljs-keyword">gen</span> y1 = 10  + 5 * x1 + 3 * x2 + T + ind  + 10 + rnormal() <span class="hljs-keyword">if</span> time &gt;= 2004 &amp; id &gt;= 1 &amp; id &lt;= 20<br><span class="hljs-keyword">bysort</span> id: <span class="hljs-keyword">replace</span> y1 = 10  + 5 * x1 + 3 * x2 + T + ind  + 10 + rnormal() <span class="hljs-keyword">if</span> time &gt;= 2006 &amp; id &gt;= 21 &amp; id &lt;= 40<br><span class="hljs-keyword">bysort</span> id: <span class="hljs-keyword">replace</span> y1 = 10  + 5 * x1 + 3 * x2 + T + ind  + 10 + rnormal() <span class="hljs-keyword">if</span> time &gt;= 2008 &amp; id &gt;= 41 &amp; id &lt;= 60<br><span class="hljs-keyword">bysort</span> id: <span class="hljs-keyword">replace</span> y1 = 10  + 5 * x1 + 3 * x2 + T + ind  + rnormal() <span class="hljs-keyword">if</span> y1 == .<br><br><span class="hljs-keyword">replace</span> y = y0 + <span class="hljs-keyword">D</span> * (y1 - y0)<br><br><span class="hljs-comment">///去除个体效应和协变量对Y的影响，得到残差并画图</span><br><span class="hljs-keyword">xtreg</span> y x1 x2 , fe r<br><span class="hljs-keyword">predict</span> <span class="hljs-keyword">e</span>, ue<br>binscatter <span class="hljs-keyword">e</span> time, <span class="hljs-keyword">line</span>(connect) <span class="hljs-keyword">by</span>(<span class="hljs-keyword">D</span>)<br><br><span class="hljs-comment">///输出生成的图片，令格式为800*600</span><br><span class="hljs-keyword">graph</span> export <span class="hljs-string">&quot;article2_1.png&quot;</span>,<span class="hljs-keyword">as</span>(png) <span class="hljs-keyword">replace</span> width(800) height(600)<br><br><span class="hljs-comment">//计算处理效应</span><br>reghdfe y c.<span class="hljs-keyword">D</span> x1 x2, absorb(id time) <span class="hljs-keyword">vce</span>(robust)<br><br><span class="hljs-comment">//用事件研究法看看</span><br><span class="hljs-comment">///用当前年份减去个体接受处理的年份，得到相对的时间值event，将 -4 期之前的时间归并到第 -4 期，由于部分个体没有多于 -4 期的时间</span><br><span class="hljs-comment">///然后生成相对时间值的虚拟变量，eventt，并将首期设定为基准对照组</span><br><span class="hljs-keyword">gen</span> event = time - birth_date<br><span class="hljs-keyword">replace</span> event = -4 <span class="hljs-keyword">if</span> event &lt;= -4<br><span class="hljs-keyword">tab</span> event, <span class="hljs-keyword">gen</span>(eventt)<br><span class="hljs-keyword">drop</span> eventt1 <span class="hljs-comment">//这里的操作就是将第一期作为基准期，不加这一步的话，第一期会被omitted，好像也可以</span><br><br><span class="hljs-keyword">xtreg</span> y eventt* x1 x2 i.time, r fe<br><br><span class="hljs-comment">/*其实下面这样操作也可以</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">gen tt = event + 5</span><br><span class="hljs-comment">reghdfe y i.tt x1 x2, absorb(id time) vce(robust)</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">*/</span><br><br>coefplot, <span class="hljs-comment">///</span><br>   <span class="hljs-keyword">keep</span>(eventt*)  <span class="hljs-comment">///</span><br>   coeflabels(eventt2 = <span class="hljs-string">&quot;-3&quot;</span>   <span class="hljs-comment">///</span><br>   eventt3 = <span class="hljs-string">&quot;-2&quot;</span>             <span class="hljs-comment">///</span><br>   eventt4 = <span class="hljs-string">&quot;-1&quot;</span>             <span class="hljs-comment">///</span><br>   eventt5 = <span class="hljs-string">&quot;0&quot;</span>              <span class="hljs-comment">///</span><br>   eventt6  = <span class="hljs-string">&quot;1&quot;</span>             <span class="hljs-comment">///</span><br>   eventt7  = <span class="hljs-string">&quot;2&quot;</span>             <span class="hljs-comment">///</span><br>   eventt8  = <span class="hljs-string">&quot;3&quot;</span>             <span class="hljs-comment">///</span><br>   eventt9  = <span class="hljs-string">&quot;4&quot;</span>             <span class="hljs-comment">///</span><br>   eventt10 = <span class="hljs-string">&quot;5&quot;</span>)           <span class="hljs-comment">///</span><br>   vertical                       <span class="hljs-comment">///</span><br>   yline(0)                       <span class="hljs-comment">///</span><br>   ytitle(<span class="hljs-string">&quot;Coef&quot;</span>)               <span class="hljs-comment">///</span><br>   xtitle(<span class="hljs-string">&quot;Time passage relative to year of adoption of implied contract exception&quot;</span>) <span class="hljs-comment">///</span><br>   addplot(<span class="hljs-keyword">line</span> @b @at)                 <span class="hljs-comment">///</span><br>   ciopts(<span class="hljs-keyword">recast</span>(rcap))                 <span class="hljs-comment">///</span><br>   scheme(s1mono)<br><br><span class="hljs-comment">///输出生成的图片，令格式为800*600</span><br><span class="hljs-keyword">graph</span> export <span class="hljs-string">&quot;article2_2.png&quot;</span>,<span class="hljs-keyword">as</span>(png) <span class="hljs-keyword">replace</span> width(800) height(600)<br><br><br><br><br><span class="hljs-comment">***2.1.3 政策效果随时间发生变化的Staggered DID</span><br><br><span class="hljs-comment">///调用生成的基础数据文件</span><br><span class="hljs-keyword">clear</span><br><span class="hljs-keyword">use</span> <span class="hljs-string">&quot;Staggered_DID_Basic_Simu1.dta&quot;</span><br><br><span class="hljs-comment">///Y的生成，设定真实的政策效果为当年为3，并且每年增加3</span><br><span class="hljs-keyword">bysort</span> id: <span class="hljs-keyword">gen</span> y0 = 10  + 5 * x1 + 3 * x2 + T + ind + rnormal()<br><span class="hljs-keyword">bysort</span> id: <span class="hljs-keyword">gen</span> y1 = 10  + 5 * x1 + 3 * x2 + T + ind  + (time - birth + 1 ) * 3 + rnormal() <span class="hljs-keyword">if</span> time &gt;= 2004 &amp; id &gt;= 1 &amp; id &lt;= 20<br><span class="hljs-keyword">bysort</span> id: <span class="hljs-keyword">replace</span> y1 = 10  + 5 * x1 + 3 * x2 +  T + ind  + (time - birth + 1 ) * 3  + rnormal() <span class="hljs-keyword">if</span> time &gt;= 2006 &amp; id &gt;= 21 &amp; id &lt;= 40<br><span class="hljs-keyword">bysort</span> id: <span class="hljs-keyword">replace</span> y1 = 10  + 5 * x1 + 3 * x2 +  T + ind  + (time - birth + 1 ) * 3  + rnormal() <span class="hljs-keyword">if</span> time &gt;= 2008 &amp; id &gt;= 41 &amp; id &lt;= 60<br><span class="hljs-keyword">bysort</span> id: <span class="hljs-keyword">replace</span> y1 = 10  + 5 * x1 + 3 * x2 +  T + ind  + rnormal() <span class="hljs-keyword">if</span> y1 == .<br><br><span class="hljs-keyword">replace</span> y = y0 + <span class="hljs-keyword">D</span> * (y1 - y0)<br><br><span class="hljs-comment">///去除个体效应和协变量对Y的影响，得到残差并画图</span><br><span class="hljs-keyword">xtreg</span> y x1 x2 , fe r<br><span class="hljs-keyword">predict</span> <span class="hljs-keyword">e</span>, ue<br>binscatter <span class="hljs-keyword">e</span> time, <span class="hljs-keyword">line</span>(connect) <span class="hljs-keyword">by</span>(<span class="hljs-keyword">D</span>)<br><br><span class="hljs-comment">///输出生成的图片，令格式为800*600</span><br><span class="hljs-keyword">graph</span> export <span class="hljs-string">&quot;article2_3.png&quot;</span>,<span class="hljs-keyword">as</span>(png) <span class="hljs-keyword">replace</span> width(800) height(600)<br><br><span class="hljs-comment">//计算处理效应</span><br>reghdfe y c.<span class="hljs-keyword">D</span> x1 x2, absorb(id time) <span class="hljs-keyword">vce</span>(robust)<br><br><span class="hljs-comment">//用事件研究法看看</span><br><span class="hljs-comment">///用当前年份减去个体接受处理的年份，得到相对的时间值 event，将 -4 期之前的时间归并到第 -4 期，由于部分个体没有多于 -4 期的时间</span><br><span class="hljs-comment">///然后生成相对时间值的虚拟变量，eventt，并将首期设定为基准对照组</span><br><br><span class="hljs-keyword">gen</span> event = time - birth_date<br><span class="hljs-keyword">replace</span> event = -4 <span class="hljs-keyword">if</span> event &lt;= -4<br><span class="hljs-keyword">tab</span> event, <span class="hljs-keyword">gen</span>(eventt)<br><span class="hljs-keyword">drop</span> eventt1<br><br><span class="hljs-keyword">xtreg</span> y eventt* x1 x2 i.time, r fe<br><br>coefplot, <span class="hljs-comment">///</span><br>   <span class="hljs-keyword">keep</span>(eventt*)  <span class="hljs-comment">///</span><br>   coeflabels(eventt2 = <span class="hljs-string">&quot;-3&quot;</span>   <span class="hljs-comment">///</span><br>   eventt3 = <span class="hljs-string">&quot;-2&quot;</span>           <span class="hljs-comment">///</span><br>   eventt4 = <span class="hljs-string">&quot;-1&quot;</span>           <span class="hljs-comment">///</span><br>   eventt5 = <span class="hljs-string">&quot;0&quot;</span>           <span class="hljs-comment">///</span><br>   eventt6  = <span class="hljs-string">&quot;1&quot;</span>             <span class="hljs-comment">///</span><br>   eventt7  = <span class="hljs-string">&quot;2&quot;</span>              <span class="hljs-comment">///</span><br>   eventt8  = <span class="hljs-string">&quot;3&quot;</span>              <span class="hljs-comment">///</span><br>   eventt9  = <span class="hljs-string">&quot;4&quot;</span>              <span class="hljs-comment">///</span><br>   eventt10 = <span class="hljs-string">&quot;5&quot;</span>)            <span class="hljs-comment">///</span><br>   vertical                             <span class="hljs-comment">///</span><br>   yline(0)                             <span class="hljs-comment">///</span><br>   ytitle(<span class="hljs-string">&quot;Coef&quot;</span>)                 <span class="hljs-comment">///</span><br>   xtitle(<span class="hljs-string">&quot;Time passage relative to year of adoption of implied contract exception&quot;</span>) <span class="hljs-comment">///</span><br>   addplot(<span class="hljs-keyword">line</span> @b @at)                 <span class="hljs-comment">///</span><br>   ciopts(<span class="hljs-keyword">recast</span>(rcap))                 <span class="hljs-comment">///</span><br>   scheme(s1mono)<br><br><span class="hljs-comment">///输出生成的图片，令格式为800*600</span><br><span class="hljs-keyword">graph</span> export <span class="hljs-string">&quot;article2_4.png&quot;</span>,<span class="hljs-keyword">as</span>(png) <span class="hljs-keyword">replace</span> width(800) height(600)<br><br><br><br><br><br><span class="hljs-comment">***2.2 有样本始终没有进入处理组的情况</span><br><br><span class="hljs-comment">***2.2.1 交错DID的数据生成</span><br><br><span class="hljs-comment">///设定60个观测值，设定随机数种子</span><br><span class="hljs-keyword">clear</span> all<br><span class="hljs-keyword">set</span> obs 60 <br><span class="hljs-keyword">set</span> seed 10101<br><span class="hljs-keyword">gen</span> id =_n<br><br><span class="hljs-comment">/// 每一个数值的数量扩大11倍，再减去前六十个观测值，即60*11-60 = 600，为60个体10年的面板数据</span><br><span class="hljs-keyword">expand</span> 11<br><span class="hljs-keyword">drop</span> <span class="hljs-keyword">in</span> 1/60<br><span class="hljs-keyword">count</span><br><br><span class="hljs-comment">///以id分组生成时间标识</span><br><span class="hljs-keyword">bys</span> id: <span class="hljs-keyword">gen</span> time = _n+1999<br><span class="hljs-keyword">xtset</span> id time<br><br><span class="hljs-comment">///生成协变量以及个体和时间效应</span><br><span class="hljs-keyword">gen</span> x1 = rnormal(1,7)<br><span class="hljs-keyword">gen</span> x2 = rnormal(2,5)<br><br><span class="hljs-keyword">sort</span> time id<br><span class="hljs-keyword">by</span> time: <span class="hljs-keyword">gen</span> ind = _n<br><span class="hljs-keyword">sort</span> id time<br><span class="hljs-keyword">by</span> id: <span class="hljs-keyword">gen</span> T = _n<br><span class="hljs-keyword">gen</span> y = 0<br><br><span class="hljs-comment">///生成处理变量,此时D为Dit,设定1-20在2004年接受冲击，21-40为2006年，41-60个体一直不接受干预</span><br><br><span class="hljs-keyword">gen</span> <span class="hljs-keyword">D</span> = 0<br><span class="hljs-keyword">gen</span> birth_date = 0<br><span class="hljs-keyword">gen</span> <span class="hljs-keyword">G</span> = 0<br><br><span class="hljs-keyword">forvalues</span> i = 1/20&#123;<br><span class="hljs-keyword">replace</span> <span class="hljs-keyword">D</span> = 1 <span class="hljs-keyword">if</span> id  == <span class="hljs-symbol">`i&#x27;</span> &amp; time &gt;= 2004<br><span class="hljs-keyword">replace</span> birth_date = 2004 <span class="hljs-keyword">if</span> id == <span class="hljs-symbol">`i&#x27;</span><br>    <span class="hljs-keyword">replace</span>  <span class="hljs-keyword">G</span> = 1 <span class="hljs-keyword">if</span> id == <span class="hljs-symbol">`i&#x27;</span><br>&#125;<br><br><span class="hljs-keyword">forvalues</span> i = 21/40&#123;<br><span class="hljs-keyword">replace</span> <span class="hljs-keyword">D</span> = 1 <span class="hljs-keyword">if</span> id  == <span class="hljs-symbol">`i&#x27;</span> &amp; time &gt;= 2006<br><span class="hljs-keyword">replace</span> birth_date = 2006 <span class="hljs-keyword">if</span> id == <span class="hljs-symbol">`i&#x27;</span><br>    <span class="hljs-keyword">replace</span>  <span class="hljs-keyword">G</span> = 2 <span class="hljs-keyword">if</span> id == <span class="hljs-symbol">`i&#x27;</span><br>&#125;<br><br><span class="hljs-comment">///将基础数据结构保存成dta文件，Staggered_DID_Basic_Simu2.dta,默认保存在当前的 working directory 路径下</span><br><br><span class="hljs-keyword">save</span> <span class="hljs-string">&quot;Staggered_DID_Basic_Simu2.dta&quot;</span>, <span class="hljs-keyword">replace</span><br><br><br><br><br><br><span class="hljs-comment">***2.2.2 政策效果随时间发生改变</span><br><br><span class="hljs-comment">///调用生成的基础数据文件</span><br><span class="hljs-keyword">use</span> <span class="hljs-string">&quot;Staggered_DID_Basic_Simu2.dta&quot;</span>, <span class="hljs-keyword">clear</span> <br><br><span class="hljs-comment">///Y的生成，设定真实的政策效果为当年为3，并且每年增加3</span><br><span class="hljs-keyword">bysort</span> id: <span class="hljs-keyword">gen</span>     y0 = 10 + 5*x1 + 3*x2 + T + ind + rnormal()<br><span class="hljs-keyword">bysort</span> id: <span class="hljs-keyword">gen</span>     y1 = 10 + 5*x1 + 3*x2 + T + ind + (time - birth_date + 1) * 3 + rnormal() <span class="hljs-keyword">if</span> time &gt;= 2004 &amp; id &gt;= 1 &amp; id &lt;= 20<br><span class="hljs-keyword">bysort</span> id: <span class="hljs-keyword">replace</span> y1 = 10 + 5*x1 + 3*x2 + T + ind + (time - birth_date + 1) * 3 + rnormal() <span class="hljs-keyword">if</span> time &gt;= 2006 &amp; id &gt;= 21 &amp; id &lt;= 40<br><span class="hljs-keyword">bysort</span> id: <span class="hljs-keyword">replace</span> y1 = 10 + 5*x1 + 3*x2 + T + ind + rnormal() <span class="hljs-keyword">if</span> y1 == .<br><br><span class="hljs-keyword">replace</span> y = y0 + <span class="hljs-keyword">D</span> * (y1 - y0)<br><br><span class="hljs-comment">///去除个体效应和协变量对Y的影响，得到残差并画图</span><br><span class="hljs-keyword">xtreg</span> y x1 x2 , fe r<br><span class="hljs-keyword">predict</span> <span class="hljs-keyword">e</span>, ue<br>binscatter <span class="hljs-keyword">e</span> time, <span class="hljs-keyword">line</span>(connect) <span class="hljs-keyword">by</span>(<span class="hljs-keyword">G</span>)<br><br><span class="hljs-comment">///输出生成的图片，令格式为800*600</span><br><span class="hljs-keyword">graph</span> export <span class="hljs-string">&quot;article_3.png&quot;</span>, <span class="hljs-keyword">as</span>(png) <span class="hljs-keyword">replace</span> width(800) height(600)<br><br><span class="hljs-comment">//计算处理效应</span><br>reghdfe y c.<span class="hljs-keyword">D</span> x1 x2, absorb(id time) <span class="hljs-keyword">vce</span>(robust)<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">//也用xthdidiregress命令看看,Stata18的新命令，这部分我没看懂，因此下面的结果不可信,更多资料见Stata关于该命令的官方文档或https://mp.weixin.qq.com/s/_wz283xgl56MMsYY1GVguQ 或陈强老师的公众号 https://mp.weixin.qq.com/s/mgXcnGESfm0PnrZetowj9w</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">xthdidregress aipw (y x1 x2) (D), group(id)</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">//每个群组的ATT的时间分布</span><br><span class="hljs-comment">estat atetplot, sci</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">//计算每个组群在时间内的ATT</span><br><span class="hljs-comment">estat aggregation, cohort graph</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-comment">//用事件研究法看看</span><br><span class="hljs-comment">///用当前年份减去个体接受处理的年份，得到相对的时间值 event，将 -4 期之前的时间归并到第 -4 期，由于部分个体没有多于 -4 期的时间</span><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">在设定相对时间值的时候，我们会发现如果存在一直在控制组的个体，那么对于这些个体的相对时间进行赋值就是一个难题——因为它一直没有接受干预，那么自然就不存在有政策前 N 期和政策后 N 期。因此无论将其赋值成什么都会造成问题，那么将此类个体的相对时间设定成缺失值是不是可以呢？答案是不可以。因为将这些个体的相对时间值设定为缺失值，会导致这些个体的相对时间值的虚拟变量也会是缺失值。这进一步会使得 ESA 方程可用的个体仅剩下了样本中的实验组个体，那么自然也无法实现我们想要的估计出每年度的政策效果，进而对平行趋势进行检验的目的。</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">那么如何来解决这个问题呢？最简单的办法就是在生成每一个个体的相对时间值的虚拟变量后，我们可以手动将虚拟变量中的缺失值赋值为0。这样就可以在回归中利用上这些个体。另外，将这些个体的缺失值赋值为0还可以表示它们是控制组个体。</span><br><span class="hljs-comment">*/</span><br><span class="hljs-comment">///由于存在一直处于控制组的个体，因此 event 变量对于这些个体为缺失值</span><br><span class="hljs-comment">///然后生成相对时间值的虚拟变量 eventt，对于一直存在控制组的个体 eventt 虚拟变量的值全取为 0 ，并将首期设定为基准对照组</span><br><br><span class="hljs-keyword">gen</span> event = time - birth_date <span class="hljs-keyword">if</span> id &lt;= 40<br><br><span class="hljs-keyword">replace</span> event = -4 <span class="hljs-keyword">if</span> event &lt;= -4<br><span class="hljs-keyword">tab</span> event, <span class="hljs-keyword">gen</span>(eventt)<br><br><span class="hljs-keyword">forvalues</span> i = 1/10&#123;<br><span class="hljs-keyword">replace</span> eventt<span class="hljs-symbol">`i&#x27;</span> = 0 <span class="hljs-keyword">if</span> eventt<span class="hljs-symbol">`i&#x27;</span> == .<br>&#125;<br><br><span class="hljs-keyword">drop</span> eventt1<br><br>reghdfe y eventt* x1 x2, absorb(id time) <span class="hljs-keyword">vce</span>(robust)<br><br><span class="hljs-comment">///图示法</span><br>coefplot, <span class="hljs-comment">///</span><br>   <span class="hljs-keyword">keep</span>(eventt*)  <span class="hljs-comment">///</span><br>   coeflabels(eventt2 = <span class="hljs-string">&quot;-3&quot;</span>   <span class="hljs-comment">///</span><br>   eventt3 = <span class="hljs-string">&quot;-2&quot;</span>           <span class="hljs-comment">///</span><br>   eventt4 = <span class="hljs-string">&quot;-1&quot;</span>           <span class="hljs-comment">///</span><br>   eventt5 = <span class="hljs-string">&quot;0&quot;</span>           <span class="hljs-comment">///</span><br>   eventt6  = <span class="hljs-string">&quot;1&quot;</span>             <span class="hljs-comment">///</span><br>   eventt7  = <span class="hljs-string">&quot;2&quot;</span>              <span class="hljs-comment">///</span><br>   eventt8  = <span class="hljs-string">&quot;3&quot;</span>              <span class="hljs-comment">///</span><br>   eventt9  = <span class="hljs-string">&quot;4&quot;</span>              <span class="hljs-comment">///</span><br>   eventt10 = <span class="hljs-string">&quot;5&quot;</span>)            <span class="hljs-comment">///</span><br>   vertical                             <span class="hljs-comment">///</span><br>   yline(0)                             <span class="hljs-comment">///</span><br>   ytitle(<span class="hljs-string">&quot;Coef&quot;</span>)                 <span class="hljs-comment">///</span><br>   xtitle(<span class="hljs-string">&quot;Time passage relative to year of adoption of implied contract exception&quot;</span>) <span class="hljs-comment">///</span><br>   addplot(<span class="hljs-keyword">line</span> @b @at)                 <span class="hljs-comment">///</span><br>   ciopts(<span class="hljs-keyword">recast</span>(rcap))                 <span class="hljs-comment">///</span><br>   <span class="hljs-comment">///rescale(100)                         ///</span><br>   scheme(s1mono)<br><br><span class="hljs-comment">///输出生成的图片，令格式为800*600&gt; </span><br><span class="hljs-keyword">graph</span> export <span class="hljs-string">&quot;article3_3.png&quot;</span>,<span class="hljs-keyword">as</span>(png) <span class="hljs-keyword">replace</span> width(800) height(600)<br><br><br><br><br><br><span class="hljs-comment">***2.2.3 也来试试安慰剂检验 （对于处理效应随时间而变的情形，didplacebo其实是不适用的，此处仅运行看看代码）</span><br><span class="hljs-comment">//方法1: 使用 didplacebo 一键进行时间、空间和混合安慰剂检验</span><br><br><span class="hljs-keyword">clear</span><br><span class="hljs-keyword">use</span> <span class="hljs-string">&quot;Staggered_DID_Basic_Simu2.dta&quot;</span><br><br><span class="hljs-comment">///Y的生成，设定真实的政策效果为当年为3，并且每年增加3</span><br><span class="hljs-keyword">bysort</span> id: <span class="hljs-keyword">gen</span>     y0 = 10 + 5*x1 + 3*x2 + T + ind + rnormal()<br><span class="hljs-keyword">bysort</span> id: <span class="hljs-keyword">gen</span>     y1 = 10 + 5*x1 + 3*x2 + T + ind + (time - birth_date + 1) * 3 + rnormal() <span class="hljs-keyword">if</span> time &gt;= 2004 &amp; id &gt;= 1 &amp; id &lt;= 20<br><span class="hljs-keyword">bysort</span> id: <span class="hljs-keyword">replace</span> y1 = 10 + 5*x1 + 3*x2 + T + ind + (time - birth_date + 1) * 3 + rnormal() <span class="hljs-keyword">if</span> time &gt;= 2006 &amp; id &gt;= 21 &amp; id &lt;= 40<br><span class="hljs-keyword">bysort</span> id: <span class="hljs-keyword">replace</span> y1 = 10 + 5*x1 + 3*x2 + T + ind + rnormal() <span class="hljs-keyword">if</span> y1 == .<br><br><span class="hljs-keyword">replace</span> y = y0 + <span class="hljs-keyword">D</span> * (y1 - y0)<br><br><br>reghdfe y <span class="hljs-keyword">D</span> x1 x2, absorb(id time) <span class="hljs-keyword">vce</span>(robust)<br><br><span class="hljs-keyword">estimates</span> store did_test<br><br>didplacebo did_test, treatvar(<span class="hljs-keyword">D</span>) pbotime(1(1)4)<br>didplacebo did_test, treatvar(<span class="hljs-keyword">D</span>) pbounit rep(500) seed(1)<br>didplacebo did_test, treatvar(<span class="hljs-keyword">D</span>) pbomix(2) <span class="hljs-comment">//选择项&quot;pbomix(2)&quot;表示以无约束（unrestricted）的方式（version 2），进行适合于交叠DID的混合安慰剂检验,详见陈强老师公众号推文https://mp.weixin.qq.com/s/3dDjSqLfq04aXE0YiEHLFA</span><br>didplacebo did_test, treatvar(<span class="hljs-keyword">D</span>) pbomix(3) <span class="hljs-comment">//选择项&quot;pbomix(3)&quot;表示针对交叠DID模型，进行有约束的混合安慰剂检验（version 3），以保持组群结构。详见陈强老师公众号推文https://mp.weixin.qq.com/s/3dDjSqLfq04aXE0YiEHLFA</span><br><br><br><br><span class="hljs-comment">//也可以同时进行时间、空间与混合安慰剂检验</span><br>didplacebo did_test, treatvar(<span class="hljs-keyword">D</span>) pbotime(1(1)4) pbounit pbomix(3)<br><br><br><span class="hljs-comment">//方法2: 随机生成实验组（有了方法1，感觉方法2没啥用了）</span><br><span class="hljs-comment">*参见 https://www.lianxh.cn/details/731.html</span><br><span class="hljs-comment">*一行代码进行安慰剂检验 permute</span><br><br><span class="hljs-keyword">clear</span><br><span class="hljs-keyword">use</span> <span class="hljs-string">&quot;Staggered_DID_Basic_Simu2.dta&quot;</span><br><br><span class="hljs-comment">///Y的生成，设定真实的政策效果为当年为3，并且每年增加3</span><br><span class="hljs-keyword">bysort</span> id: <span class="hljs-keyword">gen</span>     y0 = 10 + 5*x1 + 3*x2 + T + ind + rnormal()<br><span class="hljs-keyword">bysort</span> id: <span class="hljs-keyword">gen</span>     y1 = 10 + 5*x1 + 3*x2 + T + ind + (time - birth_date + 1) * 3 + rnormal() <span class="hljs-keyword">if</span> time &gt;= 2004 &amp; id &gt;= 1 &amp; id &lt;= 20<br><span class="hljs-keyword">bysort</span> id: <span class="hljs-keyword">replace</span> y1 = 10 + 5*x1 + 3*x2 + T + ind + (time - birth_date + 1) * 3 + rnormal() <span class="hljs-keyword">if</span> time &gt;= 2006 &amp; id &gt;= 21 &amp; id &lt;= 40<br><span class="hljs-keyword">bysort</span> id: <span class="hljs-keyword">replace</span> y1 = 10 + 5*x1 + 3*x2 + T + ind + rnormal() <span class="hljs-keyword">if</span> y1 == .<br><br><span class="hljs-keyword">replace</span> y = y0 + <span class="hljs-keyword">D</span> * (y1 - y0)<br><br><span class="hljs-keyword">permute</span> <span class="hljs-keyword">D</span> _b[<span class="hljs-keyword">D</span>], reps(1000) rseed(123): reghdfe y <span class="hljs-keyword">D</span> x1 x2, absorb(id time) <span class="hljs-keyword">vce</span>(robust)<br><span class="hljs-comment">*did就是交互项</span><br><span class="hljs-comment">*reps(1000) 重复抽样1000次</span><br><br><span class="hljs-comment">//抽样1000，记录系数存入新数据集中</span><br><span class="hljs-keyword">permute</span> <span class="hljs-keyword">D</span> beta = _b[<span class="hljs-keyword">D</span>],  <span class="hljs-comment">///</span><br>        reps(1000) rseed(123) saving(<span class="hljs-string">&quot;simulations2.dta&quot;</span>, <span class="hljs-keyword">replace</span>):  <span class="hljs-comment">///</span><br>        reghdfe y <span class="hljs-keyword">D</span> x1 x2, absorb(id time) <span class="hljs-keyword">vce</span>(robust)<br><br><span class="hljs-comment">//图示系数</span><br><span class="hljs-keyword">use</span> <span class="hljs-string">&quot;simulations2.dta&quot;</span>, <span class="hljs-keyword">clear</span><br>#delimit ;<br>dpplot beta, xline(10.02, lc(black*0.5) lp(dash))<br>             xline(0, lc(black*0.5) lp(solid))<br>             xtitle(<span class="hljs-string">&quot;Estimator&quot;</span>, size(*0.8)) <br>             xlabel(-5(1)5, <span class="hljs-keyword">format</span>(%4.1f) labsize(small))<br>             ytitle(<span class="hljs-string">&quot;Density&quot;</span>, size(*0.8)) <br>             ylabel(, nogrid <span class="hljs-keyword">format</span>(%4.1f) labsize(small)) <br>             <span class="hljs-keyword">note</span>(<span class="hljs-string">&quot;&quot;</span>) caption(<span class="hljs-string">&quot;&quot;</span>) <br>             graphregion(fcolor(white)) ;<br>#delimit cr<br><span class="hljs-keyword">graph</span> export <span class="hljs-string">&quot;安慰剂检验2.png&quot;</span>, width(1000) <span class="hljs-keyword">replace</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>DID</tag>
      
      <tag>因果推断</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CIT5-人类行为之决定 官员行为与合作行为论文共读</title>
    <link href="/2023/10/14/CIT5_20231014/"/>
    <url>/2023/10/14/CIT5_20231014/</url>
    
    <content type="html"><![CDATA[<p>本期介绍的两篇文章的共同点是它们都关注人类行为的决定因素，都发表在EJ上，都是中国故事。</p><p>第一篇讲述了官员早期饥荒经历对其任职区县一把手时财政支出偏向的影响，第二篇基于实地试验，表明合作行为的起源与水稻种植有关，是Science那篇水稻和小麦论文的延续。第一篇的主要方法是队列DID，论文也提供了全部的代码，可供新手上手学习。</p><iframe src="/myjs/pdfjs/web/viewer.html?file=/pdf/20231014-早年经历与官员行为和水稻种植与合作行为的起源.pdf" style="width:100%;height:800px"></iframe>]]></content>
    
    
    
    <tags>
      
      <tag>DID</tag>
      
      <tag>因果推断</tag>
      
      <tag>人类行为</tag>
      
      <tag>队列DID</tag>
      
      <tag>RCT</tag>
      
      <tag>实验经济学</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CIT5-历史生育率转变-RES和EJ论文共读</title>
    <link href="/2023/09/23/CIT5_20230923/"/>
    <url>/2023/09/23/CIT5_20230923/</url>
    
    <content type="html"><![CDATA[<p>本期Pre了两篇和历史生育率转变有关的论文，分别是英国文化圈的低生育率扩散与欧陆地区生育率下降沿着与法国文化距离的远近而传播，两篇论文都非常有意思！</p><iframe src="/myjs/pdfjs/web/viewer.html?file=/pdf/20230923-历史生育率转变.pdf" style="width:100%;height:800px"></iframe>]]></content>
    
    
    
    <tags>
      
      <tag>DID</tag>
      
      <tag>因果推断</tag>
      
      <tag>生育率</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CIT5-断点回归设计基本原理、代码实现与文章解读</title>
    <link href="/2023/07/22/CIT5_20230722/"/>
    <url>/2023/07/22/CIT5_20230722/</url>
    
    <content type="html"><![CDATA[<p>本期CasualInference读书会和大家交流了断点回归设计的基本原理和代码实现，并重点解析了马光荣老师等发表在JPubE上的空间断点<ahref="https://doi.org/10.1016/j.jpubeco.2020.104352">论文</a>，该文提供了部分代码，故事也很有趣，值得细读！</p><iframe src="/myjs/pdfjs/web/viewer.html?file=/pdf/20230722-RDD.pdf" style="width:100%;height:800px"></iframe>]]></content>
    
    
    
    <tags>
      
      <tag>因果推断</tag>
      
      <tag>断点回归</tag>
      
      <tag>RDD</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>学科相关期刊主页及资源站</title>
    <link href="/2023/06/22/%E5%AD%A6%E7%A7%91%E7%9B%B8%E5%85%B3%E6%9C%9F%E5%88%8A%E4%B8%BB%E9%A1%B5/"/>
    <url>/2023/06/22/%E5%AD%A6%E7%A7%91%E7%9B%B8%E5%85%B3%E6%9C%9F%E5%88%8A%E4%B8%BB%E9%A1%B5/</url>
    
    <content type="html"><![CDATA[<h4 id="经济学">经济学</h4><ul><li><a href="https://academic.oup.com/qje">Quarterly Journal ofEconomics</a></li><li><a href="https://www.aeaweb.org/journals/AER">American EconomicReview</a></li><li><a href="https://www.journals.uchicago.edu/toc/jpe/current">Journalof Political Economy</a></li><li><a href="https://academic.oup.com/restud">Review of EconomicStudies</a></li><li><ahref="https://onlinelibrary.wiley.com/journal/14680262">Econometrica</a></li><li><a href="https://academic.oup.com/ej">Economic Journal</a></li><li><a href="https://direct.mit.edu/rest">Review of Economics andStatistics</a></li><li><ahref="https://www.sciencedirect.com/journal/journal-of-development-economics">Journalof Development Economics</a></li><li><ahref="https://www.sciencedirect.com/journal/journal-of-public-economics">Journalof Public Economics</a></li><li><ahref="https://www.sciencedirect.com/journal/journal-of-econometrics">Journalof Econometrics</a></li><li><a href="https://www.journals.uchicago.edu/toc/jole/current">Journalof Labor Economics</a></li><li><ahref="https://www.sciencedirect.com/journal/journal-of-urban-economics">Journalof Urban Economics</a></li><li><a href="https://www.aeaweb.org/journals/app">American EconomicJournal: Applied Economics</a></li><li><a href="https://www.aeaweb.org/journals/pol">American EconomicJournal: Economic Policy</a></li><li><a href="https://www.aeaweb.org/journals/mac">American EconomicJournal: Macroeconomics</a></li><li><a href="https://www.aeaweb.org/journals/mic">American EconomicJournal: Microeconomics</a></li><li><ahref="https://www.journals.uchicago.edu/toc/jpema/current">Journal ofPolitical Economy Macroeconomics</a></li><li><ahref="https://www.journals.uchicago.edu/toc/jpemi/current">Journal ofPolitical Economy Microeconomics</a></li><li><a href="https://www.aeaweb.org/journals/aeri">American EconomicReview: Insights</a></li><li><a href="https://www.aeaweb.org/journals/pandp">AEA Papers andProceedings</a></li><li><a href="https://onlinelibrary.wiley.com/journal/17562171">RANDJournal of Economics</a></li><li><ahref="https://www.sciencedirect.com/journal/games-and-economic-behavior">Gamesand Economic Behavior</a></li><li><ahref="https://www.cambridge.org/core/journals/journal-of-economic-history">Journalof Economic History</a></li><li><a href="https://www.journals.uchicago.edu/toc/jle/current">Journalof Law and Economics</a></li><li><ahref="https://www.sciencedirect.com/journal/journal-of-economic-behavior-and-organization">Journalof Economic Behavior &amp; Organization</a></li><li><ahref="https://www.sciencedirect.com/journal/journal-of-comparative-economics">Journalof Comparative Economics</a></li><li><a href="https://www.springer.com/journal/148">Journal of PopulationEconomics</a></li><li><a href="https://www.aeaweb.org/journals/JEP">Journal of EconomicPerspectives</a></li><li><a href="https://www.aeaweb.org/journals/jel">Journal of EconomicLiterature</a></li><li><ahref="https://www.sciencedirect.com/journal/journal-of-economic-theory">Journalof Economic Theory</a></li><li><ahref="https://www.sciencedirect.com/journal/journal-of-international-economics">Journalof International Economics</a></li><li><ahref="https://onlinelibrary.wiley.com/toc/15406261/current">Journal ofFinance</a></li><li><a href="https://academic.oup.com/rfs/issue">Review of FinancialStudies</a></li><li><ahref="https://www.sciencedirect.com/journal/journal-of-financial-economics">Journalof Financial Economics</a></li><li><a href="https://pubsonline.informs.org/journal/mnsc">ManagementScience</a></li><li><a href="https://pubsonline.informs.org/journal/mksc">MarketingScience</a></li><li><a href="https://onlinelibrary.wiley.com/journal/14678276">AmericanJournal of Agricultural Economics</a></li><li><a href="https://academic.oup.com/jeea/issue">Journal of theEuropean Economic Association</a></li><li><a href="https://www.journals.uchicago.edu/journal/jaere">Journal ofthe Association of Environmental and Resource Economists</a></li><li><ahref="https://www.nber.org/papers?page=1&amp;perPage=50&amp;sortBy=public_date">NBERWorking Papers</a></li><li><ahref="http://www.erj.cn/cn/mlInfo.aspx?m=20230222141814467743&amp;n=20231009144417807267&amp;tip=0">经济研究</a></li><li><a href="http://www.mwm.net.cn/web/bqym">管理世界</a></li><li><ahref="https://www.nsd.pku.edu.cn/cbw/jjxjk/qkml/index.htm">经济学（季刊）</a></li><li><a href="http://ciejournal.ajcass.org/">中国工业经济</a></li><li><ahref="https://manu30.magtech.com.cn/sjjj/CN/home">世界经济</a></li><li><ahref="http://www.jqte.net/sljjjsjjyj/ch/index.aspx">数量经济技术经济研究</a></li><li><a href="https://www.jcejournal.com.cn/CN/home">中国经济学</a></li><li><a href="http://www.qjem.cn/CN/home">经济管理学刊</a></li><li><a href="https://cjoe.cjoe.ac.cn/CN/home">计量经济学报</a></li></ul><h4 id="正刊子刊">正刊子刊</h4><ul><li><ahref="https://www.nature.com/nature/research-articles">Nature</a></li><li><ahref="https://www.science.org/toc/science/current">Science</a></li><li><a href="https://www.nature.com/nclimate/research-articles">NatureClimate Change</a></li><li><ahref="https://www.nature.com/nathumbehav/research-articles">Nature HumanBehaviour</a></li><li><a href="https://www.nature.com/natsustain/research-articles">NatureSustainability</a></li><li><a href="https://www.nature.com/ngeo/research-articles">NatureGeoscience</a></li><li><a href="https://www.nature.com/nenergy/research-articles">NatureEnergy</a></li><li><a href="https://www.nature.com/natfood/research-articles">NatureFood</a></li><li><a href="https://www.nature.com/natwater/articles">NatureWater</a></li><li><ahref="https://www.nature.com/natmachintell/research-articles">NatureMachine Intelligence</a></li><li><a href="https://www.nature.com/nataging/research-articles">NatureAging</a></li><li><ahref="https://www.nature.com/natecolevol/research-articles">NatureEcology &amp; Evolution</a></li><li><a href="https://www.nature.com/natcities/">Nature Cities</a></li><li><a href="https://www.nature.com/ncomms/">NatureCommunications</a></li><li><a href="https://www.science.org/journal/sciadv">ScienceAdvances</a></li><li><a href="https://www.pnas.org/">PNAS</a></li><li><a href="https://www.sciencedirect.com/journal/one-earth">OneEarth</a></li><li><a href="https://www.nature.com/sdata/research-articles">ScientificData</a></li></ul><h4 id="政治学">政治学</h4><ul><li><ahref="https://www.cambridge.org/core/journals/american-political-science-review">AmericanPolitical Science Review</a></li><li><a href="https://onlinelibrary.wiley.com/journal/15405907">AmericanJournal of Political Science</a></li><li><ahref="https://www.cambridge.org/core/journals/political-analysis">PoliticalAnalysis</a></li><li><a href="https://www.journals.uchicago.edu/toc/jop/current">TheJournal of Politics</a></li><li><a href="https://muse.jhu.edu/journal/208">World Politics</a></li><li><a href="https://www.annualreviews.org/journal/polisci">AnnualReview of Political Science</a></li><li><ahref="https://www.cambridge.org/core/journals/british-journal-of-political-science">BritishJournal of Political Science</a></li><li><ahref="https://www.cambridge.org/core/journals/political-science-research-and-methods">PoliticalScience Research and Methods</a></li><li><a href="https://direct.mit.edu/isec">InternationalSecurity</a></li><li><ahref="https://www.cambridge.org/core/journals/international-organization">InternationalOrganization</a></li><li><a href="https://www.springer.com/journal/11558">Review ofInternational Organizations</a></li></ul><h4 id="社会学">社会学</h4><ul><li><a href="https://journals.sagepub.com/home/asr">AmericanSociological Review</a></li><li><a href="https://www.annualreviews.org/journal/soc">Annual Review ofSociology</a></li><li><a href="https://www.journals.uchicago.edu/toc/ajs/current">AmericanJournal of Sociology</a></li><li><a href="https://journals.sagepub.com/home/smr">Sociological Methods&amp; Research</a></li></ul><h4 id="公共管理">公共管理</h4><ul><li><a href="https://academic.oup.com/jpart">Journal of PublicAdministration Research and Theory</a></li><li><a href="https://onlinelibrary.wiley.com/journal/15406210">PublicAdministration Review</a><br /></li><li><a href="https://www.tandfonline.com/journals/rpxm20">PublicManagement Review</a></li><li><a href="https://onlinelibrary.wiley.com/journal/15410072">PolicyStudies Journal</a></li><li><a href="https://onlinelibrary.wiley.com/journal/15206688">Journalof Policy Analysis and Management</a></li><li><a href="https://onlinelibrary.wiley.com/journal/14679299">PublicAdministration</a></li><li><ahref="https://onlinelibrary.wiley.com/journal/14680491">Governance</a></li><li><a href="https://www.tandfonline.com/toc/rjpp20/current">Journal ofEuropean Public Policy</a></li><li><a href="https://www.springer.com/journal/11077">PolicySciences</a></li><li><a href="https://academic.oup.com/policyandsociety">Policy andSociety</a></li><li><ahref="https://onlinelibrary.wiley.com/journal/17485991">Regulation &amp;Governance</a></li><li><a href="https://www.tandfonline.com/journals/upmj20">InternationalPublic Management Journal</a></li><li><a href="https://onlinelibrary.wiley.com/journal/15411338">Review ofPolicy Research</a></li></ul><h4 id="区域和发展研究">区域和发展研究</h4><p>（很少看了，很难有什么启示）</p><ul><li><ahref="https://www.sciencedirect.com/journal/world-development">WordDevelopment</a></li><li><ahref="https://www.sciencedirect.com/journal/global-environmental-change">GlobalEnvironmental Change</a></li><li><a href="https://academic.oup.com/cjres">Cambridge Journal ofRegions, Economy and Society</a></li><li><ahref="https://www.sciencedirect.com/journal/computers-environment-and-urban-systems">Computers,Environment and Urban Systems</a></li><li><a href="https://www.tandfonline.com/journals/cjcc20">Journal ofContemporary China</a></li><li><ahref="https://www.cambridge.org/core/journals/china-quarterly">The ChinaQuarterly</a></li><li><a href="https://www.tandfonline.com/toc/recg20/current">EconomicGeography</a></li><li><a href="https://academic.oup.com/joeg">Journal of EconomicGeography</a></li><li><ahref="https://www.sciencedirect.com/journal/landscape-and-urban-planning">Landscapeand Urban Planning</a></li><li><ahref="https://www.sciencedirect.com/journal/cities">Cities</a></li><li><a href="https://journals.sagepub.com/home/usj">UrbanStudies</a></li><li><ahref="https://www.sciencedirect.com/journal/journal-of-rural-studies">Journalof Rural Studies</a></li><li><a href="https://www.tandfonline.com/toc/ujua20/current">Journal ofUrban Affairs</a></li><li><a href="https://www.tandfonline.com/toc/cres20/current">RegionalStudies</a></li><li><ahref="https://www.sciencedirect.com/journal/habitat-international">HabitatInternational</a></li><li><a href="https://journals.sagepub.com/home/uar">Urban AffairsReview</a></li><li><a href="https://www.tandfonline.com/journals/chos20">HousingStudies</a></li><li><ahref="https://onlinelibrary.wiley.com/journal/15448452">Population,Space and Place</a></li><li><a href="https://journals.sagepub.com/home/epn">Environment andPlanning A: Economy and Space</a></li><li><a href="https://journals.sagepub.com/toc/EPB/current">Environmentand Planning B: Urban Analytics and City Science</a></li><li><a href="https://journals.sagepub.com/home/epc">Environment andPlanning C: Politics and Space</a></li><li><a href="https://journals.sagepub.com/home/epd">Environment andPlanning D: Society and Space</a></li><li><a href="https://journals.sagepub.com/toc/ENE/current">Environmentand Planning E: Nature and Space</a></li><li><a href="https://journals.sagepub.com/home/epf">Environment andPlanning F: Philosophy, Theory, Models, Methods and Practice</a></li><li><a href="https://read.dukeupress.edu/demography">Demography</a></li></ul><h4 id="一些replication网站">一些Replication网站</h4><ul><li><a href="https://www.poliscidata.com/index.php">PoliSciData: FindReplication Data by Journal</a></li><li><ahref="https://replication.uni-goettingen.de/wiki/index.php/Main_Page">ReplicationWiki: Replication in the social sciences, particularlyeconomics!</a></li><li><a href="https://ejd.econ.mathematik.uni-ulm.de/">Find EconomicArticles with Data</a></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>期刊</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>从因果推断迈向Top5-因果推断资料简介</title>
    <link href="/2023/05/26/%E4%BB%8E%E5%9B%A0%E6%9E%9C%E6%8E%A8%E6%96%AD%E8%BF%88%E5%90%91Top5-%E5%9B%A0%E6%9E%9C%E6%8E%A8%E6%96%AD%E8%B5%84%E6%96%99%E7%AE%80%E4%BB%8B/"/>
    <url>/2023/05/26/%E4%BB%8E%E5%9B%A0%E6%9E%9C%E6%8E%A8%E6%96%AD%E8%BF%88%E5%90%91Top5-%E5%9B%A0%E6%9E%9C%E6%8E%A8%E6%96%AD%E8%B5%84%E6%96%99%E7%AE%80%E4%BB%8B/</url>
    
    <content type="html"><![CDATA[<p>我想，从社会学科迈向社会科学，因果推断的运用是至关重要的一环。由于自身能力的限制和兴趣的偏狭，我对因果推断方法的掌握限于非常粗浅的层面，但这又是将自己的研究变成“科研工作”与同行交流的必要过程，加之自身又非常懒惰，拖延晚期。急需借助学习网，将个人的“点驱动”变为共同体的“网络驱动”。</p><p>由此，建立一个因果推断学习小组，想和大家一起学习，以朋辈网络，共同进步！</p><p>在过往的学习（挣扎）中，我收集了一些因果推断方向的资料，供大家参考！</p><p></br></p><h4 id="教材类">1 教材类</h4><ul><li><a href="https://mixtape.scunning.com/"><strong>CausalInference</strong> <em>The Mixtape</em></a></li></ul><p>我最喜欢的一本，并且有网页版！详略得当，作者在前言讲了他的写作初衷：他缺乏一本理论与实证（可复制性）兼备的教材。本书提供了大量经典论文案例，配套Stata、R和python代码，可以说是保姆式教材了！</p><ul><li><p><ahref="https://www.hsph.harvard.edu/miguel-hernan/causal-inference-book/"><strong>CausalInference</strong>: What If</a></p><p>这本书也很棒，与上一本比起来似乎更专业和艰深一点，作者同样提供了配套的数据和代码，遗憾的是这本书只有PDF版没有网页版。另外，这本书有民间翻译的<ahref="https://jiajunluo.mystrikingly.com/">中文版</a>，今天搜索时发现似乎还有小伙伴做了个<ahref="https://causalai.github.io/what-if/">document</a>。</p></li><li><p><a href="https://theeffectbook.net/"><strong>The Effect</strong>:An Introduction to Research Design and Causality</a></p><p>本书与前两本相比，最大的不同就是“几乎无数学”。作者试图用纯文本和因果图的形式，告诉读者因果推断的关键事项。同时本书也有网页版，并提供了数据和多种语言的代码！</p></li><li><p>《基本有用的计量经济学》、《高级计量经济学及Stata应用》。这两本想必大家都知道，我感觉这两本书都还不错，适合翻阅。遗憾在于两本书配套的案例都太小或者太少了。</p></li></ul><p></br></p><h4 id="研究工具">2 研究工具</h4><p>主流的计量软件无非Stata、R和python，有些做均衡模型和结构估计的uu可能还会用Matlab，体感在GPT时代，代码上手的障碍可能是学习计量最小的阻碍了。</p><p>有一些资料对于掌握这些语言的基础语法可能有不错的帮助，它们是：</p><ul><li><ahref="https://github.com/dlab-berkeley/Python-Fundamentals">Python-Fundamentals</a></li><li><ahref="https://github.com/dlab-berkeley/R-Fundamentals">R-Fundamentals</a></li><li><ahref="https://github.com/dlab-berkeley/Stata-Fundamentals">Stata-Fundamentals</a></li></ul><p>⬆️都是BerkeleyD-Lab的repo，内容都是新手向，特别适合上手，作者以notebook的形式做新手教程，真的很用心。</p><p></br></p><h4 id="重要期刊-数据与代码">3 重要期刊-数据与代码</h4><ul><li>一篇入门中文论文：范子英.如何科学评估经济政策的效应?[J].财经智库,2018,3(03):42-64+142-143.</li><li><a href="https://ejd.econ.mathematik.uni-ulm.de/">Find EconomicArticles with Data</a></li><li><ahref="https://replication.uni-goettingen.de/wiki/index.php/Main_Page">Replicationwiki</a></li><li><ahref="https://www.poliscidata.com/pages/journalReplicationData.php">PoliSciData</a></li><li><ahref="https://mp.weixin.qq.com/s/jE3R5q-mttEAV4Lc3qoytg">最食人间烟火色：哪里会提供经济学论文可供复制的数据和代码？</a></li></ul><p></br></p><h4 id="其他或许有用的资料">4 其他或许有用的资料</h4><ul><li><ahref="https://www.bilibili.com/">Bilibili</a>大学，我学习陈强老师的初级计量，基本都在B站。这里还推荐一位up主<strong><ahref="https://space.bilibili.com/9840842">silencedream</a></strong>，他讲几个因果推断方法，概念上还比较清晰。</li><li><ahref="https://github.com/">Github</a>。你想要的资料，几乎都能在上面找到。开源社区就是这么有爱。</li><li>爬虫：<ahref="https://python3webspider.cuiqingcai.com/">Python3网络爬虫开发实战</a></li><li>深度学习：<ahref="https://zh.d2l.ai/index.html">《动手学深度学习》</a></li><li>计算社会科学相关，包含计算文本分析：<ahref="https://www.cambridge.org/core/publications/elements/quantitative-and-computational-methods-for-the-social-sciences">Quantitativeand Computational Methods for the Social Sciences</a></li></ul><p></br></p><p><strong>关于我</strong>：</p><blockquote><p>我目前是博士二年级，博论方向是收缩城市相关。本科专业是房地产开发与管理，硕士是土地资源管理和人文地理学。三个阶段是三个不同的专业，因此接触的内容稍微多一些，但也因此啥都不精。硕士期间做过一点土地经济、资源环境投入产出分析（基于MRIO的碳排放和环境足迹）的工作。</p><p>目前感兴趣的是<strong>收缩城市</strong>、<strong>人口</strong>（生育、性别）相关议题。</p><p>我的兴趣爱好非常广泛，因此如果你有研究idea想找人合作，还请不吝赐教！多多push我！</p><p>我的邮箱是：yuzhangsjtu@sjtu.edu.cn or bigsun0919@gmail.com 。</p><p>你也可以访问我的博客，发现更多有趣信息：<ahref="https://yuzhang.net/">yuzhang.net</a> or <ahref="https://yuzhang.pages.dev/">yuzhang.pages.dev</a> 。</p></blockquote>]]></content>
    
    
    
    <tags>
      
      <tag>因果推断</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>呓语</title>
    <link href="/2023/04/20/%E5%91%93%E8%AF%AD/"/>
    <url>/2023/04/20/%E5%91%93%E8%AF%AD/</url>
    
    <content type="html"><![CDATA[<p>最近的生活出了比较大的问题，头痛、失眠，似乎时时刻刻都在过载、内存溢出，无法清空自己。</p><p>需要有一些调整计划：</p><ul><li>十二点之前洗漱完躺床，按时休息；</li><li>减少耳机使用时间，降低信息摄入；</li><li>最重要的是，集中注意力，提升工作效率！</li></ul><p></br></p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/04CECFC2-F81D-4C2C-BD8D-EFAB6B8F4E1A_1_102_o.jpeg"alt="04CECFC2-F81D-4C2C-BD8D-EFAB6B8F4E1A_1_102_o" /><figcaptionaria-hidden="true">04CECFC2-F81D-4C2C-BD8D-EFAB6B8F4E1A_1_102_o</figcaption></figure><p></br></p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/11FBAD67-47B1-44FC-BA9C-F23B372BB76E_1_105_c.jpeg"alt="11FBAD67-47B1-44FC-BA9C-F23B372BB76E_1_105_c" /><figcaptionaria-hidden="true">11FBAD67-47B1-44FC-BA9C-F23B372BB76E_1_105_c</figcaption></figure><p></br></p><p><img src="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/2F3168D2-DCBA-422B-B387-6AB5F1326E7E.jpeg" alt="2F3168D2-DCBA-422B-B387-6AB5F1326E7E"  /></p>]]></content>
    
    
    
    <tags>
      
      <tag>呓语</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Keyboard shortcuts in Notion</title>
    <link href="/2023/04/06/Keyboard%20shortcuts%20in%20Notion/"/>
    <url>/2023/04/06/Keyboard%20shortcuts%20in%20Notion/</url>
    
    <content type="html"><![CDATA[<p><strong><ahref="https://www.notion.so/Notion-df68926aed594fc5a79d87f419496ad5">Notion数学公式简明教程</a></strong></p><h4 id="the-original-page-is-keyboard-shortcuts.">The original page is<a href="https://www.notion.so/help/keyboard-shortcuts">Keyboardshortcuts</a>.</h4><p></br></p><p>IN THIS ARTICLE</p><h5id="notion-is-fully-equipped-with-keyboard-and-markdown-shortcuts-so-you-can-do-everything-you-need-without-ever-touching-your-mouse">Notionis fully equipped with keyboard and Markdown shortcuts so you can doeverything you need without ever touching your mouse ⌨️</h5><p><strong>Note:</strong> You'll see <code>cmd/ctrl</code> used a lotbelow. This indicates <code>command</code> on Mac and<code>control</code> on Windows and Linux. These instructions are forEnglish/QWERTY keyboards, but internationalization is on theroadmap!</p><h2 id="most-popular"><ahref="https://www.notion.so/help/keyboard-shortcuts#most-popular">Mostpopular</a></h2><p>If you're not a born shortcutter, we get it. You can still work likea Notion power user if you remember these few commands:</p><ul><li>Press <code>cmd/ctrl</code> + <code>N</code> to create a new page(desktop apps only).</li><li>Press <code>cmd/ctrl</code> + <code>shift</code> + <code>N</code> toopen a new Notion window (desktop apps only).</li><li>Press <code>option</code> + <code>shift</code> + <code>click</code>to open a page as a new window (desktop apps only).</li><li>Press <code>cmd/ctrl</code> + <code>click</code> to open a link as anew Notion tab (desktop apps only).</li><li>Press <code>cmd/ctrl</code> + <code>t</code> to create a new Notiontab (desktop apps only).</li><li>Press <code>cmd/ctrl</code> + <code>P</code> to open search or jumpto a recently viewed page.</li><li>Press <code>cmd/ctrl</code> + <code>[</code> to go back a page.</li><li>Press <code>cmd/ctrl</code> + <code>]</code> to go forward apage.</li><li>Press <code>cmd</code> + <code>shift</code> + <code>K</code> or<code>ctrl</code> + <code>K</code> in database peek view to go to theprevious database page.</li><li>Press <code>cmd</code> + <code>shift</code> + <code>J</code> or<code>ctrl</code> + <code>J</code> in database peek view to go to thenext database page.</li><li>Press <code>cmd/ctrl</code> + <code>shift</code> + <code>L</code> totoggle between dark mode and light mode.</li></ul><p><strong>Tip:</strong> You can add any emoji in-line on a Notion pageby typing <code>:</code> followed by the name of the emoji, like<code>:apple</code> for 🍎 or <code>:clapping</code> for 👏</p><p>You can also bring up your computer's emoji picker with the shortcut<code>ctrl</code> + <code>cmd</code> + <code>space</code> on Mac and<code>windows key</code> + <code>.</code>or <code>windows key</code> +<code>;</code> on Windows.</p><h2 id="markdown-style"><ahref="https://www.notion.so/help/keyboard-shortcuts#markdown-style">Markdownstyle</a></h2><p><strong>While typing:</strong></p><ul><li>Type <code>**</code> on either side of your text to<strong>bold.</strong></li><li>Type <code>*</code> on either side of your text to<em>italicize</em>.</li><li>Type ``<code>on either side of your text to create</code>inlinecode`. (That's the symbol to the left of your 1 key.)</li><li>Type <code>~</code> on either side of your text tostrikethrough.</li></ul><p><strong>At the beginning of any new line or existing block ofcontent, try these:</strong></p><ul><li>Type <code>*</code>, <code>-</code>, or <code>+</code> followed by<code>space</code> to create a bulleted list.</li><li>Type <code>[]</code> to create a to-do checkbox, followed by<code>space</code>. (There's no <code>space</code> in between.)</li><li>Type <code>1.</code>, <code>a.</code>, or <code>i.</code> followedby <code>space</code> to create a numbered list.</li><li>Type <code>#</code> followed by <code>space</code> to create an H1heading.</li><li>Type <code>##</code> followed by <code>space</code> to create an H2sub-heading.</li><li>Type <code>###</code> followed by <code>space</code> to create an H3sub-heading.</li><li>Type <code>&gt;</code> followed by <code>space</code> to create atoggle list.</li><li>Type <code>"</code> followed by <code>space</code> to create a quoteblock.</li></ul><h2 id="create-style-your-content"><ahref="https://www.notion.so/help/keyboard-shortcuts#create-&amp;-style-your-content">Create&amp; style your content</a></h2><ul><li>Press <code>enter</code> to insert a line of text.</li><li>Press <code>shift</code> + <code>enter</code> to create a line breakwithin a block of text.</li><li>Press <code>cmd/ctrl</code> + <code>shift</code> + <code>M</code> tocreate a comment.</li><li>Type <code>---</code> to create a divider. (Three dashes in arow.)</li><li>With text selected, press <code>cmd/ctrl</code> + <code>B</code> to<strong>bold text</strong>.</li><li>With text selected, press <code>cmd/ctrl</code> + <code>I</code> to<em>italicize text</em>.</li><li>With text selected, press <code>cmd/ctrl</code> + <code>U</code> tounderline text.</li><li>With text selected, press <code>cmd/ctrl</code> + <code>shift</code>+ <code>S</code> for strikethrough.</li><li>With text selected, press <code>cmd/ctrl</code> + <code>K</code> toadd a link. You can also paste a URL over selected text to turn it intoa link using <code>cmd/ctrl</code> + <code>V</code>.</li><li>With text selected, press <code>cmd/ctrl</code> + <code>E</code> forinline code.</li><li>Press <code>tab</code> to indent and nest content. Whenever youindent, you're nesting that block inside the block above it. If youselect the parent, everything nested under it will also beselected.</li><li>Press <code>shift</code> + <code>tab</code> to un-nest content.</li><li>Type <code>/turn</code> at the beginning or end of a block to turnit into a different type of block. You'll see a list of choices popup.</li><li>Type <code>/color</code> at the beginning or end of any text blockto change its color or highlight color. (To remove a color or highlight,just type <code>/default</code>.) Example: <code>/blue</code>,<code>/blue background</code></li></ul><p>For all of these content creation shortcuts, <code>cmd</code> +<code>option</code> is the combination for Mac, and <code>ctrl</code> +<code>shift</code> is the combination for Windows and Linux:</p><ul><li>Press <code>cmd/ctrl</code> + <code>option/shift</code> +<code>0</code> to create text.</li><li>Press <code>cmd/ctrl</code> + <code>option/shift</code> +<code>1</code> to create an H1 heading.</li><li>Press <code>cmd/ctrl</code> + <code>option/shift</code> +<code>2</code> to create an H2 heading.</li><li>Press <code>cmd/ctrl</code> + <code>option/shift</code> +<code>3</code> to create an H3 heading.</li><li>Press <code>cmd/ctrl</code> + <code>option/shift</code> +<code>4</code> to create a to-do checkbox.</li><li>Press <code>cmd/ctrl</code> + <code>option/shift</code> +<code>5</code> to create a bulleted list.</li><li>Press <code>cmd/ctrl</code> + <code>option/shift</code> +<code>6</code> to create a numbered list.</li><li>Press <code>cmd/ctrl</code> + <code>option/shift</code> +<code>7</code> to create a toggle list.</li><li>Press <code>cmd/ctrl</code> + <code>option/shift</code> +<code>8</code> to create a code block.</li><li>Press <code>cmd/ctrl</code> + <code>option/shift</code> +<code>9</code> to create a new page, or turn whatever you have on a lineinto a page.</li><li>Press <code>cmd/ctrl</code> + <code>+</code> to zoom in.</li><li>Press <code>cmd/ctrl</code> + <code>-</code> to zoom out.</li><li>Press <code>cmd/ctrl</code> + <code>shift</code> + <code>U</code> togo up one level in the page hierarchy .</li><li>Duplicate any content on a Notion page by holding down<code>option/alt</code> as you drag and drop.</li></ul><h2 id="edit-move-blocks"><ahref="https://www.notion.so/help/keyboard-shortcuts#edit-&amp;-move-blocks">Edit&amp; move blocks</a></h2><p>Everything in Notion is a block — from a line of type (or paragraph)to an image or embed. These shortcuts let you edit whole blocks oncethey're selected.</p><ul><li>Press <code>esc</code> to select the block you're currently in. Orto clear selected blocks.</li><li>Press <code>cmd/ctrl</code> + <code>a</code> once to select theblock your cursor is in.</li><li>Press <code>space</code> to open a selected image in full-screen. Orto exit full-screen.</li><li>Press <code>arrow keys</code> to select a different block.</li><li>Hold down <code>shift</code> + <code>up/down arrow keys</code> toexpand your selection up or down.</li><li>Use <code>cmd</code> + <code>shift</code> + <code>click</code> onMac, and <code>alt + shift + click</code> on Windows/Linux to select orde-select an entire block.</li><li>Use <code>shift</code> + <code>click</code> to select another blockand all blocks in between.</li><li>Press <code>backspace</code> or <code>delete</code> to deleteselected blocks.</li><li>Press <code>cmd/ctrl</code> + <code>D</code> to duplicate the blocksyou've selected.</li><li>Press <code>enter</code> to edit any text inside a selected block(or open a page inside a page).</li><li>Press <code>cmd/ctrl</code> + <code>/</code> to edit or change oneor more selected blocks.<ul><li>Use this shortcut to change the type of block, the color, or toedit, duplicate, or move the block. You'll see a text box at the top ofthe menu that pops up. Just type the action, block or color youwant.</li></ul></li><li>In a database, select multiple rows or cards, then use<code>cmd/ctrl</code> + <code>/</code> to edit them all at once.</li><li>Hold <code>cmd/ctrl</code> + <code>shift</code> +<code>arrow keys</code> to move a selected block around.</li><li>Press <code>cmd/ctrl</code> + <code>option/alt</code> +<code>T</code> to expand or close all toggles in a toggle list.</li><li>Press <code>cmd/ctrl</code> + <code>shift</code> + <code>H</code> toapply the last text or highlight color you used.</li><li>Press <code>cmd/ctrl</code> + <code>enter</code> to modify thecurrent block you're in. Modify means:<ul><li>Open a page</li><li>Check or uncheck a to-do checkbox</li><li>Open or close a toggle list item</li><li>Make embeds or images full-screen</li></ul></li></ul><h2 id="commands"><ahref="https://www.notion.so/help/keyboard-shortcuts#@-commands">@commands</a></h2><ul><li><p><strong>Mention a person:</strong> Type <code>@</code> andanother workspace member's name to get their attention on something.They'll be notified . Useful in comments and discussions.</p></li><li><p><strong>Mention a page:</strong> Type <code>@</code> and the nameof another page in your workspace to create a link to it inline. If youchange the name of the page, this link will automatically changetoo.</p></li><li><p><strong>Mention a date:</strong> Type <code>@</code> and a datein any format (or "yesterday," "today" or "tomorrow," or even "nextWednesday"). Helpful for giving yourself due dates.</p></li><li><p><strong>Add a reminder :</strong> Type <code>@remind</code>followed by a date in any format (including "yesterday," "today,""tomorrow," etc.). You can click on the link that appears to adjust thedate and exact time you want to be reminded. You'll receive anotification at that time.</p></li><li><p>Hit <code>esc</code> to dismiss the @-command menu if you simplywant to type @.</p></li></ul><h2 id="commands-1">[[<ahref="https://www.notion.so/help/keyboard-shortcuts#%5B%5B-commands">commands</a></h2><ul><li><strong>Link a page:</strong> Type <code>[[</code> and the name ofanother page in your workspace to create a link to it. If you change thename of the page, this link will automatically change too.</li><li><strong>Create a sub-page:</strong> Type <code>[[</code> and thename of the sub-page you want to nest within your current page. Use yourcursor or arrow keys to select <code>+ Add new sub-page</code> in thedropdown that appears.</li><li><strong>Create a new page somewhere else:</strong> Type<code>[[</code> and the name of the page you want to create. Use yourcursor or arrow keys to select <code>↗ Add new page in...</code> in thedropdown that appears, then select the page or database where you'd likethat page to be added.</li></ul><h2 id="commands-2"><ahref="https://www.notion.so/help/keyboard-shortcuts#+-commands">+commands</a></h2><ul><li><strong>Create a sub-page:</strong> Type <code>+</code> and the nameof the sub-page you want to nest within your current page. Use yourcursor or arrow keys to select <code>+ Add new sub-page</code> in thedropdown that appears.</li><li><strong>Create a new page somewhere else:</strong> Type<code>+</code> and the name of the page you want to create. Use yourcursor or arrow keys to select <code>↗ Add new page in...</code> in thedropdown that appears, then select the page or database where you'd likethat page to be added.</li><li><strong>Link a page:</strong> Type <code>+</code> and the name ofanother page in your workspace to create a link to it. If you change thename of the page, this link will automatically change too.</li></ul><p><strong>Tip</strong>: When you use <code>[[</code>, the dropdown menuwill show <strong>page linking</strong> options first. When you use<code>+</code>, the dropdown menu will show <strong>pagecreation</strong> options first.</p><h2 id="slash-commands"><ahref="https://www.notion.so/help/keyboard-shortcuts#slash-commands">Slashcommands</a></h2><p>Pressing <code>/</code> in Notion brings up a full menu of contentblocks you can choose to insert . You can shortcut this further bypressing <code>/</code> and then typing what you want. Here are yourchoices:</p><h3 id="basic">Basic</h3><ul><li><code>/text</code> or <code>/plain</code> creates a new textblock.</li><li><code>/page</code> creates a new page (and will open itautomatically when you press <code>enter</code>).</li><li><code>/bullet</code> creates a bulleted list.</li><li><code>/num</code> creates a numbered list.</li><li><code>/todo</code> creates a to-do list with checkboxes.</li><li><code>/toggle</code> creates a toggle list.</li><li><code>/div</code> creates a light gray divider.</li><li><code>/quote</code> creates a quote block of larger text.</li><li><code>/h1</code> or <code>/#</code> creates a large heading.</li><li><code>/h2</code> or <code>/##</code> creates a medium-sizedheading.</li><li><code>/h3</code> or <code>/###</code> creates a small heading.</li><li><code>/link</code> creates a link to another page in yourworkspace.</li><li><code>esc</code> clears the <code>/</code> menu. Handy if you'rejust trying to use a / in your writing.</li></ul><h3 id="inline">Inline</h3><ul><li><code>/mention</code> lets you mention a page or a person in yourworkspace</li><li><code>/date</code> or <code>/reminder</code> lets you add atimestamp or reminder to your page</li><li><code>/equation</code> lets you add a TeX formula in line with yourtext</li><li><code>/emoji</code> brings up the emoji picker</li></ul><h3 id="database">Database</h3><ul><li><code>/table-inline</code> creates a database table inside a currentpage.</li><li><code>/board-inline</code> creates a Kanban board inside a currentpage.</li><li><code>/calendar-inline</code> creates a calendar inside a currentpage.</li><li><code>/list-inline</code> creates a list-style database inside acurrent page.</li><li><code>/gallery-inline</code> creates a gallery inside a currentpage.</li><li><code>/timeline-inline</code> creates a timeline inside a currentpage.</li><li>Any of the above can also be created with <code>-full</code> insteadof <code>-inline</code> to open that type of database view in its ownpage automatically. For example: <code>/table-full</code>,<code>/board-full</code></li><li><code>/linked</code> creates a linked database — a copy of anexisting database that you can insert into any page in-line and filteror view however you want. Helpful for creating multiple excerpts fromthe same database on the same page.</li></ul><h3 id="media">Media</h3><ul><li><code>/image</code> will bring up the option to upload or embed animage, or add one from Unsplash.</li><li><code>/pdf</code> lets you paste in a URL to any PDF so it willdisplay in-line on your page.</li><li><code>/book</code> lets you paste in a URL to any website to createa web bookmark.</li><li><code>/video</code> lets you upload a video file or embed a videofrom YouTube, Vimeo, etc.</li><li><code>/audio</code> lets you upload an audio file or embed arecording from SoundCloud, Spotify, etc.</li><li><code>/code</code> creates a code block where you can write and copyany snippet of code.</li><li><code>/file</code> lets you upload any file from your computer orcreate an embed.</li><li><code>/embed</code> lets you add any one of the 500+ embeds thatwork with Notion .</li></ul><h3 id="advanced">Advanced</h3><ul><li><code>/comment</code> lets you create a comment on any block.</li><li><code>/duplicate</code> creates an exact copy of the currentblock.</li><li><code>/moveto</code> lets you move that block to a differentpage.</li><li><code>/delete</code> deletes the current block.</li><li><code>/toc</code> creates a Table of Contents block.</li><li><code>/button</code> or <code>/template</code> gives you a templatebutton that duplicates any combination of blocks you define.</li><li><code>/bread</code> inserts a breadcrumb menu that shows where yourcurrent page is in your workspace.</li><li><code>/math</code> or <code>/latex</code> lets you writemathematical equations and symbols using TeX.</li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>快捷键</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>The Mac Terminal Commands Cheat Sheet</title>
    <link href="/2023/02/15/The%20Mac%20Terminal%20Commands%20Cheat%20Sheet/"/>
    <url>/2023/02/15/The%20Mac%20Terminal%20Commands%20Cheat%20Sheet/</url>
    
    <content type="html"><![CDATA[<h4 id="来自chatgpt的回答">来自ChatGPT的回答：</h4><blockquote><p>在 macOS 上，Terminal是一个非常有用的工具，可以通过命令行来完成各种任务。以下是一些常用的命令：</p><ol type="1"><li><code>ls</code>：列出当前目录下的文件和文件夹。</li><li><code>cd</code>：改变当前目录到指定的目录，例如<code>cd Documents</code>。</li><li><code>mkdir</code>：创建一个新的目录，例如<code>mkdir new_folder</code>。</li><li><code>touch</code>：创建一个新的文件，例如<code>touch new_file.txt</code>。</li><li><code>rm</code>：删除一个文件或目录，例如 <code>rm file.txt</code>或 <code>rm -r folder</code>（删除一个目录及其内容）。</li><li><code>cp</code>：复制文件或目录，例如<code>cp file.txt folder</code>（将文件复制到目录中）。</li><li><code>mv</code>：移动文件或目录，例如<code>mv file.txt folder</code>（将文件移动到目录中）。</li><li><code>cat</code>：显示文件的内容，例如<code>cat file.txt</code>。</li><li><code>echo</code>：在终端输出指定的文本，例如<code>echo "Hello, World!"</code>。</li><li><code>grep</code>：在文件中查找指定的字符串，例如<code>grep "search_term" file.txt</code>。</li></ol><p>还有很多其他命令可用，这些命令只是一些常见的例子。要学习更多命令，可以在终端中输入<code>man</code> 命令来查看命令的帮助文档。例如，要查看 <code>ls</code>命令的帮助文档，可以在终端中输入 <code>man ls</code>。</p></blockquote><p><br/></p><h4 id="来自new-bing的回答">来自New Bing的回答：</h4><blockquote><p>你好，这是必应。我找到了一些网页，可以帮助你了解 Mac 上的 Terminal命令。你可以参考以下的搜索结果：</p><ul><li><a href="https://www.cnblogs.com/abeen/p/4104158.html">1</a> Mac OSTerminal 几个快捷键 - ABeen - 博客园</li><li><a href="https://www.cnblogs.com/favana/p/5545132.html">2</a>Mac上简单常用Terminal命令 - favana - 博客园</li><li><ahref="https://blog.csdn.net/a11101171/article/details/52239467">3</a>mac常用Terminal命令與快捷鍵參考_a11101171的博客-CSDN博客</li><li><a href="https://www.jianshu.com/p/97c0f76ee09a">4</a> Mac Terminal终端常用命令总结 - 简书</li><li><a href="https://www.cnblogs.com/yong001/p/12052453.html">5</a>在Mac上打开终端的7种简单方法 - 余生不见空 - 博客园</li><li><ahref="https://support.apple.com/zh-cn/guide/terminal/apdb66b5242-0d18-49fc-9c47-a2498b7c91d5/mac">6</a>在 Mac 上的“终端”中执行命令和运行工具 - 官方 Apple 支持 (中国)</li></ul><p>另外，我还找到了一个英文的 Terminal 命令速查表<ahref="https://www.makeuseof.com/tag/mac-terminal-commands-cheat-sheet/#:~:text=The%20Mac%20Terminal%20Commands%20Cheat%20Sheet%20,you&#39;re%20current%20...%2046%20more%20rows">7</a>，你可以用来参考一些常用的命令和操作。这里是一些例子：</p><ul><li>Tab: 自动补全文件和文件夹的名称</li><li>Ctrl + A: 将光标移动到行首</li><li>Ctrl + E: 将光标移动到行尾</li><li>Ctrl + L: 清除屏幕</li><li>Ctrl + R: 搜索以前使用的命令</li><li>Ctrl + C: 中断当前的命令</li><li>Ctrl + D: 退出 Terminal，同 exit 命令</li><li>Ctrl + Z: 暂停当前的命令</li><li>cd: 进入到某个文件路径下</li><li>pwd: 显示当前文件路径</li><li>ls: 列出当前文件夹下的文件和文件夹</li><li>cp: 复制文件或文件夹</li><li>mv: 移动或重命名文件或文件夹</li><li>rm: 删除文件或文件夹</li><li>mkdir: 创建一个新的文件夹</li><li>rmdir: 删除一个空的文件夹</li><li>touch: 创建一个新的空文件</li><li>cat: 查看或合并文件的内容</li><li>echo: 显示一行文本或一个变量的值</li><li>ping: 测试网络连接</li><li>curl: 从网上下载文件</li><li>ssh: 通过安全的 shell 连接到远程服务器</li><li>scp: 通过安全的 shell 复制文件到远程服务器</li><li>man: 显示某个命令的手册页</li><li>help: 显示某个命令的帮助信息</li><li>history: 显示命令历史记录</li><li>clear: 清除屏幕</li><li>exit: 退出 Terminal</li></ul><p>希望这些信息对你有用。😊</p></blockquote><p><br/></p><h4 id="下文转自the-mac-terminal-commands-cheat-sheet">下文转自：<ahref="https://www.makeuseof.com/tag/mac-terminal-commands-cheat-sheet/">TheMac Terminal Commands Cheat Sheet</a></h4><p>macOS is an intuitive operating system, so you don't have to spendlot of time learning the basics; Knowing this, why should you learn andtake advantage of the Unix command line available on your Mac? We havefour good reasons:</p><ol type="1"><li>There are dozens of open source and freely available Unix-basedapps. You don't have to spend money on these.</li><li>When you're having difficulty searching for files in Spotlight, youcan turn to Unix search tools. They're way more powerful thanSpotlight.</li><li>You can manage files, folders, and file archives in an automatedmanner. Setting up a cron job will handle this automatically.</li><li>It gives you more power and control over your system.</li></ol><p>With so many Mac commands, it's often difficult to remember and usethem all. We're here to help with a detailed cheat sheet of Mac Terminalcommands you can use to unlock enhanced productivity on your system.</p><h4 id="the-mac-terminal-commands-cheat-sheet">The Mac Terminal CommandsCheat Sheet</h4><table><thead><tr class="header"><th style="text-align: left;">COMMAND/</th><th style="text-align: left;">ACTION</th></tr></thead><tbody><tr class="odd"><td style="text-align: left;"><strong>Shortcuts</strong></td><td style="text-align: left;"></td></tr><tr class="even"><td style="text-align: left;">Tab</td><td style="text-align: left;">Auto-complete file and folder names</td></tr><tr class="odd"><td style="text-align: left;">Ctrl + A</td><td style="text-align: left;">Go to the beginning of the line you'recurrently typing on</td></tr><tr class="even"><td style="text-align: left;">Ctrl + E</td><td style="text-align: left;">Go to the end of the line you're currentlytyping on</td></tr><tr class="odd"><td style="text-align: left;">Ctrl + U</td><td style="text-align: left;">Clear the line before the cursor</td></tr><tr class="even"><td style="text-align: left;">Ctrl + K</td><td style="text-align: left;">Clear the line after the cursor</td></tr><tr class="odd"><td style="text-align: left;">Ctrl + W</td><td style="text-align: left;">Delete the word before the cursor</td></tr><tr class="even"><td style="text-align: left;">Ctrl + T</td><td style="text-align: left;">Swap the last two characters before thecursor</td></tr><tr class="odd"><td style="text-align: left;">Esc + T</td><td style="text-align: left;">Swap the last two words before thecursor</td></tr><tr class="even"><td style="text-align: left;">Ctrl + L</td><td style="text-align: left;">Clear the screen</td></tr><tr class="odd"><td style="text-align: left;">Ctrl + C</td><td style="text-align: left;">Kill whatever you're running</td></tr><tr class="even"><td style="text-align: left;">Ctrl + D</td><td style="text-align: left;">Exit the current shell</td></tr><tr class="odd"><td style="text-align: left;">Option + →</td><td style="text-align: left;">Move cursor one word forward</td></tr><tr class="even"><td style="text-align: left;">Option + ←</td><td style="text-align: left;">Move cursor one word backward</td></tr><tr class="odd"><td style="text-align: left;">Ctrl + F</td><td style="text-align: left;">Move cursor one character forward</td></tr><tr class="even"><td style="text-align: left;">Ctrl + B</td><td style="text-align: left;">Move cursor one character backward</td></tr><tr class="odd"><td style="text-align: left;">Ctrl + Y</td><td style="text-align: left;">Paste whatever was cut by the lastcommand</td></tr><tr class="even"><td style="text-align: left;">Ctrl + Z</td><td style="text-align: left;">Puts whatever you're running into asuspended background process</td></tr><tr class="odd"><td style="text-align: left;">Ctrl + _</td><td style="text-align: left;">Undo the last command</td></tr><tr class="even"><td style="text-align: left;">Option + Shift + Cmd + C</td><td style="text-align: left;">Copy plain text</td></tr><tr class="odd"><td style="text-align: left;">Shift + Cmd + V</td><td style="text-align: left;">Paste the selection</td></tr><tr class="even"><td style="text-align: left;">exit</td><td style="text-align: left;">End a shell session</td></tr><tr class="odd"><td style="text-align: left;"><strong>Basics</strong></td><td style="text-align: left;"></td></tr><tr class="even"><td style="text-align: left;">/ (Forward Slash)</td><td style="text-align: left;">Top level directory</td></tr><tr class="odd"><td style="text-align: left;">. (Single Period)</td><td style="text-align: left;">Current directory</td></tr><tr class="even"><td style="text-align: left;">.. (Double Period)</td><td style="text-align: left;">Parent directory</td></tr><tr class="odd"><td style="text-align: left;">~ (Tilde)</td><td style="text-align: left;">Home directory</td></tr><tr class="even"><td style="text-align: left;">sudo [command]</td><td style="text-align: left;">Run command with the security privilegesof the super user</td></tr><tr class="odd"><td style="text-align: left;">nano [file]</td><td style="text-align: left;">Opens the Terminal editor</td></tr><tr class="even"><td style="text-align: left;">open [file]</td><td style="text-align: left;">Opens a file</td></tr><tr class="odd"><td style="text-align: left;">[command] -h</td><td style="text-align: left;">Get help about a command</td></tr><tr class="even"><td style="text-align: left;">man [command]</td><td style="text-align: left;">Show the help manual of the command</td></tr><tr class="odd"><td style="text-align: left;"><strong>Change Directory</strong></td><td style="text-align: left;"></td></tr><tr class="even"><td style="text-align: left;">cd</td><td style="text-align: left;">Home directory</td></tr><tr class="odd"><td style="text-align: left;">cd [folder]</td><td style="text-align: left;">Change directory, e.g. cd Documents</td></tr><tr class="even"><td style="text-align: left;">cd ~</td><td style="text-align: left;">Home directory</td></tr><tr class="odd"><td style="text-align: left;">cd/</td><td style="text-align: left;">Root of the drive</td></tr><tr class="even"><td style="text-align: left;">cd -</td><td style="text-align: left;">Previous directory or folder you lastbrowsed</td></tr><tr class="odd"><td style="text-align: left;">pwd</td><td style="text-align: left;">Show your working directory</td></tr><tr class="even"><td style="text-align: left;">cd..</td><td style="text-align: left;">Move up to the parent directory</td></tr><tr class="odd"><td style="text-align: left;">cd../..</td><td style="text-align: left;">Move up two levels</td></tr><tr class="even"><td style="text-align: left;"><strong>List DirectoryContents</strong></td><td style="text-align: left;"></td></tr><tr class="odd"><td style="text-align: left;">ls</td><td style="text-align: left;">Display the name of files andsubdirectories in the directory</td></tr><tr class="even"><td style="text-align: left;">ls -C</td><td style="text-align: left;">Force multi-column output of thelisting</td></tr><tr class="odd"><td style="text-align: left;">ls -a</td><td style="text-align: left;">List all entries including those with.(period) and ..(double period)</td></tr><tr class="even"><td style="text-align: left;">ls -1</td><td style="text-align: left;">Output the list of files in one entry perline format</td></tr><tr class="odd"><td style="text-align: left;">ls -F</td><td style="text-align: left;">Display a / (slash) immediately after eachpath that is a directory, * (asterisk) after executable programs orscripts, and @ after a symbolic link</td></tr><tr class="even"><td style="text-align: left;">ls -S</td><td style="text-align: left;">Sort files or entries by size</td></tr><tr class="odd"><td style="text-align: left;">ls -l</td><td style="text-align: left;">List in a long format. Includes file mode,owner and group name, date and time file was modified, pathname, andmore</td></tr><tr class="even"><td style="text-align: left;">ls -l /</td><td style="text-align: left;">List of the file system from root withsymbolic links</td></tr><tr class="odd"><td style="text-align: left;">ls -lt</td><td style="text-align: left;">List the files sorted by time modified(most recent first)</td></tr><tr class="even"><td style="text-align: left;">ls -lh</td><td style="text-align: left;">Long listing with human readable filesizes in KB, MB, or GB</td></tr><tr class="odd"><td style="text-align: left;">ls -lo</td><td style="text-align: left;">List the file names with size, owner, andflags</td></tr><tr class="even"><td style="text-align: left;">ls -la</td><td style="text-align: left;">List detailed directory contents,including hidden files</td></tr><tr class="odd"><td style="text-align: left;"><strong>File Size and DiskSpace</strong></td><td style="text-align: left;"></td></tr><tr class="even"><td style="text-align: left;">du</td><td style="text-align: left;">List usage for each subdirectory and itscontents</td></tr><tr class="odd"><td style="text-align: left;">du -sh [folder]</td><td style="text-align: left;">Human readable output of all files in adirectory</td></tr><tr class="even"><td style="text-align: left;">du -s</td><td style="text-align: left;">Display an entry for each specifiedfile</td></tr><tr class="odd"><td style="text-align: left;">du -sk* | sort -nr</td><td style="text-align: left;">List files and folders, totaling the sizeincluding the subfolders. Replace sk* with sm* to list directories inMB</td></tr><tr class="even"><td style="text-align: left;">df -h</td><td style="text-align: left;">Calculate your system's free diskspace</td></tr><tr class="odd"><td style="text-align: left;">df -H</td><td style="text-align: left;">Calculate free disk space in powers of1,000 (as opposed to 1,024)</td></tr><tr class="even"><td style="text-align: left;"><strong>File and DirectoryManagement</strong></td><td style="text-align: left;"></td></tr><tr class="odd"><td style="text-align: left;"><code>mkdir &lt;dir&gt;</code></td><td style="text-align: left;">Create new folder named<code>&lt;dir&gt;</code></td></tr><tr class="even"><tdstyle="text-align: left;"><code>mkdir -p &lt;dir&gt;/&lt;dir&gt;</code></td><td style="text-align: left;">Create nested folders</td></tr><tr class="odd"><tdstyle="text-align: left;"><code>mkdir &lt;dir1&gt; &lt;dir2&gt; &lt;dir3&gt;</code></td><td style="text-align: left;">Create several folders at once</td></tr><tr class="even"><td style="text-align: left;"><code>mkdir "&lt;dir&gt;"</code></td><td style="text-align: left;">Create a folder with a space in thefilename</td></tr><tr class="odd"><td style="text-align: left;"><code>rmdir &lt;dir&gt;</code></td><td style="text-align: left;">Delete a folder (only works on emptyfolders)</td></tr><tr class="even"><td style="text-align: left;"><code>rm -R &lt;dir&gt;</code></td><td style="text-align: left;">Delete a folder and its contents</td></tr><tr class="odd"><td style="text-align: left;"><code>touch &lt;file&gt;</code></td><td style="text-align: left;">Create a new file without anyextension</td></tr><tr class="even"><tdstyle="text-align: left;"><code>cp &lt;file&gt; &lt;dir&gt;</code></td><td style="text-align: left;">Copy a file to the folder</td></tr><tr class="odd"><tdstyle="text-align: left;"><code>cp &lt;file&gt; &lt;newfile&gt;</code></td><td style="text-align: left;">Copy a file to the current folder</td></tr><tr class="even"><tdstyle="text-align: left;"><code>cp &lt;file&gt;~/&lt;dir&gt;/&lt;newfile&gt;</code></td><td style="text-align: left;">Copy a file to the folder and rename thecopied file</td></tr><tr class="odd"><tdstyle="text-align: left;"><code>cp -R &lt;dir&gt; &lt;"new dir"&gt;</code></td><td style="text-align: left;">Copy a folder to a new folder with spacesin the filename</td></tr><tr class="even"><tdstyle="text-align: left;"><code>cp -i &lt;file&gt;&lt;dir&gt;</code></td><td style="text-align: left;">Prompts you before copying a file with awarning overwrite message</td></tr><tr class="odd"><tdstyle="text-align: left;"><code>cp &lt;file1&gt; &lt;file2&gt; &lt;file3&gt;/Users/&lt;dir&gt;</code></td><td style="text-align: left;">Copy multiple files to a folder</td></tr><tr class="even"><td style="text-align: left;">ditto -V [folder path][new folder]</td><td style="text-align: left;">Copy the contents of a folder to newfolder. In here "-V" print a line of status for every file copied</td></tr><tr class="odd"><td style="text-align: left;"><code>rm &lt;file&gt;</code></td><td style="text-align: left;">Delete a file (This deletes the filepermanently; use with caution.)</td></tr><tr class="even"><td style="text-align: left;"><code>rm -i &lt;file&gt;</code></td><td style="text-align: left;">Delete a file only when you giveconfirmation</td></tr><tr class="odd"><td style="text-align: left;"><code>rm -f &lt;file&gt;</code></td><td style="text-align: left;">Force removal without confirmation</td></tr><tr class="even"><tdstyle="text-align: left;"><code>rm &lt;file1&gt; &lt;file2&gt; &lt;file3&gt;</code></td><td style="text-align: left;">Delete multiple files without anyconfirmation</td></tr><tr class="odd"><tdstyle="text-align: left;"><code>mv &lt;file&gt; &lt;newfilename&gt;</code></td><td style="text-align: left;">Move/rename</td></tr><tr class="even"><tdstyle="text-align: left;"><code>mv &lt;file&gt; &lt;dir&gt;</code></td><td style="text-align: left;">Move a file to the folder, possibly byoverwriting an existing file</td></tr><tr class="odd"><tdstyle="text-align: left;"><code>mv -i &lt;file&gt; &lt;dir&gt;</code></td><td style="text-align: left;">Optional -i flag to warn you beforeoverwriting the file</td></tr><tr class="even"><td style="text-align: left;"><code>mv *.png ~/&lt;dir&gt;</code></td><td style="text-align: left;">Move all PNG files from current folder toa different folder</td></tr><tr class="odd"><td style="text-align: left;"><strong>Command History</strong></td><td style="text-align: left;"></td></tr><tr class="even"><td style="text-align: left;">Ctrl + R</td><td style="text-align: left;">Search through previously usedcommands</td></tr><tr class="odd"><td style="text-align: left;">history n</td><td style="text-align: left;">Shows the previous commands you've typed.Add a number to limit to the last n items</td></tr><tr class="even"><td style="text-align: left;">![value]</td><td style="text-align: left;">Execute the last command typed that startswith a value</td></tr><tr class="odd"><td style="text-align: left;">!!</td><td style="text-align: left;">Execute the last command typed</td></tr><tr class="even"><td style="text-align: left;"><strong>Permissions</strong></td><td style="text-align: left;"></td></tr><tr class="odd"><td style="text-align: left;">ls -ld</td><td style="text-align: left;">Display the default permission for a homedirectory</td></tr><tr class="even"><td style="text-align: left;">ls -ld/<code>&lt;dir&gt;</code></td><td style="text-align: left;">Display the read, write, and accesspermission of a particular folder</td></tr><tr class="odd"><td style="text-align: left;">chmod 755 <code>&lt;file&gt;</code></td><td style="text-align: left;">Change the permission of a file to755</td></tr><tr class="even"><td style="text-align: left;">chmod -R 600 <code>&lt;dir&gt;</code></td><td style="text-align: left;">Change the permission of a folder (and itscontents) to 600</td></tr><tr class="odd"><tdstyle="text-align: left;">chown<code>&lt;user&gt;</code>:<code>&lt;group&gt;</code><code>&lt;file&gt;</code></td><td style="text-align: left;">Change the ownership of a file to user andgroup. Add -R to include folder contents</td></tr><tr class="even"><td style="text-align: left;"><strong>Processes</strong></td><td style="text-align: left;"></td></tr><tr class="odd"><td style="text-align: left;">ps -ax</td><td style="text-align: left;">Output currently running processes. Here,a shows processes from all users and x shows processes that are notconnected with the Terminal</td></tr><tr class="even"><td style="text-align: left;">ps -aux</td><td style="text-align: left;">Shows all the processes with %cpu, %mem,page in, PID, and command</td></tr><tr class="odd"><td style="text-align: left;">top</td><td style="text-align: left;">Display live information about currentlyrunning processes</td></tr><tr class="even"><td style="text-align: left;">top -ocpu -s 5</td><td style="text-align: left;">Display processes sorted by CPU usage,updating every 5 seconds</td></tr><tr class="odd"><td style="text-align: left;">top -o rsize</td><td style="text-align: left;">Sort top by memory usage</td></tr><tr class="even"><td style="text-align: left;">kill PID</td><td style="text-align: left;">Quit process with ID<code>&lt;PID&gt;</code>. You'll see PID as a column in the ActivityMonitor</td></tr><tr class="odd"><td style="text-align: left;">ps -ax | grep<code>&lt;appname&gt;</code></td><td style="text-align: left;">Find a process by name or PID</td></tr><tr class="even"><td style="text-align: left;"><strong>Network</strong></td><td style="text-align: left;"></td></tr><tr class="odd"><td style="text-align: left;">ping <code>&lt;host&gt;</code></td><td style="text-align: left;">Ping host and display status</td></tr><tr class="even"><td style="text-align: left;">whois <code>&lt;domain&gt;</code></td><td style="text-align: left;">Output whois info for a domain</td></tr><tr class="odd"><td style="text-align: left;">curl -O <url/to/file></td><td style="text-align: left;">Download file via HTTP, HTTPS, or FTP</td></tr><tr class="even"><td style="text-align: left;">ssh<code>&lt;username&gt;</code>@<code>&lt;host&gt;</code></td><td style="text-align: left;">Establish SSH connection to<code>&lt;host&gt;</code> with user <code>&lt;username&gt;</code></td></tr><tr class="odd"><td style="text-align: left;">scp<code>&lt;file&gt;</code><code>&lt;user&gt;</code>@<code>&lt;host&gt;</code>:/remote/path</td><td style="text-align: left;"><code>Copy</code><code>&lt;file&gt;</code> to a remote<code>&lt;host&gt;</code></td></tr><tr class="even"><td style="text-align: left;">arp -a</td><td style="text-align: left;">View a list of all devices on your localnetwork. It will show you the IP and MAC address of all the devices</td></tr><tr class="odd"><td style="text-align: left;">ifconfig en0</td><td style="text-align: left;">View your device IP and MAC address</td></tr><tr class="even"><td style="text-align: left;">traceroute [hostname]</td><td style="text-align: left;">Identify the path and the hops traversedby the packets from your device to the destination address</td></tr><tr class="odd"><td style="text-align: left;"><strong>Homebrew</strong></td><td style="text-align: left;"></td></tr><tr class="even"><td style="text-align: left;">brew doctor</td><td style="text-align: left;">Check brew for potential problems</td></tr><tr class="odd"><td style="text-align: left;">brew help</td><td style="text-align: left;">List of useful homebrew formula and caskcommands</td></tr><tr class="even"><td style="text-align: left;">brew install<code>&lt;formula&gt;</code>|<code>&lt;cask&gt;</code></td><td style="text-align: left;">Install a formula or cask</td></tr><tr class="odd"><td style="text-align: left;">brew uninstall<code>&lt;formula&gt;</code>|cask&gt;</td><td style="text-align: left;">Uninstall a formula or cask</td></tr><tr class="even"><td style="text-align: left;">brew list --formula</td><td style="text-align: left;">List only installed formulas</td></tr><tr class="odd"><td style="text-align: left;">brew list --cask</td><td style="text-align: left;">List only installed cask</td></tr><tr class="even"><td style="text-align: left;">brew deps<code>&lt;formula&gt;</code>|<code>&lt;cask&gt;</code></td><td style="text-align: left;">List all the dependencies of a formula orcask</td></tr><tr class="odd"><td style="text-align: left;">brew search text|/regex/</td><td style="text-align: left;">Search formula or cask through regex</td></tr><tr class="even"><td style="text-align: left;">brew upgrade<code>&lt;formula&gt;</code>|<code>&lt;cask&gt;</code></td><td style="text-align: left;">Upgrade the formula or cask</td></tr><tr class="odd"><td style="text-align: left;">brew outdated<code>&lt;formula&gt;</code>|<code>&lt;cask&gt;</code></td><td style="text-align: left;">Search for outdated formula or cask</td></tr><tr class="even"><td style="text-align: left;">brew outdated --formula</td><td style="text-align: left;">Search for outdated formula</td></tr><tr class="odd"><td style="text-align: left;">brew outdated --cask</td><td style="text-align: left;">Search for outdated cask</td></tr><tr class="even"><td style="text-align: left;">brew pin [installed_formula]</td><td style="text-align: left;">Pin a formula from getting upgraded</td></tr><tr class="odd"><td style="text-align: left;">brew unpin [installed_formula]</td><td style="text-align: left;">Unpin to upgrade a package</td></tr><tr class="even"><td style="text-align: left;">brew cleanup</td><td style="text-align: left;">Remove stale lock files and outdatedpackages for all formula and casks.</td></tr><tr class="odd"><td style="text-align: left;"><strong>Environment Variable orPath</strong></td><td style="text-align: left;"></td></tr><tr class="even"><td style="text-align: left;">printenv</td><td style="text-align: left;">Display a list of currently setenvironment variables. Also tells you which shell you're using</td></tr><tr class="odd"><td style="text-align: left;">$echo</td><td style="text-align: left;">Tells the terminal to print something andshow it to you</td></tr><tr class="even"><td style="text-align: left;">echo $PATH</td><td style="text-align: left;">Check the value of the PATH variable whichstorea a list of directories with executable files</td></tr><tr class="odd"><td style="text-align: left;">echo <span class="math inline">\(PATH&gt;path.txt                        | Export the path directory to atext file                     || export PATH=\)</span>PATH:absolute/path to/program/</td><td style="text-align: left;">Execute a program via terminal only inyour current session. If you use a program regularly, add the path toshell configuration file.</td></tr><tr class="even"><td style="text-align: left;"><strong>Search</strong></td><td style="text-align: left;"></td></tr><tr class="odd"><td style="text-align: left;">find<code>&lt;dir&gt;</code>-name&lt;"file"&gt;</td><td style="text-align: left;">Find all files named<code>&lt;file&gt;</code> inside <code>&lt;dir&gt;</code>. Use wildcards(*) to search for parts of filenames</td></tr><tr class="even"><td style="text-align: left;">grep "<code>&lt;text&gt;</code>"<code>&lt;file&gt;</code></td><td style="text-align: left;">Output all occurrences of<code>&lt;text&gt;</code>inside<code>&lt;file&gt;</code>(add -i for caseinsensitivity)</td></tr><tr class="odd"><td style="text-align: left;">grep -rl "<code>&lt;text&gt;</code>"<code>&lt;dir&gt;</code></td><td style="text-align: left;">Search for all files containing<code>&lt;text&gt;</code> inside <code>&lt;dir&gt;</code></td></tr><tr class="even"><td style="text-align: left;"><strong>Output</strong></td><td style="text-align: left;"></td></tr><tr class="odd"><td style="text-align: left;">cat <code>&lt;file&gt;</code></td><td style="text-align: left;">Output the content of<code>&lt;file&gt;</code></td></tr><tr class="even"><td style="text-align: left;">less <code>&lt;file&gt;</code></td><td style="text-align: left;">Output the contents of<code>&lt;file&gt;</code> using the less command that supportspagination and more</td></tr><tr class="odd"><td style="text-align: left;">head <code>&lt;file&gt;</code></td><td style="text-align: left;">Output the first 10 lines of<code>&lt;file&gt;</code></td></tr><tr class="even"><tdstyle="text-align: left;"><code>&lt;cmd&gt; &gt; &gt; &lt;file&gt;</code></td><td style="text-align: left;">Appends the output of<code>&lt;cmd&gt;</code> to <code>&lt;file&gt;</code></td></tr><tr class="odd"><tdstyle="text-align: left;"><code>&lt;cmd&gt; &gt; &lt;file&gt;</code></td><td style="text-align: left;">Direct the outputof<code>&lt;cmd&gt; into</code> <code>&lt;file&gt;</code></td></tr><tr class="even"><tdstyle="text-align: left;"><code>&lt;cmd1&gt; | &lt;cmd2&gt;</code></td><td style="text-align: left;">Direct the output of<code>&lt;cmd1&gt;</code> to <code>&lt;cmd2&gt;</code></td></tr></tbody></table>]]></content>
    
    
    
    <tags>
      
      <tag>快捷键</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Mac上“终端”中的键盘快捷键</title>
    <link href="/2023/02/15/Mac%E4%B8%8A%E2%80%9C%E7%BB%88%E7%AB%AF%E2%80%9D%E4%B8%AD%E7%9A%84%E9%94%AE%E7%9B%98%E5%BF%AB%E6%8D%B7%E9%94%AE/"/>
    <url>/2023/02/15/Mac%E4%B8%8A%E2%80%9C%E7%BB%88%E7%AB%AF%E2%80%9D%E4%B8%AD%E7%9A%84%E9%94%AE%E7%9B%98%E5%BF%AB%E6%8D%B7%E9%94%AE/</url>
    
    <content type="html"><![CDATA[<h3 id="mac-上终端中的键盘快捷键"><ahref="https://support.apple.com/zh-cn/guide/terminal/trmlshtcts/2.13/mac/13.0">Mac上“终端”中的键盘快捷键</a></h3><p>在 Mac 上的“终端” App🧑🏻‍💻中，你可以使用键盘快捷键快速完成许多任务。请参阅下方的快捷键，以及在<ahref="https://support.apple.com/zh-cn/guide/terminal/aside/glos33eb8abd/2.13/mac/13.0">菜单栏</a>的“终端”菜单中显示的快捷键。在App 菜单中，键盘快捷键<ahref="https://support.apple.com/zh-cn/guide/mac-help/cpmh0011">显示为符号</a>。</p><p>【注】App 中的键盘快捷键因你在 Mac上使用的语言和键盘布局而异。如果下方的快捷键未按预期正常工作，请在菜单栏的App 菜单中查找以查看正确的快捷键。你还可以<ahref="https://support.apple.com/zh-cn/guide/mac-help/mchlp1015">使用虚拟键盘</a>查看当前键盘布局，称为<em>输入法</em>。</p><p><br/></p><h4 id="使用终端窗口和标签页">使用“终端”窗口和标签页</h4><table><thead><tr class="header"><th style="text-align: left;">操作</th><th style="text-align: left;">快捷键</th></tr></thead><tbody><tr class="odd"><td style="text-align: left;">新建窗口</td><td style="text-align: left;">Command-N</td></tr><tr class="even"><td style="text-align: left;">使用相同命令新建窗口</td><td style="text-align: left;">Control-Command-N</td></tr><tr class="odd"><td style="text-align: left;">新建标签页</td><td style="text-align: left;">Command-T</td></tr><tr class="even"><td style="text-align: left;">使用相同命令新建标签页</td><td style="text-align: left;">Control-Command-T</td></tr><tr class="odd"><td style="text-align: left;">显示或隐藏标签页栏</td><td style="text-align: left;">Shift-Command-T</td></tr><tr class="even"><td style="text-align: left;">显示所有标签页或退出标签页概览</td><td style="text-align: left;">Shift-Command-反斜杠 ()</td></tr><tr class="odd"><td style="text-align: left;">新建命令</td><td style="text-align: left;">Shift-Command-N</td></tr><tr class="even"><td style="text-align: left;">新建远程连接</td><td style="text-align: left;">Shift-Command-K</td></tr><tr class="odd"><td style="text-align: left;">显示或隐藏检查器</td><td style="text-align: left;">Command-I</td></tr><tr class="even"><td style="text-align: left;">编辑标题</td><td style="text-align: left;">Shift-Command-I</td></tr><tr class="odd"><td style="text-align: left;">编辑背景颜色</td><td style="text-align: left;">Option-Command-I</td></tr><tr class="even"><td style="text-align: left;">放大字体</td><td style="text-align: left;">Command-加号键 (+)</td></tr><tr class="odd"><td style="text-align: left;">缩小字体</td><td style="text-align: left;">Command-减号键 (–)</td></tr><tr class="even"><td style="text-align: left;">下一个窗口</td><td style="text-align: left;">Command-重音符键 (`)</td></tr><tr class="odd"><td style="text-align: left;">上一个窗口</td><td style="text-align: left;">Command-Shift-波浪符号 (~)</td></tr><tr class="even"><td style="text-align: left;">下一个标签页</td><td style="text-align: left;">Control-Tab</td></tr><tr class="odd"><td style="text-align: left;">上一个标签页</td><td style="text-align: left;">Control-Shift-Tab</td></tr><tr class="even"><td style="text-align: left;">将窗口拆分为两个面板</td><td style="text-align: left;">Command-D</td></tr><tr class="odd"><td style="text-align: left;">关闭拆分面板</td><td style="text-align: left;">Shift-Command-D</td></tr><tr class="even"><td style="text-align: left;">关闭标签页</td><td style="text-align: left;">Command-W</td></tr><tr class="odd"><td style="text-align: left;">关闭窗口</td><td style="text-align: left;">Shift-Command-W</td></tr><tr class="even"><td style="text-align: left;">关闭其他标签页</td><td style="text-align: left;">Option-Command-W</td></tr><tr class="odd"><td style="text-align: left;">全部关闭</td><td style="text-align: left;">Option-Shift-Command-W</td></tr><tr class="even"><td style="text-align: left;">滚动到顶部</td><td style="text-align: left;">Command-Home</td></tr><tr class="odd"><td style="text-align: left;">滚动到底部</td><td style="text-align: left;">Command-End</td></tr><tr class="even"><td style="text-align: left;">上一页</td><td style="text-align: left;">Command-Page Up</td></tr><tr class="odd"><td style="text-align: left;">下一页</td><td style="text-align: left;">Command-Page Down</td></tr><tr class="even"><td style="text-align: left;">上一行</td><td style="text-align: left;">Option-Command-Page Up</td></tr><tr class="odd"><td style="text-align: left;">下一行</td><td style="text-align: left;">Option-Command-Page Down</td></tr></tbody></table><p><br/></p><h4 id="编辑命令行">编辑命令行</h4><table><thead><tr class="header"><th style="text-align: left;">操作</th><th style="text-align: left;">快捷键</th></tr></thead><tbody><tr class="odd"><td style="text-align: left;">重新定位插入点</td><td style="text-align: left;">在按住 Option键的同时将指针移到新的插入点</td></tr><tr class="even"><td style="text-align: left;">将插入点移到行的开头</td><td style="text-align: left;">Control-A</td></tr><tr class="odd"><td style="text-align: left;">将插入点移到行的结尾</td><td style="text-align: left;">Control-E</td></tr><tr class="even"><td style="text-align: left;">将插入点前移一个字符</td><td style="text-align: left;">右箭头键</td></tr><tr class="odd"><td style="text-align: left;">将插入点后移一个字符</td><td style="text-align: left;">左箭头键</td></tr><tr class="even"><td style="text-align: left;">将插入点前移一个字词</td><td style="text-align: left;">Option-右箭头键</td></tr><tr class="odd"><td style="text-align: left;">将插入点后移一个字词</td><td style="text-align: left;">Option-左箭头键</td></tr><tr class="even"><td style="text-align: left;">删除行</td><td style="text-align: left;">Control-U</td></tr><tr class="odd"><td style="text-align: left;">删除到行的结尾</td><td style="text-align: left;">Control-K</td></tr><tr class="even"><td style="text-align: left;">向前删除到字词的结尾</td><td style="text-align: left;">Option-D（选中<ahref="https://support.apple.com/zh-cn/guide/terminal/trmlkbrd/2.13/mac/13.0">将Option 键用作 Meta 键</a>后可用）</td></tr><tr class="odd"><td style="text-align: left;">向后删除到字词的开头</td><td style="text-align: left;">Control-W</td></tr><tr class="even"><td style="text-align: left;">删除一个字符</td><td style="text-align: left;">Delete</td></tr><tr class="odd"><td style="text-align: left;">向前删除一个字符</td><td style="text-align: left;">向前删除（或使用 Fn-Delete）</td></tr><tr class="even"><td style="text-align: left;">转置两个字符</td><td style="text-align: left;">Control-T</td></tr></tbody></table><p><br/></p><h4 id="在终端窗口中选择和查找文本">在“终端”窗口中选择和查找文本</h4><table><thead><tr class="header"><th style="text-align: left;">操作</th><th style="text-align: left;">快捷键</th></tr></thead><tbody><tr class="odd"><td style="text-align: left;">选择完整文件路径</td><td style="text-align: left;">按住 Shift-Command 键并连按路径</td></tr><tr class="even"><td style="text-align: left;">选择整行文本</td><td style="text-align: left;">点按该行三下</td></tr><tr class="odd"><td style="text-align: left;">选择一个词</td><td style="text-align: left;">连按该词</td></tr><tr class="even"><td style="text-align: left;">选择 URL</td><td style="text-align: left;">按住 Shift-Command 键并连按 URL</td></tr><tr class="odd"><td style="text-align: left;">选择矩形块</td><td style="text-align: left;">按住 Option 键并拖移来选择文本</td></tr><tr class="even"><td style="text-align: left;">剪切</td><td style="text-align: left;">Command-X</td></tr><tr class="odd"><td style="text-align: left;">拷贝</td><td style="text-align: left;">Command-C</td></tr><tr class="even"><td style="text-align: left;">不带背景颜色拷贝</td><td style="text-align: left;">Control-Shift-Command-C</td></tr><tr class="odd"><td style="text-align: left;">拷贝纯文本</td><td style="text-align: left;">Option-Shift-Command-C</td></tr><tr class="even"><td style="text-align: left;">粘贴</td><td style="text-align: left;">Command-V</td></tr><tr class="odd"><td style="text-align: left;">粘贴所选内容</td><td style="text-align: left;">Shift-Command-V</td></tr><tr class="even"><td style="text-align: left;">粘贴转义文本</td><td style="text-align: left;">Control-Command-V</td></tr><tr class="odd"><td style="text-align: left;">粘贴转义的所选内容</td><td style="text-align: left;">Control-Shift-Command-V</td></tr><tr class="even"><td style="text-align: left;">查找</td><td style="text-align: left;">Command-F</td></tr><tr class="odd"><td style="text-align: left;">查找下一个</td><td style="text-align: left;">Command-G</td></tr><tr class="even"><td style="text-align: left;">查找上一个</td><td style="text-align: left;">Command-Shift-G</td></tr><tr class="odd"><td style="text-align: left;">使用选定的文本查找</td><td style="text-align: left;">Command-E</td></tr><tr class="even"><td style="text-align: left;">跳到选定的文本</td><td style="text-align: left;">Command-J</td></tr><tr class="odd"><td style="text-align: left;">全选</td><td style="text-align: left;">Command-A</td></tr><tr class="even"><td style="text-align: left;">打开字符检视器</td><td style="text-align: left;">Control-Command-Space</td></tr></tbody></table><p><br/></p><h4 id="使用标记和书签">使用标记和书签</h4><table><thead><tr class="header"><th style="text-align: left;">操作</th><th style="text-align: left;">快捷键</th></tr></thead><tbody><tr class="odd"><td style="text-align: left;">标记</td><td style="text-align: left;">Command-U</td></tr><tr class="even"><td style="text-align: left;">标记为书签</td><td style="text-align: left;">Option-Command-U</td></tr><tr class="odd"><td style="text-align: left;">取消标记</td><td style="text-align: left;">Shift-Command-U</td></tr><tr class="even"><td style="text-align: left;">标记命令行并发送返回结果</td><td style="text-align: left;">Command-Return</td></tr><tr class="odd"><td style="text-align: left;">发送返回结果但不标记</td><td style="text-align: left;">Shift-Command-Return</td></tr><tr class="even"><td style="text-align: left;">插入书签</td><td style="text-align: left;">Shift-Command-M</td></tr><tr class="odd"><td style="text-align: left;">插入包含名称的书签</td><td style="text-align: left;">Option-Shift-Command-M</td></tr><tr class="even"><td style="text-align: left;">跳到上一个标记</td><td style="text-align: left;">Command-上箭头键</td></tr><tr class="odd"><td style="text-align: left;">跳到下一个标记</td><td style="text-align: left;">Command-下箭头键</td></tr><tr class="even"><td style="text-align: left;">跳到上一个书签</td><td style="text-align: left;">Option-Command-上箭头键</td></tr><tr class="odd"><td style="text-align: left;">跳到下一个书签</td><td style="text-align: left;">Option-Command-下箭头键</td></tr><tr class="even"><td style="text-align: left;">清除到上一个标记</td><td style="text-align: left;">Command-L</td></tr><tr class="odd"><td style="text-align: left;">清除到上一个书签</td><td style="text-align: left;">Option-Command-L</td></tr><tr class="even"><td style="text-align: left;">清除到开头</td><td style="text-align: left;">Command-K</td></tr><tr class="odd"><td style="text-align: left;">在标记之间选择</td><td style="text-align: left;">Shift-Command-A</td></tr></tbody></table><p><br/></p><h4 id="其他快捷键">其他快捷键</h4><table><thead><tr class="header"><th style="text-align: left;">操作</th><th style="text-align: left;">快捷键</th></tr></thead><tbody><tr class="odd"><td style="text-align: left;">进入或退出全屏幕</td><td style="text-align: left;">Control-Command-F</td></tr><tr class="even"><td style="text-align: left;">显示或隐藏颜色</td><td style="text-align: left;">Shift-Command-C</td></tr><tr class="odd"><td style="text-align: left;">打开“终端”设置</td><td style="text-align: left;">Command-逗号键 (,)</td></tr><tr class="even"><td style="text-align: left;">中断</td><td style="text-align: left;">键入 Command-句点键 (.) 等于在命令行上输入Control-C</td></tr><tr class="odd"><td style="text-align: left;">打印</td><td style="text-align: left;">Command-P</td></tr><tr class="even"><td style="text-align: left;">软重置终端仿真器状态</td><td style="text-align: left;">Option-Command-R</td></tr><tr class="odd"><td style="text-align: left;">硬重置终端仿真器状态</td><td style="text-align: left;">Control-Option-Command-R</td></tr><tr class="even"><td style="text-align: left;">打开 URL</td><td style="text-align: left;">按住 Command 键并连按 URL</td></tr><tr class="odd"><td style="text-align: left;">添加至文件的完整路径</td><td style="text-align: left;">从“访达”将文件拖移到“终端”窗口中</td></tr><tr class="even"><td style="text-align: left;">将文本导出为</td><td style="text-align: left;">Command-S</td></tr><tr class="odd"><td style="text-align: left;">将选定的文本导出为</td><td style="text-align: left;">Shift-Command-S</td></tr><tr class="even"><td style="text-align: left;">反向搜索命令历史</td><td style="text-align: left;">Control-R</td></tr><tr class="odd"><td style="text-align: left;">开关“允许鼠标报告”选项</td><td style="text-align: left;">Command-R</td></tr><tr class="even"><td style="text-align: left;">开关“将 Option 键用作 Meta 键”选项</td><td style="text-align: left;">Command-Option-O</td></tr><tr class="odd"><td style="text-align: left;">显示备用屏幕</td><td style="text-align: left;">Shift-Command-下箭头键</td></tr><tr class="even"><td style="text-align: left;">隐藏备用屏幕</td><td style="text-align: left;">Shift-Command-上箭头键</td></tr><tr class="odd"><td style="text-align: left;">打开所选内容的 man 页面</td><td style="text-align: left;">Control-Shift-Command-问号键 (?)</td></tr><tr class="even"><td style="text-align: left;">搜索所选内容的 man 页面索引</td><td style="text-align: left;">Control-Option-Command-斜杠 (/)</td></tr><tr class="odd"><td style="text-align: left;">完整的目录或文件名称</td><td style="text-align: left;">在命令行上，键入一个或多个字符，然后按下Tab 键</td></tr><tr class="even"><td style="text-align: left;">显示可能的目录或文件名称补全列表</td><td style="text-align: left;">在命令行上，键入一个或多个字符，然后按下Tab 键两次</td></tr></tbody></table>]]></content>
    
    
    
    <tags>
      
      <tag>快捷键</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2023寒假活动及新学期展望</title>
    <link href="/2023/02/08/Activities%20in%20Holiday2023/"/>
    <url>/2023/02/08/Activities%20in%20Holiday2023/</url>
    
    <content type="html"><![CDATA[<h4 id="寒假">1 2022-2023寒假</h4><h5 id="乡村图书馆公益募捐及市集活动">1.1乡村图书馆公益募捐及市集活动</h5><p><strong>活动：</strong>在当地商业广场布置商业市集摊位及公益摊位，为公益图书馆的运营募捐</p><p><strong>组织方：</strong>中规院（北京）规划设计有限公司、潜山市舒州乡村发展振兴有限公司、吾土乡村振兴工作站</p><p><img src="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/E91B9ECB-CE2F-4FB4-BC5F-01820B87CE35_1_105_c.jpeg" alt="E91B9ECB-CE2F-4FB4-BC5F-01820B87CE35_1_105_c"  /></p><p><img src="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/158B8707-8E3B-4012-A35A-4FF2C6A86104_1_105_c.jpeg" alt="158B8707-8E3B-4012-A35A-4FF2C6A86104_1_105_c"  /></p><p><img src="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/5403C5BC-C9E9-4194-8DE9-D24F08236868_1_105_c.jpeg" alt="5403C5BC-C9E9-4194-8DE9-D24F08236868_1_105_c"  /></p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/18C06761-C750-49CE-A91F-5280F340EC11_1_102_o.jpeg"alt="18C06761-C750-49CE-A91F-5280F340EC11_1_102_o" /><figcaptionaria-hidden="true">18C06761-C750-49CE-A91F-5280F340EC11_1_102_o</figcaption></figure><h5 id="国际关系与全球治理课程论文">1.2《国际关系与全球治理》课程论文</h5><p>《俄乌冲突的中国舆论话语分析——基于官方媒体和微博数据》</p><p><strong>主要工作：</strong></p><ul><li>分析俄乌冲突中中国舆论的特征、趋势与生成机制</li><li>方法：话语分析</li><li>数据：<ul><li>中国官方部门的报道（零散有重点的收集）</li><li>新浪微博每日热搜数据：2022年1月1日至2022年12月31日，每小时获取一次</li><li>新浪微博用户对事件讨论的数据集：时间跨度与2022年2月24日至2022年12月31日，共计51711条</li></ul></li><li>发现：<ul><li>相比欧美等地，中国官方对俄乌冲突的名称表述具有中性特征</li><li>微博用户发文舆论可以分为支持乌克兰、支持俄罗斯、和平反战、嘲讽、玩梗、隔岸观火与吐槽、美国操纵论共七个类型</li><li>挺乌与挺俄观点呈现冲突极化现象，其生成机制与中国国家构建时的集体记忆和现实的冲突有关</li></ul></li></ul><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/image-20230210084408054.png"alt="image-20230210084408054" /><figcaption aria-hidden="true">image-20230210084408054</figcaption></figure><ul><li>重点关注的文献：<ul><li>Jo E A. Memory, Institutions, and the Domestic Politics of SouthKorean–Japanese Relations[J]. International Organization, 2022, 76(4):767-798.</li><li>刘擎.共享视角的瓦解与后真相政治的困境[J].探索与争鸣,2017,No.330(04):24-26.</li><li>吴佳珅,吴飞.动员、博弈与说服：俄乌冲突中的舆论战探究[J].传媒观察,2022,No.462(06):50-55.DOI:10.19480/j.cnki.cmgc.2022.06.012.</li></ul></li></ul><h4 id="新学期展望">2 新学期展望</h4><p><strong>事件目标：</strong></p><ul><li>博士论文开题</li><li>投稿2篇学术论文</li></ul><p><strong>思想建设：</strong></p><ul><li>找回自己的主体性和对生活秩序的掌控，摆脱“在场缺席”的状态，从泥潭中走出</li><li>完成从学生到具备独立性的科研工作者的身份转变和心态转变</li><li>坚持运动，快乐科研</li></ul><p><img src="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/image-20230210085747374.png" alt="image-20230210085747374" style="zoom:67%;" /></p>]]></content>
    
    
    
    <tags>
      
      <tag>寒假</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Mac常用快捷键</title>
    <link href="/2023/02/06/Mac%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/"/>
    <url>/2023/02/06/Mac%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/</url>
    
    <content type="html"><![CDATA[<h3 id="mac常用快捷键">Mac常用快捷键</h3><p>本部分内容摘自苹果官方介绍：<ahref="https://support.apple.com/zh-cn/HT201236">Mac 键盘快捷键</a></p><p>你可以按下某些组合键来实现通常需要鼠标、触控板或其他输入设备才能完成的操作。</p><p>要使用键盘快捷键，请按住一个或多个修饰键，然后按快捷键的最后一个键。例如，要使用Command-C（拷贝），请按住 Command 键并按 C 键，然后同时松开这两个键。Mac菜单和键盘通常会<ahref="https://support.apple.com/zh-cn/guide/mac-help/what-are-those-symbols-shown-in-menus-cpmh0011/mac">使用符号来表示某些按键</a>，其中包括以下修饰键：</p><ul><li><p>Command（或 Cmd）⌘</p></li><li><p>Shift ⇧</p></li><li><p>Option（或 Alt）⌥</p></li><li><p>Control（或 Ctrl）⌃</p></li><li><p>Caps Lock ⇪</p></li><li><p>Fn 🌐</p></li></ul><p>在 Windows PC 专用键盘上，请用 Alt 键代替 Option 键，用 Windows标志键代替 Command 键。</p><p>Apple 键盘上的某些按键具有特殊符号和功能，例如用来控制显示屏亮度☼、键盘亮度等。如果你的键盘上没有这些功能，你也许可以通过<ahref="https://support.apple.com/zh-cn/guide/mac-help/create-keyboard-shortcuts-for-apps-mchlp2271/mac">创建自己的键盘快捷键</a>来实现其中的一些功能。要将这些键用作F1、F2、F3 或其他标准功能键，请将它们与 Fn 键组合使用。</p><hr /><h2id="剪切拷贝粘贴和其他常用快捷键command-x剪切所选项并拷贝到剪贴板">剪切、拷贝、粘贴和其他常用快捷键<strong>Command-X</strong>：剪切所选项并拷贝到剪贴板。</h2><ul><li><strong>Command-C</strong>：将所选项拷贝到剪贴板。这同样适用于“访达”中的文件。</li><li><strong>Command-V</strong>：将剪贴板的内容粘贴到当前文稿或 App中。这同样适用于“访达”中的文件。</li><li><strong>Command-Z</strong>：撤销上一个命令。随后你可以按Shift-Command-Z 来重做，从而反向执行撤销命令。在某些 App中，你可以撤销和重做多个命令。</li><li><strong>Command-A</strong>：全选各项。</li><li><strong>Command-F</strong>：查找文稿中的项目或打开“查找”窗口。</li><li><strong>Command-G</strong>：再次查找：查找之前所找到项目出现的下一个位置。要查找出现的上一个位置，请按Shift-Command-G。</li><li><strong>Command-H</strong>：隐藏最前面的 App 的窗口。要查看最前面的App 但隐藏所有其他 App，请按 Option-Command-H。</li><li><strong>Command-M</strong>：将最前面的窗口最小化至“程序坞”。要最小化最前面的App 的所有窗口，请按 Option-Command-M。</li><li><strong>Command-O：</strong>打开所选项，或打开一个对话框以选择要打开的文件。</li><li><strong>Command-P</strong>：打印当前文稿。</li><li><strong>Command-S</strong>：存储当前文稿。</li><li><strong>Command-T</strong>：打开新标签页。</li><li><strong>Command-W</strong>：关闭最前面的窗口。要关闭 App的所有窗口，请按下 Option-Command-W。</li><li><strong>Option-Command-Esc</strong>：<ahref="https://support.apple.com/zh-cn/HT201276">强制退出</a> App。</li><li><strong>Command-空格键</strong>：显示或隐藏“<ahref="https://support.apple.com/zh-cn/guide/mac-help/mchlp1008/mac">聚焦</a>”搜索栏。要从“访达”窗口执行“聚焦”搜索，请按Command–Option–空格键。（如果你<ahref="https://support.apple.com/zh-cn/guide/mac-help/type-language-mac-input-sources-mchlp1406/mac">使用多个输入法</a>以便用不同的语言键入内容，这些快捷键会更改输入法而非显示“聚焦”。了解如何<ahref="https://support.apple.com/zh-cn/guide/mac-help/mchlp2864/mac">更改冲突的键盘快捷键</a>。）</li><li><strong>Control-Command-空格键</strong>：显示字符检视器，你可以从中选择<ahref="https://support.apple.com/zh-cn/guide/mac-help/mchlp1560/mac">表情符号和其他符号</a>。</li><li><strong>Control-Command-F</strong>：全屏使用 App（如果 App支持）。</li><li><strong>空格键</strong>：使用“<ahref="https://support.apple.com/zh-cn/guide/mac-help/view-and-edit-files-with-quick-look-mh14119/mac">快速查看</a>”来预览所选项。</li><li><strong>Command-Tab</strong>：在打开的 App 中切换到下一个最近使用的App。</li><li><strong>Command-重音符 (`)</strong> ：在你当前所用 App的各个窗口之间切换。（第二个按键上的字符因键盘而异，通常是在 Tab键上方，数字 1 的左侧。）</li><li><strong>Shift-Command-5</strong>：在 <ahref="https://support.apple.com/zh-cn/HT201260">macOS Mojave或更高版本</a>中，拍摄截屏或录制屏幕。也可以使用 Shift-Command-3 或Shift-Command-4 来拍摄截屏。<ahref="https://support.apple.com/zh-cn/HT201361">进一步了解截屏</a>。</li><li><strong>Shift-Command-N</strong>：在“访达”中创建一个新文件夹。</li><li><strong>Command-逗号 (,)</strong> ：打开最前面的 App的偏好设置。</li></ul><hr /><h2 id="睡眠退出登录和关机快捷键">睡眠、退出登录和关机快捷键</h2><p>在这些快捷键中，你可能需要按住其中一些快捷键稍长时间。这样有助于避免无意中使用了这些快捷键。</p><ul><li><strong>电源按钮</strong>：按下可将 Mac 开机或将 Mac从睡眠状态唤醒。按住这个按钮 1.5 秒可使 Mac进入睡眠状态*。继续按住则会强制 Mac 关机。</li><li><strong>Option-Command-电源按钮</strong>* 或<strong>Option-Command-介质推出键</strong><img src="https://support.apple.com/library/content/dam/edam/applecare/images/en_US/il/eject-button-icon.png" alt="img" style="zoom:33%;" />：将Mac 置于睡眠状态。</li><li><strong>Control-Shift-电源按钮</strong>* 或<strong>Control-Shift-介质推出键</strong><img src="https://support.apple.com/library/content/dam/edam/applecare/images/en_US/il/eject-button-icon.png" alt="img" style="zoom:33%;" />：将显示器置于睡眠状态。</li><li><strong>Control-电源按钮</strong>* 或<strong>Control-介质推出键</strong><img src="https://support.apple.com/library/content/dam/edam/applecare/images/en_US/il/eject-button-icon.png" alt="img" style="zoom:33%;" />：显示一个对话框，询问你要让Mac 重新启动、睡眠还是关机。</li><li><strong>Control-Command-电源按钮</strong>*：强制 Mac重新启动，系统不会提示你存储任何已打开且未存储的文稿。</li><li><strong>Control-Command-介质推出键</strong><img src="https://support.apple.com/library/content/dam/edam/applecare/images/en_US/il/eject-button-icon.png" alt="img" style="zoom:33%;" />：退出所有App，然后重新启动Mac。如果任何打开的文稿有未存储的更改，系统会询问你要不要存储这些更改。</li><li><strong>Control-Option-Command-电源按钮</strong>* 或<strong>Control-Option-Command-介质推出键</strong><img src="https://support.apple.com/library/content/dam/edam/applecare/images/en_US/il/eject-button-icon.png" alt="img" style="zoom:33%;" />：退出所有App，然后将 Mac关机。如果任何打开的文稿有未存储的更改，系统会询问你要不要存储这些更改。</li><li><strong>Control-Command-Q</strong>：立即锁定屏幕。</li><li><strong>Shift-Command-Q</strong>：退出登录你的 macOS用户帐户。系统将提示你确认。要在不确认的情况下立即退出登录，请按下Option-Shift-Command-Q。</li></ul><p>* 不适用于<a href="https://support.apple.com/zh-cn/HT207054">触控 ID传感器</a>。</p><hr /><h2 id="访达和系统快捷键">访达和系统快捷键</h2><ul><li><strong>Command-D</strong>：复制所选文件。</li><li><strong>Command-E</strong>：推出所选磁盘或宗卷。</li><li><strong>Command-F</strong>：在“访达”窗口中开始“聚焦”搜索。</li><li><strong>Command-I</strong>：显示所选文件的“显示简介”窗口。</li><li><strong>Command-R</strong>：(1)如果在“访达”中选择了某个替身：显示所选替身对应的原始文件。(2) 在某些App（如“日历”或 Safari 浏览器）中，刷新或重新载入页面。(3)在“软件更新”中，再次检查有没有软件更新。</li><li><strong>Shift-Command-C</strong>：打开“电脑”窗口。</li><li><strong>Shift-Command-D</strong>：打开“桌面”文件夹。</li><li><strong>Shift-Command-F</strong>：打开“最近使用”窗口，其中会显示你最近查看或更改过的所有文件。</li><li><strong>Shift-Command-G</strong>：打开“前往文件夹”窗口。</li><li><strong>Shift-Command-H</strong>：打开当前 macOS用户帐户的个人文件夹。</li><li><strong>Shift-Command-I</strong>：打开 iCloud 云盘。</li><li><strong>Shift-Command-K</strong>：打开“网络”窗口。</li><li><strong>Option-Command-L</strong>：打开“下载”文件夹。</li><li><strong>Shift-Command-N：</strong>新建文件夹。</li><li><strong>Shift-Command-O</strong>：打开“文稿”文件夹。</li><li><strong>Shift-Command-P</strong>：在“访达”窗口中显示或隐藏预览面板。</li><li><strong>Shift-Command-R</strong>：打开“隔空投送”窗口。</li><li><strong>Shift-Command-T</strong>：显示或隐藏“访达”窗口中的标签页栏。</li><li><strong>Ctrl-Shift-Command-T</strong>：将所选的“访达”项目添加到“程序坞”（OSX Mavericks 或更高版本）</li><li><strong>Shift-Command-U</strong>：打开“实用工具”文件夹。</li><li><strong>Option-Command-D</strong>：显示或隐藏“程序坞”。</li><li><strong>Control-Command-T</strong>：将所选项添加到边栏（OS XMavericks 或更高版本）。</li><li><strong>Option-Command-P</strong>：隐藏或显示“访达”窗口中的路径栏。</li><li><strong>Option-Command-S</strong>：隐藏或显示“访达”窗口中的边栏。</li><li><strong>Command–斜线 (/)</strong>：隐藏或显示“访达”窗口中的状态栏。</li><li><strong>Command-J</strong>：显示“显示”选项。</li><li><strong>Command-K</strong>：打开“连接服务器”窗口。</li><li><strong>Control-Command-A</strong>：为所选项制作替身。</li><li><strong>Command-N</strong>：打开一个新的“访达”窗口。</li><li><strong>Option-Command-N</strong>：新建智能文件夹。</li><li><strong>Command-T</strong>：在当前“访达”窗口中有单个标签页开着的状态下显示或隐藏标签页栏。</li><li><strong>Option-Command-T</strong>：在当前“访达”窗口中有单个标签页开着的状态下显示或隐藏工具栏。</li><li><strong>Option-Command-V</strong>：将剪贴板中的文件从原始位置移动到当前位置。</li><li><strong>Command-Y</strong>：使用“快速查看”预览所选文件。</li><li><strong>Option-Command-Y</strong>：显示所选文件的快速查看幻灯片显示。</li><li><strong>Command-1</strong>：以图标方式显示“访达”窗口中的项目。</li><li><strong>Command-2</strong>：以列表方式显示“访达”窗口中的项目。</li><li><strong>Command-3</strong>：以分栏方式显示“访达”窗口中的项目。</li><li><strong>Command-4</strong>：以画廊方式显示“访达”窗口中的项目。</li><li><strong>Command-左中括号 ([)</strong> ：前往上一个文件夹。</li><li><strong>Command-右中括号 (])</strong> ：前往下一个文件夹。</li><li><strong>Command-上箭头</strong>：打开包含当前文件夹的文件夹。</li><li><strong>Command-Control-上箭头</strong>：在新窗口中打开包含当前文件夹的文件夹。</li><li><strong>Command-下箭头</strong>：打开所选项。</li><li><strong>右箭头</strong>：打开所选文件夹。这个快捷键仅在列表视图中有效。</li><li><strong>左箭头</strong>：关闭所选文件夹。这个快捷键仅在列表视图中有效。</li><li><strong>Command-Delete</strong>：将所选项移到废纸篓。</li><li><strong>Shift-Command-Delete</strong>：清倒废纸篓。</li><li><strong>Option-Shift-Command-Delete</strong>：清倒废纸篓而不显示确认对话框。</li><li><strong>Command-调低亮度</strong>：当 Mac连接到多台显示器时，打开或关闭视频镜像功能。</li><li><strong>Option-调高亮度</strong>：打开“显示器”偏好设置。这个快捷键可与任一亮度键搭配使用。</li><li><strong>Control-调高亮度</strong>或<strong>Control-调低亮度</strong>：更改外接显示器的亮度（如果显示器支持）。</li><li><strong>Option-Shift-调高亮度</strong>或<strong>Option-Shift-调低亮度</strong>：以较小的幅度调节显示器亮度。如果你的显示器支持，可以将Control 键添加到此快捷键，以便在外置显示器上进行调节。</li><li><strong>Option-调度中心</strong>：打开“调度中心”偏好设置。</li><li><strong>Command-调度中心</strong>：显示桌面。</li><li><strong>Control-下箭头</strong>：显示最前面的 App 的所有窗口。</li><li><strong>Option-调高音量</strong>：打开“声音”偏好设置。这个快捷键可与任一音量键搭配使用。</li><li><strong>Option-Shift-调高音量</strong>或<strong>Option-Shift-调低音量</strong>：以较小的幅度调节音量。</li><li><strong>Option-键盘调高亮度</strong>：打开“键盘”偏好设置。这个快捷键可与任一键盘亮度键搭配使用。</li><li><strong>Option-Shift-键盘调高亮度</strong>或<strong>Option-Shift-键盘调低亮度</strong>：以较小的幅度调节键盘亮度。</li><li><strong>连按 Option键</strong>：在单独的窗口中打开项目，然后关闭原始窗口。</li><li><strong>连按 Command键</strong>：在单独的标签页或窗口中打开文件夹。</li><li><strong>按住 Command键拖移到另一个宗卷</strong>：将拖移的项目移到另一个宗卷，而不是拷贝它。</li><li><strong>按住 Option键拖移</strong>：拷贝托移的项目。拖移项目时指针会发生变化。</li><li><strong>拖移时按住Option-Command</strong>：为拖移的项目制作替身。拖移项目时指针会发生变化。</li><li><strong>按住 Option键点按开合三角</strong>：打开所选文件夹内的所有文件夹。这个快捷键仅在列表视图中有效。</li><li><strong>按住 Command键点按窗口标题</strong>：查看包含当前文件夹的文件夹。</li><li><ahref="https://support.apple.com/zh-cn/guide/mac-help/mchlp1378/mac">了解如何使用Command 键或 Shift 键在“访达”中选择多个项目</a>。</li><li>点按“访达”菜单栏中的“前往”菜单查看用于打开许多常用文件夹（如“应用程序”、“文稿”、“下载”、“实用工具”和“iCloud云盘”）的快捷键。</li></ul><hr /><h2 id="文稿快捷键">文稿快捷键</h2><p>这些快捷键的行为可能因你使用的 App 而异。</p><ul><li><strong>Command-B</strong>：以粗体显示所选文本，或者打开或关闭粗体显示功能。</li><li><strong>Command-I</strong>：以斜体显示所选文本，或者打开或关闭斜体显示功能。</li><li><strong>Command-K</strong>：添加网页链接。</li><li><strong>Command-U</strong>：对所选文本加下划线，或者打开或关闭加下划线功能。</li><li><strong>Command-T</strong>：显示或隐藏“字体”窗口。</li><li><strong>Command-D</strong>：从“打开”对话框或“存储”对话框内选择“桌面”文件夹。</li><li><strong>Control-Command-D</strong>：显示或隐藏所选字词的定义。</li><li><strong>Shift-Command-冒号 (:)</strong>：显示“拼写和语法”窗口。</li><li><strong>Command-分号 (;)</strong> ：查找文稿中拼写错误的字词。</li><li><strong>Option-Delete</strong>：删除插入点左边的字词。</li><li><strong>Control-H</strong>：删除插入点左边的字符。也可以使用 Delete键。</li><li><strong>Control-D</strong>：删除插入点右边的字符。也可以使用Fn-Delete。</li><li><strong>Fn-Delete</strong>：在没有向前删除键的键盘上向前删除。也可以使用 Control-D。</li><li><strong>Control-K</strong>：删除插入点与行或段落末尾处之间的文本。</li><li><strong>Fn-上箭头</strong>：Page Up：向上滚动一页。</li><li><strong>Fn-下箭头</strong>：Page Down：向下滚动一页。</li><li><strong>Fn-左箭头：</strong>Home：滚动到文稿开头。</li><li><strong>Fn-右箭头</strong>：End：滚动到文稿末尾。</li><li><strong>Command-上箭头</strong>：将插入点移至文稿开头。</li><li><strong>Command-下箭头</strong>：将插入点移至文稿末尾。</li><li><strong>Command-左箭头</strong>：将插入点移至当前行的行首。</li><li><strong>Command-右箭头</strong>：将插入点移至当前行的行尾。</li><li><strong>Option-左箭头</strong>：将插入点移至上一字词的词首。</li><li><strong>Option-右箭头</strong>：将插入点移至下一字词的词尾。</li><li><strong>Shift-Command-上箭头</strong>：选中插入点与文稿开头之间的文本。</li><li><strong>Shift-Command-下箭头</strong>：选中插入点与文稿末尾之间的文本。</li><li><strong>Shift-Command-左箭头</strong>：选中插入点与当前行行首之间的文本。</li><li><strong>Shift-Command-右箭头</strong>：选中插入点与当前行行尾之间的文本。</li><li><strong>Shift-上箭头</strong>：将文本选择范围扩展到上一行相同水平位置的最近字符处。</li><li><strong>Shift-下箭头</strong>：将文本选择范围扩展到下一行相同水平位置的最近字符处。</li><li><strong>Shift-左箭头</strong>：将文本选择范围向左扩展一个字符。</li><li><strong>Shift-右箭头</strong>：将文本选择范围向右扩展一个字符。</li><li><strong>Option-Shift-上箭头</strong>：将文本选择范围扩展到当前段落的段首，再按一次则扩展到下一段落的段首。</li><li><strong>Option-Shift-下箭头</strong>：将文本选择范围扩展到当前段落的段尾，再按一次则扩展到下一段落的段尾。</li><li><strong>Option-Shift-左箭头</strong>：将文本选择范围扩展到当前字词的词首，再按一次则扩展到下一字词的词首。</li><li><strong>Option-Shift-右箭头</strong>：将文本选择范围扩展到当前字词的词尾，再按一次则扩展到下一字词的词尾。</li><li><strong>Control-A</strong>：移至行或段落的开头。</li><li><strong>Control-E</strong>：移至行或段落的末尾。</li><li><strong>Control-F</strong>：向前移动一个字符。</li><li><strong>Control-B</strong>：向后移动一个字符。</li><li><strong>Control-L</strong>：将光标或所选内容置于可见区域中央。</li><li><strong>Control-P</strong>：上移一行。</li><li><strong>Control-N</strong>：下移一行。</li><li><strong>Control-O</strong>：在插入点后新插入一行。</li><li><strong>Control-T</strong>：将插入点后面的字符与插入点前面的字符交换。</li><li><strong>Command-左花括号 ({)</strong> ：左对齐。</li><li><strong>Command-右花括号 (})</strong> ：右对齐。</li><li><strong>Shift-Command-竖线 (|)</strong> ：居中对齐。</li><li><strong>Option-Command-F</strong>：前往搜索栏。</li><li><strong>Option-Command-T</strong>：显示或隐藏 App 中的工具栏。</li><li><strong>Option-Command-C</strong>：拷贝样式：将所选项的格式设置拷贝到剪贴板。</li><li><strong>Option-Command-V</strong>：粘贴样式：将拷贝的样式应用到所选项。</li><li><strong>Option-Shift-Command-V</strong>：粘贴并匹配样式：将周围内容的样式应用到粘贴在该内容中的项目。</li><li><strong>Option-Command-I</strong>：显示或隐藏检查器窗口。</li><li><strong>Shift-Command-P</strong>：页面设置：显示用于选择文稿设置的窗口。</li><li><strong>Shift-Command-S</strong>：显示“存储为”对话框或复制当前文稿。</li><li><strong>Shift-Command-减号 (-)</strong> ：缩小所选项。</li><li><strong>Shift-Command-加号 (+)</strong> ：放大所选项。Command-等号(=) 可实现相同的功能。</li><li><strong>Shift-Command-问号 (?)</strong> ：打开“帮助”菜单。</li></ul><hr /><h2 id="其他快捷键">其他快捷键</h2><p>如需了解更多快捷键，请查看 App 菜单中显示的快捷键缩写。每个 App都有自己的快捷键，在一个 App 中可用的快捷键可能在另一个 App中不可用。</p><ul><li><ahref="https://support.apple.com/zh-cn/HT204434">辅助功能快捷键</a></li><li><ahref="https://support.apple.com/zh-cn/guide/safari/keyboard-and-other-shortcuts-cpsh003/mac">Safari浏览器快捷键</a></li><li><ahref="https://support.apple.com/zh-cn/guide/mac-help/spotlight-keyboard-shortcuts-mh26783/mac">“聚焦”快捷键</a></li><li><ahref="https://support.apple.com/zh-cn/HT201255">启动快捷键</a></li><li>“音乐”App 快捷键：从“音乐”App的菜单栏中选取“帮助”&gt;“键盘快捷键”。</li><li>其他快捷键：选取苹果菜单 &gt;“系统偏好设置”，点按“键盘”，然后点按“<ahref="https://support.apple.com/zh-cn/guide/mac-help/use-global-keyboard-shortcuts-mchlp2262/mac">快捷键</a>”。</li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>快捷键</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>那些想念会在秋天说话</title>
    <link href="/2022/12/13/%E9%82%A3%E4%BA%9B%E6%83%B3%E5%BF%B5%E4%BC%9A%E5%9C%A8%E7%A7%8B%E5%A4%A9%E8%AF%B4%E8%AF%9D/"/>
    <url>/2022/12/13/%E9%82%A3%E4%BA%9B%E6%83%B3%E5%BF%B5%E4%BC%9A%E5%9C%A8%E7%A7%8B%E5%A4%A9%E8%AF%B4%E8%AF%9D/</url>
    
    <content type="html"><![CDATA[<h3 id="那些想念会在秋天说话">那些想念会在秋天说话</h3><p><br/></p><p>文/潘云贵</p><p><br/></p><p>故事被落叶的声音吵醒</p><p>这个秋天，风拂过阳光薄弱的树梢</p><p>你向城市的北端走去，踪影消失</p><p>不辞而别的雨，一阵比一阵下得辛酸</p><p>我看到玫瑰色的想念是心底蠕动的虫</p><p>在你察觉不到的角落</p><p>想要变成飞翔的蝴蝶</p><p><br/></p><p>世界上最漫长的距离是想念</p><p>比赤道长，比经纬长，比所有的光年都长</p><p>你是睡在想念里的那座城堡</p><p>被森林遮掩，铁门紧锁，没有表情</p><p>我跋山涉水想去看你</p><p>见过见说话的天鹅，见过会发光的长颈鹿</p><p>却不再看见你</p><p><br/></p><p>偶尔想起坐在天台上吹风的日子</p><p>云霞缥缈，夕阳像十八岁的新娘</p><p>你的背上长出翅膀，身上缀满雪花的光</p><p>你说自己是天使，要守护一些人一辈子</p><p>我不信，摇摇头</p><p>你扑闪着翅膀，瞬间飞起</p><p>嘴角的微笑变成华兹华斯金色的十四行 <br/></p><p>现在，我已经相信</p><p>你是这个世界上最特别的人</p><p>有流川枫的温度，有蒙娜丽莎的微笑</p><p>我不知道自己为什么会这么想你</p><p>想写一封长长的信给你</p><p>在秋天的午后，穿靴子的猫从屋檐上走过</p><p>我想，那是你</p><p>终于回来看我的你</p><p>终于要说“我也喜欢你”的你</p><p><br/></p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/image-20230206221625491.png"alt="image-20230206221625491" /><figcaption aria-hidden="true">image-20230206221625491</figcaption></figure><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/image-20230206221122120.png"alt="image-20230206221122120" /><figcaption aria-hidden="true">image-20230206221122120</figcaption></figure>]]></content>
    
    
    
    <tags>
      
      <tag>想念</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>我看见巨大的荒诞无声发生</title>
    <link href="/2022/05/13/%E6%88%91%E7%9C%8B%E8%A7%81%E5%B7%A8%E5%A4%A7%E7%9A%84%E8%8D%92%E8%AF%9E%E6%97%A0%E5%A3%B0%E5%8F%91%E7%94%9F/"/>
    <url>/2022/05/13/%E6%88%91%E7%9C%8B%E8%A7%81%E5%B7%A8%E5%A4%A7%E7%9A%84%E8%8D%92%E8%AF%9E%E6%97%A0%E5%A3%B0%E5%8F%91%E7%94%9F/</url>
    
    <content type="html"><![CDATA[<p>封校已经两个月，距离转运也已经一个月。</p><p>这两个月，见证了各种各样的荒诞与无声，不仅仅对远方的哭声失语；对于耳边的哭声，也失去了感知能力。</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image/img/image-20220513164851878.png"alt="image-20220513164851878" /><figcaption aria-hidden="true">image-20220513164851878</figcaption></figure>]]></content>
    
    
    
    <tags>
      
      <tag>荒诞</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>关于武汉和师大的小故事</title>
    <link href="/2022/03/20/%E5%85%B3%E4%BA%8E%E6%AD%A6%E6%B1%89%E5%92%8C%E5%B8%88%E5%A4%A7%E7%9A%84%E5%B0%8F%E6%95%85%E4%BA%8B/"/>
    <url>/2022/03/20/%E5%85%B3%E4%BA%8E%E6%AD%A6%E6%B1%89%E5%92%8C%E5%B8%88%E5%A4%A7%E7%9A%84%E5%B0%8F%E6%95%85%E4%BA%8B/</url>
    
    <content type="html"><![CDATA[<blockquote><p>本文于2020年2月1日发布于“白芷丶”公众号。</p></blockquote><p>呀哈哈~</p><p>一月二十九日，农历正月初五，晴。</p><p>今天应是半个月以来第一次见到太阳。</p><p>早上醒来的时候，窗外的天空换了颜色，整个世界像撕去了黑白滤镜，一改往日的铅灰。这个春节，总是有很强的虚幻感。没有节日的气氛，闻不到春天。</p><p>“隐约雷鸣，阴霾天空”，没有雷鸣，也找不到孝雄的庭子。</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image/img/image-20220320135935826.png"alt="image-20220320135935826" /><figcaption aria-hidden="true">image-20220320135935826</figcaption></figure><p>大四的时候，由于实习工作的缘故，跑遍了武汉很多的地方，南湖、东西湖、江夏、阳逻、蔡甸，还有光谷东。那时七号线、十一号线和二号线延长线还未开通，去南湖和光谷东总需要“地铁+公交+单车”等多项组合。如果说一座城市有一座城市的性格，那么武汉给我的第一印象是暴躁，而这印象的得来首先在于武汉的交通。14年的时候，阮成发担任武汉市委书记，武汉的在建工地超过一万处，人们给这位书记上了“满城挖”的外号。是的，武汉，每天都不一样。永远能精准挖断水管（DNxxx号）的雄楚大道施工队，永远修建不完的光谷转盘，随处可见的施工隔离区、尘土、轰鸣声，整座城市像个噪音很高的大县城。大修大建时期的公共交通总很有问题，地铁很挤、公交很堵，似乎下午经过街道口，就没有不堵车的时候。曾无数次感叹过光谷站是这个世界上最挤的地铁站，周五下午的时候，大多数学校没有课程，光谷成了年轻人的天下，出地铁站的时候，基站过载，手机网络丢失，人群缓慢流动，挤过天桥或是地下通道，终于到达世界城，像是经历了一场战役。大四每周会有几次去光谷上课，公交到达鲁巷的时候就进入了龟速模式，见缝插针的私家车、电动车还有行人，夹杂着浓重的尾气缓慢前行。有时碰上易怒的司机，遇见塞车的情况，就是拉开窗户探出头骂，标准的武汉脏话。一声滴滴，之后是多米诺骨牌般绵长的滴滴，从鲁巷穿透到鲁磨路。然而我只能默默祈祷着他不要急停急刹，然后做好回程时卓刀泉段堵车的心理准备。地铁堵不了，但是会很挤，中南路、汉街，上下班的时候背的双肩包能被挤扁，噢，还有那令人嫌弃不忍握住的二号线的粉红色扶手。暴躁的不只是城市公交，还有校车。校车转过东二路口的时候，偶尔也能见到光谷司机的那一幕，还有神奇的“桂子山车神”，他的车会有特别的音乐，以及下盘山路时加速的神奇操作。</p><p>令人感到暴躁的还有大一大二时遇到的部分教务处老师，处理借教室事宜的、课程增补的，真让人怀疑人生，以至于我后来时常想，教师这个称谓为何泛化开来，教务处的许多老师只是行政工作人员，辅助教学活动并不教书，处事上亦常常成为反面教材，为何要称之为教师。</p><p>纵使武汉很暴躁已成为心中的刻板印象，仍庆幸在武汉和桂子山上遇到了太多新奇的事和善良的人。</p><h3 id="课程与讲座">课程与讲座</h3><p>好像自带选课人品buff，大一大二抢课时总能选到很多的通选课。剑男老师的《中学语文名篇选讲》，讲《离骚》时谈到屈原的形象层累与其性别取向问题，谈到人教社编教参的问题，给我们开了一扇窗。有趣的是剑男老师四月末的时候说他要离开一阵子，六月九号回来，大家意会到老师是去参加高考命题。还有《中华文化史》，教材编者是冯天瑜老师，课堂上放了很多视频，服饰器物到文化，贯穿先秦到明清。险些翻车的是《影视艺术研究》，选课时以为上课看看电影就完事，结果电影片段没见几次，满是长篇累牍的影视理论，嗯，很符合课程名称，随堂考试时也很爆炸。有一门尔雅课是《逻辑与批判性思维》，线上课程是杨武金老师在人大的课程录播，里面讲到了很多有趣的小案例。还有一些欢乐的课程，《消费类电子产品参数解析》、《计算机组装与维护》，并不是因为课程内容有趣，而是听老师讲他们读书时的一些故事，286时代，自己焊主板，去广埠屯刷BIOS，他们是那时的PC玩家。非专业课中印象最深的是彭晓辉老师的《性科学概论》，这可能是桂子山上最热的一门课了。课程开在中午，那时和小伙伴从六号楼穿过人从众叕到七号楼，在贩卖机上买个小面包抢座位。彭老师通常会戴帽子，像个有趣的绅士。老师从翻译讲起，sex到sexual到sexuality，讲他们的合作方和他们的网站、他们的著作与译著，讲LGBT群体。性的生理学只占课程的一部分，更多的是性安全，性的心理学、社会学等内容，也是基于此，老师想将课程名称改为《性学概论》。课上还能感知到老师讲这门课十几年的说课功底，没有打结的地方，没有表达繁复之处，与台下听课老师或者提问的同学互动时的深厚感，在彭老师这里能体会到一个学者对于教与学的虔诚。</p><p>专业课程就比较神奇了，分流之前的杨选老师和陈仕中老师上课都比较有趣。房管的专业课程就很强，最开始时系主任讲《房地产经济学》，有一种无形的气场，不敢开小差，不敢轻易回答问题，生怕某个思维漏洞被直勾勾撕破。《建筑工程概论与识图》由戴璐老师主讲，是我们专业仅有的工科课程。戴璐老师很温柔，上课的时候语音和笔触，有底蕴和实力的感觉，黑板上的每一根线条，每一个建筑构件，清晰而美丽，她印制好识图所需的材料，发给我们练习，课堂上答疑解惑清晰明朗，冬天的时候，早晨第一节课，戴老师也会来得很早。戴老师的另一标志是她的白色小奥迪，老师会稍稍提前几分钟下课，在人流密集之前开着她的小奥迪从绝望坡下驶出东门。邓保同老师讲授《房地产法》、董利民老师讲授《城市经济学》，教材的编者亲自授课，甚至书上的许多案例是老师参与处理的，自然感觉更亲切。高炳华老师讲授《房地产估价》和《房地产市场营销》，他本人是房地产估价师和房地产经纪人学会资深会员，参与《房地产估价规范》的编写，担任房地产估价师执业资格考试命题组组长，配合他有趣的武汉话，讲起课来也是各种案例生动展示。现在想起，估价知识都忘了，但记得他上课的玩笑，他说柴强老师是估价届的权威，特意强调“地球人都知道”；他回忆在数学系的往事，回忆东区网球场还是鱼塘的时候，在里面钓鱼。邓院长讲授《房地产产权》，没有课本，少有形而上的概念介绍，多的是各种思辨性的问题，划拨土地的合资合作开发、城市车库的处理、教育用地性质，等等，从产权角度给我们剖析这些问题的方方面面和各解决措施的局限。院长的课，觉着上课认真听了，可以不用复习，果然，期末试卷没有任何需要死记硬背的东西。但是院长的课有个很严重的问题（当然这是我的问题），跟不上他的节奏，常常不能理解他的问题，像系主任的课一样，有一种高压气场。</p><p>课程之外有许多讲座，而且，交通便利。403艺术中心，类似于北京798，是城市工业绅士化的象征。403漫行书店偶尔会有讲座和见面会，在那里听过余秀华与魏天真老师的对话，光头魏天无老师在一旁拍照，诗人张执浩在台下当观众；有次牛奶咖啡的见面会在漫行，大家一起唱《明天你好》，唱《我不想说再见》，结束时要到了奶咖的签名，然后望向书店横梁上的“置身于伟大的风暴中”。15年的冬天在新传报告厅听过田媛老师的讲座，在报告厅的后排，貌似还没有座位，听桂子山网红老师讲她的恋爱史，她和先生彼此是初恋，还是异地恋，当初田媛老师去西安找他，学霸男票和她在图书馆自习，田媛老师就一个人玩了一下午字典。同一间报告厅，还听过王后雄老师的讲座，“如何成为一名优秀教师”，王老师在中学阶段的时候，同时讲授物理和化学，真的很猛，没错，就是《教材完全解读》和《重难点手册》系列主编——王后雄。有一年冬天还遇见了十里春风的冯唐，那时他还没有发明“中年油腻”这个词，他讲创业和写作，关于他，印象最深的是《万物生长》里关于眼光与水的论述。</p><h3 id="与亚历山大科学院">1404、520与亚历山大科学院</h3><p>1404是班级编号，房管1404正式成立于2016年2月16日。大四临近毕业时要排练毕业晚会节目，才猛然发觉自己当了很久的班长但没怎么参加过班级活动。第一次团日活动是和华科某给排水专业的联谊，那个周六有辅修的课程故没有参加，同样有辅修课程的团支Dr.Wang去了，据说对方的团支长得很像郑凯，我班很多女生成为了对方的小迷妹。此后的多项活动我都很边缘，辩论赛第三名，辩论队的同学负责全程，篮球赛拿了冠军，我只用负责送水和赛后领奖与拍照。分流后的第一个学期，某天下午系主任陈老师带我们去参观花山碧桂园的楼盘，据说是十年前拿的地，陈老师和她的老师聊天，我们一群小喽啰旁听，蜿蜒的别墅区，600㎡的精装大house，超级羡慕室内影院！我班的一大特点是比较和谐，在其他班为毕业论文选导师吵得不可开交班内撕逼时，我班云淡风轻。大四下某天还在世联上班，在年级群里因为人陪的事情“顶撞”了一下辅导员，然后前任年级主席跳了出来，大有开怼的架势。因为手头还有估价报告要编，暂时没有理会。我只觉得那是件小事，人生总有踩到大便的时候，只不过那次是马粪。下班回寝室才知道，微信、QQ还有微博已经开怼了，炮口对外，火力特别集中。后来听楠哥说一致对外是房管历来的传统，再后来小黄人帅达说16级的房管班也是一样。这大概就是，房管的磁场吧。其实，15年冬天专业分流的时候选房管好像是一念之间的事情，和王博士在佑铭打乒乓球，聊到了专业的事情，于是就，选择了房管，这个无意且草率的决定成就了长久的幸运。</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image/img/image-20220320140048005.png"alt="image-20220320140048005" /><figcaption aria-hidden="true">image-20220320140048005</figcaption></figure><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image/img/image-20220320140129806.png"alt="image-20220320140129806" /><figcaption aria-hidden="true">image-20220320140129806</figcaption></figure><p>520是大三开始宿舍的编号，房间没变，原本的宿舍编号是518。迎新系统开放的上午，还在做家教，没有抢到隔壁520的位置，不过捡到了518的最后一个漏。这个房间里有很多的因缘际会，不适合的人会走，对的人会来。翰笙是很神奇的人，理科僧，刚加上他QQ那会儿，他特喜欢转发各种说说和文章，空间里满是他的动态；明明是个理科僧，但是历史好得要命，卧谈会的时候，只觉得我是个假的文科生，学了那么多年的历史依旧无比贫乏。有一年平安夜是周五，图书馆闭关，教学楼因为考研封楼，我们俩一个单身狗一个异地狗，背着书包到处找自习室，并没有找到容身之处，最后决定凑光谷的热闹，好像就在那时，发现光谷有阿狸梦之城的线下店。16年夏天，武汉的大暴雨持续了很久很久，东四这栋据说建于文革时期的老楼要翻修，不忍西六的潮湿，在东四待到最后期限才搬。暴雨期间在yy楼上课，每天会被淋湿很多次，中午、晚上和荣荣在活动室自习吃饭，敲门暗号是“我爱学习，学习使我快乐”。大雨在七月七日晴，那天去了长沙。等到回来的时候，已经是大三，门牌号改为了520，不久后荣荣搬了进来。和荣荣开了很多的卧谈会，有时候会很晚很晚，感谢翰笙梦中没有杀人。荣荣是真学霸，有很强的学者气，诗社社长，带我去参加他们的端午诗会和阳光码头的诗会，给我讲文院的故事。有次寒假前，下了大雪，路面是很厚的冰，和荣荣一路“小心地滑”到东门买回家的小礼物和周黑鸭，晚上在寝室看《鬼子来了》，继续开卧谈会。想念荣荣分享的木姜子酱和在活动室备考六级的时光。大四的时候跟荣荣开玩笑说他拿了最高的奖学金得承包我终身的周黑鸭，他宁死不从，然而去年暑假他来南图查古籍，主动带了周黑鸭并给了我第二张鼠标垫，还说要承包我终身所有的鼠标垫，这是我在2019年收到的最天荒地老的承诺。猴哥在最后的日子才搬进来，但猴哥就在隔壁，日常串门，他早已在我们寝室。大三的寒假前，猴哥就和我们一起去吃了海鲜自助，之后又有海底捞。猴哥给过我他在斯坦福和伯克利的明信片，之后很长一段时间里，我都将伯克利的校徽贴在桌子上。教务长说猴哥是我的春原阳平，我也觉得是这样，是欢乐的猴哥呀。毕业后经常跟猴哥通电话，感谢猴哥的循循善诱~</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image/img/image-20220320140213307.png"alt="image-20220320140213307" /><figcaption aria-hidden="true">image-20220320140213307</figcaption></figure><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image/img/image-20220320140229870.png"alt="image-20220320140229870" /><figcaption aria-hidden="true">image-20220320140229870</figcaption></figure><p>亚历山大科学院成立初衷是要建立一个学术组织，确实，群内也讨论过那么几次学术问题…偶然在北师大赵峥老师的《从爱因斯坦到霍金的宇宙》里听到爱因斯坦将其青年时期的学习小组命名为奥林匹亚科学院，为了气势上的对称，我们建立了亚历山大科学院。科学院创立之初有三位成员，研究部主任、教务长和院长。教务长和主任都是极其聪敏和善良的人，大概是，许多美好的品质，自然降临在她们身上。主任好像自带隐匿属性，经常联系不到其人，电话不接，微信不回。但主任是学习带飞组长，高数、线代和概率论，以及万恶的会计学，没有她带飞我可能就挂科了。有次下课途中被辅导员的电话击中，问我房管班为什么没有报优秀班集体，当时有点惊愕，联系主任，主任说她忘了，当时想灭了她的心都有，但转念一想，这真的无所谓。有次女生节，陈峰老师临时有事来不了，我们就在教室自习，主任开始了她的精彩操作，和几个小伙伴一起临时组织节目，点名与唱歌，就这么简单活跃了一节课，真的，太强了！后来那年的男生节，班上仅有的几个男生也收到了主任领导下的关爱。教务长是美妆达人，据说以前微博有许多粉丝。最开始好像是康腾杯组队（cox）认识的，就莫名，熟络起来，后来都聚集到房管班。上辅修课的冬天，教务长推荐我看《Clannad》，并不太长的动漫，改变了我很多很多，自此，小汐成了我女儿的名字。和教务长组队参加了许多的比赛和活动，以及数不清的课程Pre，是可以无条件信任的队友。教务长是很认真细心的人，但她也有糊涂的时候，比如拍毕业照那天错过了清晨的闹钟~毕业论文答辩结束那晚，亚历山大科学院在高职聚集，就那样简单的坐着聊天，能聊很久很久，天南海北，后来在佑铭也是，约定毕业后有空去南京，逛夫子庙，在仙林看火立方。</p><p>Alexander academy of sciences，forever!</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image/img/image-20220320140255902.png"alt="image-20220320140255902" /><figcaption aria-hidden="true">image-20220320140255902</figcaption></figure><h3 id="好吃的">好吃的</h3><p>在武汉，便宜实惠的热干面可能在食堂。据说华科、武大有一块二和一块五的热干面，桂香园貌似也有，但忘了价钱。吃的最多的是东一二楼川南的热干面，热干面加鸡蛋不要辣，这可能是很多个去大厅值班、去汉街上班的早餐佳品。川南的窗口可以加酸豆角和香菜，简直美滋滋。也尝过外面蔡林记的热干面，感觉不行，抛开比学校贵很多的价格不说，口味是真的不行。其实第一次翰笙带我吃热干面，吃完有种想吐的感觉，热干面的麻酱，拌完真的很干，建议搭配豆浆。但后来看见很多同学课前边赶路边挑着热干面，就会发现它的魔力。</p><p>最好的鱼粉、肠粉、黄焖鸡也在食堂。肠粉在桂香园，独一份，大四那年有空缺，许多个傍晚在大厅值完班，不急着吃饭，六点多从桂中路漫步到桂香园，偶尔能看见邓院长。桂香园的肠粉很特别，不切开而是堆叠在一起，像一棵大白菜，鸡蛋火腿真的很便宜，绝妙的是小盘子里的汤汁，胜过在外面尝过的许多家。鱼粉在学子、东二和桂香园都有，桂香园人太多，学子的味道欠点，吃得最多的是东二的，二楼最左边的窗口，五谷鱼粉、番茄丸子、肉丝肉末还有肥肠，真的很好吃，量大而且价格只有外面的一半。博雅园的招牌自然是黄焖鸡了，貌似大四还有一波神奇操作，价格从14元/份降到13元/份，黄焖排骨、黄焖豆腐还是最喜欢黄焖鸡，同一家的牛肉锅仔也很棒。黄焖鸡通常需要排队，取号之后找个安静的角落坐下，还经常能被情侣秀一脸。博雅园的黄焖鸡里没有掺土豆，里面有粉条、千张和小白菜，自选辣酱，搭配的饭里面有小玉米粒，色香味俱全大概就是这样子。</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image/img/image-20220320140315246.png"alt="image-20220320140315246" /><figcaption aria-hidden="true">image-20220320140315246</figcaption></figure><p>食堂与宿舍区挨得近，而且一天之内貌似没有明确的供餐期，很多窗口会开很久，上午九十点和下午三四点去，都能遇到很多供餐的窗口，晚上九点之后也是。有时候晚上下课，会去山西巧媳妇吃面，还有东一和学子不麻不辣也不烫的麻辣烫。噢，还有东南门，小小的堕落街是食堂之外的美妙补充，一对浙江夫妻经营的小摊，炒粉炒面；徽州汤包的摊子还经营各色的粥，粥很好喝，汤包很好吃，跟老板套近乎说自己是安徽人大概率会被赠送一个汤包。还有对面的创意城，去过很多次的海底捞和胖哥俩肉蟹煲，鸡爪煲再加鸡爪真的很绝。</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image/img/image-20220320140333277.png"alt="image-20220320140333277" /><figcaption aria-hidden="true">image-20220320140333277</figcaption></figure><p>Miyi，第一次认识它是在线哥和洋葱的推送里，东十六楼下的它面临着搬迁倒闭的风险。初尝的是它的招牌熊猫奶盖，在东十六楼下的店里，拿之前先舔着脸喝一口是硬性规定，这对于我等钢铁直男来说是个不小的挑战。浓稠的奶盖搭配红茶，撒上奥利奥土（是兔子小姐给的名字），红茶快见底的时候拿勺子拌奶盖和奥利奥土吃，所以，严格来说，熊猫奶盖作为一款奶茶，它的精髓不在于喝时的口感而在于“吃”。后来Miyi搬到了东区小树林的二楼，依旧是小小的店面，积分卡和写满来自世界各地寄语的明信片，装饰着小小的房间，会有情侣聊天，有同学下五子棋。这段时间里，Miyi推出了他们的至高作品，周雪，完爆奈雪和喜茶的霸气芝士草莓和芝芝莓莓，周雪的热度超高，以至于下班回来再问的时候已经脱销。有时幸运能在下班之后买到，在学子吃完面，之后背上电脑去八号楼找个教室自习，和周雪一起默默看文献，会有深深的满足感。或许是桂子山上凝聚了太多的文艺气息，Miyi的很多款都是矫揉造作的名字，周雪之后推出了好芒和喜欢你，再加上不久前发现的夏紫，Miyi的总统山建成了。好雨知时节，好的茶也是这样，桂子山的春末夏初，周雪、好芒和喜欢你都是限季节的饮品。如今主店已移到国交四栋楼下，店主已经在华农武理开了分店，相信开遍武汉七校不是问题。Ps：Miyi东区店的小凳子上写着，大狗子！</p><h3 id="新奇际遇">新奇际遇</h3><h4 id="康腾大众评审">康腾大众评审</h4><p>Cox，应该是本科时第一个参与的比赛队伍，取名来自小队第一次见面的地点，音乐学院一楼的小小咖啡厅。虽然康腾杯没有晋级，但有去决赛现场成为大众评委的一员，事实上连续三年都担任了康腾的大众评委，在武大人文馆看各路选手尽显风采。印象最深的是川大的队伍，真的太强了，在大多数队伍走常规路线时，川大队伍玩起了熊出没里的角色扮演，活脱脱将案例分析演成了幽默短剧。</p><h4 id="东湖骑行和王博士骑车">东湖骑行、和王博士骑车</h4><p>不知何时东湖建成了绿道，从武大东门延伸到磨山再贯通至华侨城。有天下午大家约着去骑车，有教务长和主任、霞姐、晨阳哥和磊哥，当时猴哥貌似忙着恋爱，不管电话里怎么催都不来。在绿道口，神奇的事情发生了，我们万能的Dr.Wang居然不会骑自行车，于是骑行增添了新的任务，让王博士学会骑车，一群人折腾一路，最后还是打车回去。不久后的某个晚间，去对面学校散步，九一二操场，就那么很短的一段时间，王博士学会了骑自行车！</p><h4 id="猴哥带我们春游">猴哥带我们春游</h4><p>应该是春天，或者春夏交接的时候，天气逐渐热起来。某个下午猴哥开上他的白色小奥迪，带我们去逛武汉动物园。就是一个很破的动物园，脏兮兮的大熊猫，跟鸭子差不多大的南极企鹅，还有各种鹦鹉。那天停留很久的地方是看大熊戏水和打架，消耗了手机不少内存。猴哥开车很稳的说，经过鹦鹉洲大桥，视野很棒，是大江大湖大武汉的既视感。记得戴璐老师在课堂上说：晴川历历汉阳树，芳草萋萋鹦鹉洲。</p><p>Ps：猴哥的白色小奥迪和戴璐老师的是同款。</p><h4 id="穿梭在市井之间">穿梭在市井之间</h4><p>不喜欢待在寝室，向往在武汉街头不经意的瞬间发现特别的秘密。一个人去过很多地方。大一的某天下午去看黄鹤楼，不巧遇上黄鹤楼正在修缮，不想返程，没有去隔壁户部巷，而是向着江对岸走去。武汉长江大桥据说是苏联援建，路桥一体，汽车道下是火车道，再下方是轮渡码头。从武昌走到汉阳，大桥人行道的围栏扶手上有很多涂鸦和充满非主流气息的中二文字，不清楚写下之人那时的年岁与内心独白。大三的暑假，白天会在大厅自习，傍晚时分会骑车出去走走，并不太远，十几公里有时几十公里，珞珈山下遇见在方格砖上拿毛笔蘸水练字的老爷爷；在狮子山下的国家重点实验室和试验田留下足迹，拍照，想象着里面科学家的生活，投下一个理科白痴的敬佩；武汉植物园旁南望山下的街道，夜晚的时候，能看到东湖绿道长长的路灯带，湖心的灯火能延伸很远。票圈里某位学长清晨排长队去粮道街给未婚妻买早点，配图里有诱人的味道，顿生疑惑，有了一探究竟的动力。在世联上班的时候，有天看房的单子安排在清晨，六点多到客户家，处理完后发现不远处就是粮道街，有了“过早”的想法，已经忘了点的是什么，大概是很油腻的高级烧麦，真的有很多人排队，就这样，顺利打卡。</p><h4 id="我的秘密基地">我的秘密基地</h4><p>桂子山真的太挤了，自习室真的不多，但每个人仍能找到自己的去处，有的人成为了图书馆的雕塑、有的人是教学楼自习室的灵魂，还有很多人在食堂备考，而我有两处秘密基地。很多个期末，整理完考试资料，需要找个背书的地方。图书馆四楼靠近研讨室的电梯间成了我的第一个秘密基地，在这里，背过很多的资料，印象最深的是昏天黑地的《房地产法》。秘密基地二在学生事务大厅的四楼，那时候在大厅值班，非排班的半天就会在大厅楼上背书，很小的地方，是模联门口的平台。大多数人进文华公书林去大厅办理业务只会上三楼，于是四楼的平台就成了无人打扰的安静之所。</p><h4 id="承包樱花城堡">承包樱花城堡</h4><p>“在武大看一场人流，是每一朵樱花的梦想”。三四月份的武大真的很美很挤。遗憾在武汉四年，没有正经看一场樱花，翰笙那么宅都和虎哥走网上预约渠道看了一次。但命运总有不期而遇的时刻。有次辅修课调课，上课地址从信息学部换到法学院，于是需要早起穿越大半个武大去上课，顺着梅园二路，大约七点多的时候到达武大公管院与行政楼的交叉口，路旁是大片的樱花，没有行人没有车辆，花期只见花不见叶，满目唯美。这大概是对早起的完美馈赠。</p><p><br/></p><p>诚然武汉是一座并不温柔的城市，然而这座有着一千一百万人口的城市，用他独有的方式给在那里停留过的每一个人诉说着他的性格与往事，然后共同塑造历史。最近的魔幻时空里，人们对热干面寄予希望，歌里唱“街道口的风”，汉街和琴台，一个个熟悉的地名划过，我才明白，真实感是武汉给我的最重要的东西。</p><p>想三四月有空的时候，去武大正正经经看一场樱花；想念初夏我的周雪、喜欢你和好芒；还有，一定要去坐至今未成行的轮渡。</p><p>世界你听见了吗？</p><p><br/></p><p>微信公众号原文：</p><p>https://mp.weixin.qq.com/s/nimuDoXljdXc8YW9_pp6ZQ</p>]]></content>
    
    
    
    <tags>
      
      <tag>武汉</tag>
      
      <tag>CCNU</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>十大经典算法及其在公共管理学科的应用：Clustering</title>
    <link href="/2022/02/28/%E5%8D%81%E5%A4%A7%E7%BB%8F%E5%85%B8%E7%AE%97%E6%B3%95%E5%8F%8A%E5%85%B6%E5%9C%A8%E5%85%AC%E5%85%B1%E7%AE%A1%E7%90%86%E5%AD%A6%E7%A7%91%E7%9A%84%E5%BA%94%E7%94%A8-2%20Clustering/"/>
    <url>/2022/02/28/%E5%8D%81%E5%A4%A7%E7%BB%8F%E5%85%B8%E7%AE%97%E6%B3%95%E5%8F%8A%E5%85%B6%E5%9C%A8%E5%85%AC%E5%85%B1%E7%AE%A1%E7%90%86%E5%AD%A6%E7%A7%91%E7%9A%84%E5%BA%94%E7%94%A8-2%20Clustering/</url>
    
    <content type="html"><![CDATA[<h3 id="clustering---聚类">Clustering - 聚类</h3><p>重要链接（暂存）：</p><p>https://link.springer.com/article/10.1007/s40745-015-0040-1</p><p>https://scikit-learn.org/stable/modules/clustering.html#clustering</p><p>https://scikit-learn.org.cn/view/108.html</p>]]></content>
    
    
    
    <tags>
      
      <tag>Clustering</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>十大经典算法及其在公共管理学科的应用：Apriori</title>
    <link href="/2022/02/20/%E5%8D%81%E5%A4%A7%E7%BB%8F%E5%85%B8%E7%AE%97%E6%B3%95%E5%8F%8A%E5%85%B6%E5%9C%A8%E5%85%AC%E5%85%B1%E7%AE%A1%E7%90%86%E5%AD%A6%E7%A7%91%E7%9A%84%E5%BA%94%E7%94%A8-1%20Apriori/"/>
    <url>/2022/02/20/%E5%8D%81%E5%A4%A7%E7%BB%8F%E5%85%B8%E7%AE%97%E6%B3%95%E5%8F%8A%E5%85%B6%E5%9C%A8%E5%85%AC%E5%85%B1%E7%AE%A1%E7%90%86%E5%AD%A6%E7%A7%91%E7%9A%84%E5%BA%94%E7%94%A8-1%20Apriori/</url>
    
    <content type="html"><![CDATA[<h3 id="apriori-先验算法">1 Apriori-先验算法</h3><p>重要链接：</p><p>https://kmdsy.github.io/surveys/correlation.html（一些关联分析/因果分析调研）</p><p>https://towardsdatascience.com/apriori-association-rule-mining-explanation-and-python-implementation-290b42afdfc6</p><p>https://bainingchao.github.io/2018/09/27/%E4%B8%80%E6%AD%A5%E6%AD%A5%E6%95%99%E4%BD%A0%E8%BD%BB%E6%9D%BE%E5%AD%A6%E5%85%B3%E8%81%94%E8%A7%84%E5%88%99Apriori%E7%AE%97%E6%B3%95/</p><p>https://www.geeksforgeeks.org/implementing-apriori-algorithm-in-python/</p><p>https://artsdatascience.wordpress.com/2019/12/10/python-%E5%AF%A6%E6%88%B0%E7%AF%87%EF%BC%9Aapriori-algorithm/</p><p>https://github.com/rasbt/mlxtend</p><p>https://github.com/bainingchao/MachineLearning-1/blob/dev/docs/11.%E4%BD%BF%E7%94%A8Apriori%E7%AE%97%E6%B3%95%E8%BF%9B%E8%A1%8C%E5%85%B3%E8%81%94%E5%88%86%E6%9E%90.md</p>]]></content>
    
    
    
    <tags>
      
      <tag>Apriori</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>社会学基本概念：现代性(Modernity)</title>
    <link href="/2021/09/28/%E7%A4%BE%E4%BC%9A%E5%AD%A6%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-3%20%E7%8E%B0%E4%BB%A3%E6%80%A7/"/>
    <url>/2021/09/28/%E7%A4%BE%E4%BC%9A%E5%AD%A6%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-3%20%E7%8E%B0%E4%BB%A3%E6%80%A7/</url>
    
    <content type="html"><![CDATA[<h2 id="modernity现代性">Modernity——现代性</h2><blockquote><p>指向的是从18世纪中期欧洲启蒙运动到20世纪80年代中期这段时间，特征是世俗化、<strong>理性化</strong>、民主化、个体化以及<strong>科学</strong>的兴起。</p></blockquote><h3 id="起源与历史">1 起源与历史</h3><p>“现代”指的是任何与当代（contemporary）有关的事物。尽管早在16世纪晚期的欧洲，古代和现代的差异就已经十分明显了。一开始，现代化这个概念，即把事物变得更为现代，被看作一种倒退；一直到19世纪，现代化才开始越来越多地被认为带有积极、正面的色彩。20世纪过去四分之三的时间后，交通、住房、社会态度、时尚以及各种其他事物的现代化已经被看作一种必然和进步。然而，在社会理论领域，“现代性”的含义要宽泛得多，时间跨度一直从18世纪中期延续到20世纪80年代。启蒙哲学家抨击传统、宗教权威和人为给定的信仰，取而代之倡导这样一种理念，即只有通过理性思考、科学方法和追求自由平等才能实现人类的进步。社会学本身就是现代性的产物，其学科宗旨就是通过科学的方法来获取关于社会世界的可靠知识，进而对社会进行适当的干预和改造，造福全人类。</p><h3 id="含义和解读">2 含义和解读</h3><p><strong>现代社会指的是欧洲封建主义之后的时代，是后封建社会的统称，包括工业化、资本主义、城市化和作为一种生活方式的都市主义、世俗化、民主制度的建立和扩散、科学技术在生产过程中的应用，以及人类生活全方位的平等化运动。</strong>与传统社会富含情绪和宗教导向的价值观大相径庭的是，现代性特指一种理性思维方式以及不带感情“就事论事”的态度。Weber把这个过程称为“世界的祛魅”，即世俗化随着法理型资本主义的扩张，逐步蔓延至全世界。</p><blockquote><p>这个定义真的是，高屋建瓴、高瞻远瞩，佩服佩服！</p></blockquote><p>作为一种社会模式，现代性在以下几个领域大获成功：革命性地提升了物质商品生产的极限，为一部分相对富裕的国家创造了巨量的财富，让人类社会的许多方面变得越来越平等。在20世纪，许多社会学家坚信，现代性是一种成功的社会模型，不管是主动追求还是被迫卷入，最终每个国家都会朝着这个方向发展。这个命题后来逐渐演变为人们所熟知的现代化理论，其中最著名的版本莫过于Rostow（1961）的观点。Rostow指出，现代化过程包含以下几个发展阶段：</p><ul><li>首先是一个社会开始“追赶”早期已经成功的现代化国家，使其经济规模开始增长。在传统农耕社会的基础上，后发国家必须摆脱长期坚守的传统价值和制度，通过投资基础设施和新兴产业来实现现代化；</li><li>紧接着，对新兴高科技的持续投资会促进生产水平的提高，从而推动大众消费的兴起，一个可持续的经济模式就此建立。</li></ul><p>尽管中国香港、中国台湾、韩国和新加坡等经济体遵循了一条类似的道路，然而从当下的视角来看，Rostow的理论模型还是过于乐观了，因为很多国家，尤其是非洲国家，并没有通过这条道路实现现代化。</p><blockquote><p>现在来看，确实如此，有些地区着实文明洼地，有的受宗教绑架，有的被权力裹挟。地理决定论还有市场。</p></blockquote><p>对于一部分社会理论家，尤其是对Bauman（1987）而言，<strong>理解现代性的关键是要把握它所包含的独特文化和思维方式。</strong>我们可以用园艺来做类比。现代的思维方式重视秩序，排斥混乱和随机。因此，如果把社会比作一座天然花园，那么就应该修正丛生的杂草，驯化和改造野生的环境。随着民族国家这个园丁的权力越来越大，驯服自然的手段和工具也变得越来越多。这个比喻不仅适用于民族国家，因为秩序和整洁是现代生活的一个普遍要求。</p><h3 id="批判和讨论">3 批判和讨论</h3><p>现代性最大的问题是过度概括（overgeneralized）。在很多批评家看来，这只是对现代社会部分（虽然不是全部）特征的事后描述，并且它没有就现代化的起因提供任何解释。这个理论也无法解释世界范围内依然存在的巨大不平等，许多发展中国家并没有如预测的那样实现经济起飞。这个概念提到了几个关键的社会过程，但往往含糊其辞，而且大部分都是描述性的，而非分析性的。因此我们无法分清其众多构成要素中，哪一个才是现代化过程的主要驱动力量。现代化的主要驱动因素是资本主义经济制度，还是工业化？民主化扮演了什么角色？城市化的位置在哪里，是原因之一，还是一个结果？新马克思主义学者抨击现代化理论隐含着这样一种不可避免的逻辑，即欠发达国家会受到激励而向发达国家学习，从而进入经济高速增长和繁荣通道。现实情况是，放眼全世界，落后国家被迫长期接受依赖和附属的状态，沦为富裕国家的原材料产地，这些国家的人口成为西方跨国资本主义公司的廉价劳动力。因此，现代性这个概念本身模棱两可、含混不清，现代化命题也存在深层次的致命缺陷。</p><h3 id="意义和价值">4 意义和价值</h3><p>随着后现代社会理论的出现，现代性似乎走到了终点，学界开始对这个概念进行反思和重新评价。一些社会学家坚称，我们还没有进入后现代性，最多只是“晚期”或者“反身性”（Giddens1990）。这不是现代性的丧钟，而是提醒我们要正面直视现代性的消极维度，比如环境破坏。此外，随着公众开始质疑科学作为揭示真理之手段的可靠性，以及各种权威受到越来越多的挑战，社会生活的不确定性也在日益增加。Habermas（1983）也指出，后现代社会理论家过早放弃了他称之为现代性宏伟计划的事业。现代性的基本特征仅仅实现了一小部分，我们应该继续深入建设，而不是草草放弃。还有很多事情留待我们去做，比如推进民主参与，为各个社会阶级争取平等的生活机会，实现性别平等，等等。总之，现代性是一项未竟的事业，我们应该继续努力，而不是就此放弃。</p><p>基于“多元现代性”理念，一项更为新近的研究批评把现代化等同于西方化的做法（Eisenstadt2002）。这个研究与之前的观点背道而驰，反对通往现代性只有一条单一线路的观点，也不同意照搬西方社会那种标准化统一模式的做法。世界范围内关于现代性的经验研究告诉我们，这种观点是错误的。事实上，通往现代性有很多种途径，正所谓条条大路通罗马。日本的现代化和美国的就很不一样。此外，就目前的情况看，中国正在发展的，又是一条全新的道路。有些国家的现代化，即使是在美国，也没有如前面一些学者预测的那样伴随着剧烈的世俗化，相反，宗教信仰得到了很好的保留和坚守，同时工业主义和技术进步并行不悖。其他国家，比如沙特阿拉伯模式，不仅带有浓厚的宗教色彩，而且有选择地学习西方模式，然后加入了他们自己的独特元素。由此看来，多元现代性议程很有可能激发更多更具实用导向的评价，从而在不久的将来让现代性这个概念重新焕发生机、</p><blockquote><p>对于这一部分，感觉疫情之后，Giddens需要写第四版了。又一次迂回。所举的这些“例外”，大多似乎离现代文明相差甚远。</p></blockquote><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image/img/image-20210928170136583.png"alt="image-20210928170136583" /><figcaption aria-hidden="true">image-20210928170136583</figcaption></figure>]]></content>
    
    
    
    <tags>
      
      <tag>全球化</tag>
      
      <tag>民族国家</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>社会学基本概念：全球化(Globalization)</title>
    <link href="/2021/09/25/%E7%A4%BE%E4%BC%9A%E5%AD%A6%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-2%20%E5%85%A8%E7%90%83%E5%8C%96/"/>
    <url>/2021/09/25/%E7%A4%BE%E4%BC%9A%E5%AD%A6%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-2%20%E5%85%A8%E7%90%83%E5%8C%96/</url>
    
    <content type="html"><![CDATA[<h2 id="globalization全球化">Globalization——全球化</h2><blockquote><p>让原本在地理空间上散落分布的人口距离变近、交流增加，使整个地球成为一个命运共同体（communityof fate）或者全球社会（global society）的各种过程。</p></blockquote><h3 id="起源与历史">1 起源与历史</h3><p>建立一个全球性人类共同社会的理念，最早可以追溯到18世纪启蒙时期（Enlightenmentperiod）对于“统一人性（‘humanity’ as awhole）”是否可能的讨论。到19世纪，这种讨论逐渐增多，如马克思对资本主义全球扩张的洞察，涂尔干（Durkheim）关于劳动分工超越地域限制的研判，等等。然而，直到1961年，现代意义上的“全球化”才首次出现在辞书类出版物里，而经济学家频繁使用这个概念，则要到20世纪80年代晚期。</p><p>社会学对全球化命题的早期研究，一个著名的点是Wallerstein的世界体系理论。Wallerstein认为，资本主义经济体系超越国家边界，构成了一个世界体系，体系的核心是相对富裕的国家，边缘为贫困国家，两者中间为半边缘国家。关于全球化讨论的深化源于20世纪70年代全球化进程的加速发展：彼时，跨国公司快速发展且权力越来越大，许多人开始担心民族国家走向衰落，跨国贸易集团和地区性政治经济实体（如EU）兴起，交通方式的发展和便利使得跨国旅游和移民日益普遍，再有就是互联网的出现令国际即时通信成为可能。到了20世纪90年代，全球化概念已经进入社会学的主流话语体系，对这个学科几乎所有分支领域都产生了深远的影响。</p><blockquote><p>30年后，COVID-19 epidemic之下，Globalization的大趋势出现波折，甚至已经开始逆转。</p></blockquote><h3 id="含义和解读">2 含义和解读</h3><p>全球化从何而来，又对我们有什么影响，关于这些，众说纷纭、莫衷一是。全球化提醒我们，这是一个变化的过程，或者说是一种社会潮流，在这个过程和趋势下，世界各个角落相互依赖，更加紧密地联系在一起。但这并不意味着一个统一的全球社会一定会到来。全球化有多个维度，包括经济、政治和文化等。对一部分人来说，全球化主要是经济维度，包括金融交易、贸易、生产和消费的全球化、劳动的全球分工以及一个全球金融体系。经济全球化导致人口迁徙加速，交通和居住随之改变，人类的生存方式变得更加具有流动性。也有一部分人认为，文化的全球化更为重要。Robertson（1995）发明了一个概念——<strong>全球在地化</strong>（glocalization），即全球特性和本地要素的融合，来捕捉和把握本地社区是如何积极改变全球化进程，以使之适应当地独特文化的。也就是说，全球化过程是文化产品在世界范围的多向流动。最后还有一部分人关注政治的全球化，强调地区性和国际性政府间合作机制的建立和发展，比如联合国与欧盟。这些机构把民族国家以及国际非政府组织凝聚成一个共同的决策平台，协调这个正在快速发展的全球化过程。</p><p>全球化的提速，一般认为在20世纪70年代。这个快速全球化的过程给我们的生活带来了深远的影响。世界某个角落的决策会对另一个遥远的角落产生巨大的影响，而民族国家这个迄今为止世界舞台上最重要的主角，似乎荣光不再，往日的权势和控制能力逐渐消逝。</p><h3 id="批判和讨论">3 批判和讨论</h3><p>全球化理论家认为，全球化过程极大地改变了人们的生活方式，也有一些学者持保留意见，认为这种观点有些夸大其词。批评全球化的学者（又叫怀疑论者）争辩，尽管与过去相比，今天国与国之间的交流和联系确实增加了不少，但一个统一的世界市场体系还没有出现。相反，大多数贸易交流仅限于某些特定的地区内部，比如欧盟、亚太和北美。这三个区域性经济体相对独立运作，持怀疑意见的学者也因此指出，那些认为一个全球性世界经济体已经出现的想法，显然有些过于超前了。</p><p>同样，认为全球化削弱了民族国家之作用的观点，也受到了不同程度的质疑和挑战。现实告诉我们，在管理和协调经济活动、签署贸易协定以及制定经济自由化政策方面，国家政府依然扮演着不可或缺的角色。主权国家之间的联盟与合作并不会必然导致民族国家的削弱。即使国家之间的全球联系越来越紧密，国家政府依然保留了大量权力，并采取一种更加积极和开放的态度来面对快速全球化所带来的外部环境。因此，全球化不是一个朝着紧密整合发展的单向过程，而是双向互动、可能导致多种结果的潮流。</p><blockquote><p>从2021的当下看，上述批评可能越来越重要。对于具有相同文化背景和制度的国家，全球化可能确实消弭了边界。但对于另一种意识形态、制度和文化背景的国家，在全球化过程中获益后，这部分国家的民族主义抬头，出现了一种全球化对抗，或者，对现有全球话语体系的改写。</p></blockquote><h3 id="意义和价值">4 意义和价值</h3><p>对社会学而言，全球化是一个基本概念背景，因此，大量研究都会涉及这个主题，比如跨国恐怖主义、社会运动、冲突和战争、移民研究、环境社会学、文化多元主义以及其他相关研究议题。随着研究的深入和发展，大规模全球化的意外结果开始被逐渐发现。例如，Renard（1999）关于“公平贸易”市场的萌芽和壮大，这种交易模式的目的，是通过向发达国家有责任感、有道德感的消费者推销商品，给予发展中国家小规模经营的生产者更多、更公平的利润分享。全球化过程主要被那些大型跨国企业所主导，小微企业要想挤入这个市场，困难异乎寻常。然而，Renard却发现，经济全球化实际上缩小了这种差距，小微企业能够找到手段和途径参与全球贸易，并逐渐发展壮大。这是一项非常有趣的研究，向我们展示了全球化（在这个案例中指咖啡豆的公平贸易）是如何向小微生产者敞开大门，帮助其实现成功的。这之所以可能是基于这样一个前提，即发达国家和发展中国家的一部分人秉持公平和团结的基本价值观念，共同参与到公平贸易活动里来。</p><p>如果全球化还存在一个政治的维度，那么我们就应该能看到超越本地和国家界限的社会运动，但研究显示，这种运动似乎不多见。绝大部分运动的诉求都指向当地或所在国家，鲜有全球性的目标指向。</p><p>全球化的评估指标差异很大，但是Martell（2016）的一项研究回到了我们熟悉的主题——不平等。在这项研究中，他认为，尽管许多社会学家把全球化部分或主要看作一种文化现象，但我们应该更多地关注资本主义经济体系以及物质利益所扮演的关键角色。马特尔把批评的矛头对准世界主义理论（cosmopolitantheories，即在政治理论中，相信所有人都有权得到平等的尊重和考虑，无论他们的<ahref="https://www.britannica.com/topic/citizenship">公民</a>身份或其他隶属关系如何），认为该理论对跨国政治领域的出现及发展的预测过于乐观。退一步讲，即使这样一个政治空间确实存在，全球化也是一个不均衡的过程，现实已经存在的不平衡和权力机会的分化，会在全球化过程中不断复制和再生产。举例而言，全球自由迁徙运动最后将导致“那些最不需要自由迁徙机会的富人精英获得了最多的自由，而对自由迁徙机会最为渴求的穷人，则受到最多的人身限制”。对于Martell而言，文化变迁确实重要，但资本主义经济体系依然是一个最为关键的驱动力量。</p><blockquote><p>这个理论类似于，将袋子里的散沙抖一抖、颠一颠，压实，颗粒之间距离减小，自由度降低？富人在上头，穷人在下头。而全球化是施力者。</p></blockquote><blockquote><p>发现这种不断封装之后，话语体系越来越复杂，会有一天，复杂到混乱以致于无法对话的程度嘛？</p></blockquote><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image/img/20210925111908.png" /></p>]]></content>
    
    
    
    <tags>
      
      <tag>全球化</tag>
      
      <tag>民族国家</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>社会学基本概念：话语(Discourse)</title>
    <link href="/2021/09/23/%E7%A4%BE%E4%BC%9A%E5%AD%A6%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-1%20%E8%AF%9D%E8%AF%AD/"/>
    <url>/2021/09/23/%E7%A4%BE%E4%BC%9A%E5%AD%A6%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-1%20%E8%AF%9D%E8%AF%AD/</url>
    
    <content type="html"><![CDATA[<p>这个系列，缘起于一种贫乏。</p><p>最近几年，从文科迈入理科，经历一种范式的转换，同时失去可对话的人与空间，我似乎忘记了如何好好说话。这种“失语”，体现在，失去表达欲望，同时，在应当说话的时候，感受到一种逼仄的穷途末路，词不达意。</p><p>于是，在学会好好写论文之后，先找回好好说话的能力吧！</p><p>我把社会学的基础概念作为“好好说话”的引子，这当然是一种偷懒的方法，但也是为了“敷衍”自己的好奇心。在阅读文献，听讲座、对话以及播客时，常常遇见这些概念。学人们用这些概念，构造出对社会事件的解释体系，通过概念的封装，在适量的语句中，表达了更深的意涵。而这，这正是我所憧憬和努力的。</p><p>还有一点是，想尝试通过表达，适度缓解我最大的毛病——拖延癌。拖延的一个表现是，想得太多，但做得太少，总是无法用行动弥补想象与现实的巨大鸿沟。虽然我明白，这本质上是智力的匮缺。</p><p>Anyway，希望下一个贫乏的瞬间能找到注脚。</p><p><br></p><h2 id="discourse话语">Discourse——话语</h2><blockquote><p>一种基于某些共享假设的特定言说和思考方式，（可以）影响和形塑人们对某个话题的理解和行动。</p></blockquote><p>“语言即思想，话语即权力。”</p><h3 id="起源与历史">1 起源与历史</h3><p>话语这个概念最初起源于语言学，指口头沟通或书面交流。20世纪50年代，奥斯汀指出，书面和口头交流不是中立、被动的陈述，“话语”本身会行动，对我们生活于其中的世界具有极强的形塑作用。主流社会学关注权力及其对社会的影响，和语言学研究并不相关。福柯第一次发现并讨论了话语和权力的内在联系。此后，话语这个概念，以及“话语实践”吸引了社会学家越来越多的关注和兴趣。</p><h3 id="含义和解读">2 含义和解读</h3><p>从20世纪50年代末期开始，话语开始被理解成一种行动，也就是对世界的一种干预。我们的行为方式就受到话语建构的影响，比如：</p><ul><li>把表达政治诉求的团体描述成“恐怖组织”还是“自由斗士”</li><li>媒体报道罢工时侧重强调的是其原因还是它引起的破坏性后果</li></ul><p>这些，会影响我们的行为选择。</p><p>把话语看成一种行动，极大地影响和改变了我们对语言和日常沟通的看法。我们对社会结构和权力关系的理解，以及对文化和大众传媒的研究，无不受到这种观念转换的深刻影响。从此，社会学家开始关注语言是如何被利用和操控的，政治议题的讨论框架如何确立，某些特定的观念如何被有意排除在讨论议题之外，人们参与辩论的方式如何被控制和操纵，等等。</p><p>福柯通过对疯癫、犯罪、监狱系统和医疗机构的历史发展过程的考察，指出我们的社会生活被一系列话语体系所操控，权力就是经由这些话语体系来运作的。话语像是一种范式，规定人们讨论某个特定议题的边界，以及什么样的讨论方式是被允许的，哪些是被禁止的。比如，讨论犯罪时，我们只能根据法律和秩序的标准来加以讨论，在这个话语框架里，遵纪守法被看成日常生活中理所当然的事。如果有人建议每天抵制法律的管束，会被大部分人认为是不可理喻的。Why？因为<strong>管制犯罪的话语体系先于个体而存在</strong>，通过社会化过程逐渐把这些价值和规范灌输给社会成员并使之内化，从而部分地影响人们的态度和行为。就这样，话语形塑和建构了每一个人的自我意识和身份认同。这提醒我们，人不可能完全自主、不受任何约束地去思考、表达和行动，人类的能动性是受约束和限制的。</p><p>福柯进一步把话语和话语实践看作研究权力的核心议题。他争辩说，知识和权力紧密联系，而不是相互对抗。例如，犯罪学为了客观研究犯罪行为，精神病学为了掌握关于精神病的客观知识，尽管初衷可能是寻求某种客观认识，但这两门专业学科同时也<strong>生产权力关系</strong>，左右和形塑人们对犯罪和精神病的理解和行为。精神病学的话语体系在理性和疯癫之间人为地划下一条清晰的边界，让通过各种专业精神医疗机构来隔离、处理和治疗精神疾病变得合情合理。同样，犯罪学的话语体系也不仅仅是描述、解释犯罪行为的特征和原因，它还帮助我们建立界定和应对罪犯的新手段和新方法。</p><h3 id="批判和讨论">3 批判和讨论</h3><p>福柯认为话语与某个具体的社会情境（比如社会阶级）无关，这一点与其他关于权力的研究相左。大量研究显示，权力不是自然而然的结果，而是需要通过努力争取获得。比如，在男权社会，男性拥有支配女性的权力；再比如，统治阶级对被统治阶级的压制，等。那种认为权力是社会关系的天然“润滑剂”的观点，显然没有看到权力关系中存在巨大不平等的现实情况。另一个批评是，话语分析过分侧重并强调语言、言谈和文本，这是一种“装饰社会学”（decorativesociology），把社会关系隐藏在文化的背后，掩盖了真正重要的话题，即对权力和微妙均衡关系的社会学分析。这部分批评者认为，对社会生活而言，比起话语体系，真实的社会关系和物质文化更为重要。</p><blockquote><p>哈哈，装饰社会学，我想到了装饰地理学，即研究xxx时空格局与驱动机制的地理学研究，描述了数据，但对真正的机理，浅尝辄止。</p></blockquote><h3 id="意义和价值">4 意义和价值</h3><ul><li>话语抗争可以改变社会观念。例如，对年轻单身妈妈的话语分析表明，与社会主流观点把青少年妈妈看作不负责任、自私的福利“蛀虫”不同，青少年妈妈只是“年轻一点的妈妈”，因此应该具有获得社会支持的合法权利。这种“另类”话语帮助青少年妈妈获得相应的资源，并促进了社会大众观念的转变</li><li>可以用话语分析方法来研究全球政治话语体系。比如，911事件后，美国政府引入了关于一场全球性“反恐战争”的新话语。在这个话语框架里，恐怖分子的攻击被认为不仅是针对美国，而是针对以美国为代表的“民主制度”。之后，这个话语体系构建了一个公共辩论空间，其中的一系列参与者要么试图解读这个观点，要么试图去论证这个观点的合法性。通过这些手段和办法，“反恐”话语在公共空间中引发了一场关于“我们”和“他们”的激烈辩论，从而构建出新的身份认同，引导人们分清“敌我”</li><li>关于战争的话语和修辞的变化。媒体越来越强调某些战争中的专业性和“维护和平”的使命，对士兵的报告更多地展现他们保护平民的场景，对敌人的伤亡却几乎只字不提。战场照片越来越多地展现一般性的主题，而不去描述具体的时间细节。特别地，媒体越来越倾向于从商业机构购买战场照片，并用一种一般性、符号化的方式来使用这些图片</li></ul><blockquote><p>感觉更好的理解社会学基本概念的方法是阅读原著，初步理解后对照译著，再用自己的语言写出来。</p></blockquote><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image/img/image-20210923231003167.png"alt="image-20210923231003167" /><figcaption aria-hidden="true">image-20210923231003167</figcaption></figure>]]></content>
    
    
    
    <tags>
      
      <tag>权力</tag>
      
      <tag>话语</tag>
      
      <tag>福柯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>PNAS-历史语言记录揭示了近几十年来认知扭曲的激增</title>
    <link href="/2021/07/27/PNAS-%E5%8E%86%E5%8F%B2%E8%AF%AD%E8%A8%80%E8%AE%B0%E5%BD%95%E6%8F%AD%E7%A4%BA%E4%BA%86%E8%BF%91%E5%87%A0%E5%8D%81%E5%B9%B4%E6%9D%A5%E8%AE%A4%E7%9F%A5%E6%89%AD%E6%9B%B2%E7%9A%84%E6%BF%80%E5%A2%9E/"/>
    <url>/2021/07/27/PNAS-%E5%8E%86%E5%8F%B2%E8%AF%AD%E8%A8%80%E8%AE%B0%E5%BD%95%E6%8F%AD%E7%A4%BA%E4%BA%86%E8%BF%91%E5%87%A0%E5%8D%81%E5%B9%B4%E6%9D%A5%E8%AE%A4%E7%9F%A5%E6%89%AD%E6%9B%B2%E7%9A%84%E6%BF%80%E5%A2%9E/</url>
    
    <content type="html"><![CDATA[<h4 id="significance">Significance</h4><blockquote><p>随着时间的推移，整个社会的抑郁水平将如何变化？在这里，我们从过去两个世纪出版的数以百万计的英语、西班牙语和德语书籍中寻找与抑郁和焦虑等内化障碍密切相关的认知扭曲和思维模式的历史痕迹。我们发现了一个明显的“曲棍球棒(<em>Hockey</em>-<em>stick</em>)”效应:在20世纪的大部分时间里，认知扭曲的文本类比大幅上升，远远超过了包括第一次世界大战和第二次世界大战的历史水平。我们的研究结果表明，最近的社会经济变化、新技术和社交媒体可能与认知扭曲的激增有关。</p></blockquote><p>抑郁症是世界范围内造成残疾负担的主要因素。一些证据表明，过去几十年里，抑郁症导致的残疾一直在上升，尤其是在年轻人中。随着人们面临战争、政治动荡、经济崩溃、粮食不安全、不平等和疾病等压力源，社会是否会随着时间的推移集体变得或多或少地抑郁?这个问题在长时间尺度上很难回答，因为正式的诊断标准是在40年前才引入的，而这些标准随着时间的推移已经发生了变化。</p><p>抑郁症与明显的、可识别的不适应的思维模式有关，称为<strong>认知扭曲</strong>，即个体以不准确和过度消极的方式思考自己、未来和世界。例如，当人们用消极的、绝对的术语(例如，“我是一个失败者”)给自己贴上标签时，抑郁症中出现的认知扭曲就会发生。他们可能会用极端的二分法谈论未来的事件(例如，“我的会议将是一场彻头彻尾的灾难”)，或者对别人的心理状态做出毫无根据的假设(例如，“每个人都会认为我是一个失败者”)。认知扭曲的类型通常会区分一些部分重叠的类型，比如“灾难化”、“二分法推理”、“否定积极因素”、“情感推理”、“算命”、“标签和错误标签”、“放大和最小化”、“心理过滤”、“读心术”、“过度概括”、“个人化”和“应该陈述”。</p><p>认知行为疗法(CBT)是治疗抑郁症和其他内化障碍的黄金标准，其背后的理论认为，认知扭曲与内化障碍有关;它们反映了环境压力下的消极情感和回避行为模式。语言与这种动态紧密交织在一起。事实上，最近的研究表明，有内化障碍的人在他们的语言中表现出明显更高程度的认知扭曲，以至于他们的流行程度可以被用作抑郁症的脆弱性指标。</p><p>在这里，我们利用抑郁症和语言之间的联系来研究社会作为一个整体，是否像抑郁症患者一样，能够经历与认知扭曲相关的集体语言的变化。我们分析了在过去125年里，以英语、西班牙语和德语出版的1400多万本书(GoogleBooks)中，大量认知扭曲标记的流行程度。</p><p><strong>CDS-cognitive distortion schemata</strong></p><p>我们研究了1855年至2019年英语(美国)书籍(仅美国，n=9,018,119)中整个英语认知扭曲图式(n=241)的中位数流行率(z分数)的历史(图2A)。由于这些数据只适用于在美国出版的书籍，我们记录了美国历史上值得注意的事件或时间序列上的显著变化:1899年的本世纪末;第一次世界大战爆发;1929年的金融崩溃;第二次世界大战爆发;1968年是CDS流行的高峰;1978年、1999年和2007年的变化趋势明显。</p><figure><imgsrc="https://www.pnas.org/content/pnas/118/30/e2102061118/F2.large.jpg?width=800&amp;height=600&amp;carousel=1"alt="img" /><figcaption aria-hidden="true">img</figcaption></figure><blockquote><p>图2A：(A - C)美国英语(A)、西班牙语(B)和德语(C) 1855 - 2020年CDSn-gram流行率时间序列的中位数z分(125y)，并添加了重大历史事件的年份标记。所有时间序列显示，在20世纪的大部分时间里，认知扭曲水平稳定或下降，随后在过去30年里认知扭曲急剧上升。从1899年到1978年，美式英语水平呈下降趋势，在1914年和1940年(第一次世界大战和第二次世界大战)前后出现了小高峰，1968年尤为明显。在这种下降之后，从1978年开始的CDS流行率飙升，一直持续到2019年。对于西班牙来说，我们发现从1895年到1980年代早期的稳定水平，在这一点上，CDS流行水平出现了高于之前观察到的任何水平的趋势。德国的CDS流行水平保持稳定，除了在一、二次世界大战前后出现过强劲的峰值，直到2007年才突然飙升。</p></blockquote><p>在20世纪的大部分时间里，CDS流行的总体趋势明显地指向1978年的历史最低点，只有几个明显的峰值，一个是在1899年世纪之交(可能与美西战争有关)，一个轻微的峰值是在1940年到1945年(大约在第二次世界大战期间)，1968年达到高峰(可能与社会和政治动荡有关)。从1978年开始，我们观察到CDS的患病率在加速增长。这种加速似乎可以分为三个时期:从1978年到1999年的加速增长(首先CDS的流行程度超过了1910年代的水平)，1999年到2007年之后的更快增长，接着是2007年之后的加速增长，以及2010年可能的稳定。所谓的“互联网泡沫破裂”似乎与1999年后CDS流行率的加速增长同时发生，而自2007年以来CDS流行率的加速增长似乎与社交媒体的广泛使用和大衰退(GreatRecession)的开始同时发生。目前的CDS流行水平比20世纪以来观察到的水平高出近两个标准差(1899年的峰值除外)。</p><p>虽然这三种语言之间的差异很有趣，但也许最重要的一点是，在最近30年里，这三种语言的认知扭曲表达都在增加，导致了一个明显的曲棍球杆模式，表明CDS流行水平的激增，它们是认知扭曲的词汇标记。</p><p>CDS在美国泛滥的时机与上世纪70年代末相符，当时工资水平不再追随不断提高的工作生产率。这一趋势与收入不平等加剧有关，目前的不平等程度为上世纪30年代以来所未见。这一现象在包括德国、西班牙和拉丁美洲在内的大多数发达经济体中都已被观察到，与此同时，自动化和对高技能劳动力的需求也在迅速增长。2007年的大衰退可能加剧了这一始于上世纪70年代末、持续数十年的趋势的影响。互联网、万维网和社交媒体等通信技术的广泛采用，可能在全球层面造成了更大的社会和政治两极分化。这种两极分化的语言可能与认知扭曲相对应，特别是”us-vs.-them thinking”(标注和错误标注)、二分推理、读心术、过度概括、情感推理和灾难化。</p><h4 id="相关研究">相关研究：</h4><p>NHB-抑郁症患者在社交媒体上表达的想法更加扭曲(Individuals withdepression express more distorted thinking on social media)</p><p>Bathina, K. C., ten Thij, M., Lorenzo-Luaces, L., Rutter, L. A.,&amp; Bollen, J. (2021). Individuals with depression express moredistorted thinking on social media. <em>Nature Human Behaviour</em>,<em>5</em>(4). https://doi.org/10.1038/s41562-021-01050-7</p><h4 id="原文信息">原文信息：</h4><p>Bollen, J., ten Thij, M., Breithaupt, F., Barron, A. T. J., Rutter,L. A., Lorenzo-Luaces, L., &amp; Scheffer, M. (2021). Historicallanguage records reveal a surge of cognitive distortions in recentdecades. <em>Proceedings of the National Academy of Sciences</em>,<em>118</em>(30). https://doi.org/10.1073/pnas.2102061118</p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image//img/20210727113400.png" /></p>]]></content>
    
    
    
    <tags>
      
      <tag>认知扭曲</tag>
      
      <tag>极化</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>住房政策如何提促生育意愿</title>
    <link href="/2021/07/24/%E4%BD%8F%E6%88%BF%E6%94%BF%E7%AD%96%E5%A6%82%E4%BD%95%E6%8F%90%E4%BF%83%E7%94%9F%E8%82%B2%E6%84%8F%E6%84%BF/"/>
    <url>/2021/07/24/%E4%BD%8F%E6%88%BF%E6%94%BF%E7%AD%96%E5%A6%82%E4%BD%95%E6%8F%90%E4%BF%83%E7%94%9F%E8%82%B2%E6%84%8F%E6%84%BF/</url>
    
    <content type="html"><![CDATA[<h3id="探究住房政策如何提升生育意愿应首先明确住房在适龄女性及家庭在子代-生养育成-四个阶段的角色和作用">探究住房政策如何提升生育意愿，应首先明确住房在适龄女性及家庭在子代生、养、育、成 四个阶段的角色和作用</h3><hr /><h4 id="一当前生育状况的理想与现实">一、当前生育状况的理想与现实</h4><p>当前关于促进生育意愿的叙事，仍然注重于家庭或男性视角，或社会需要的视角，存在一定的主体性忽视。诚然生育行为需要双方的付出，但就“生”这个初始环节，女性是生产的必要依赖，在过往的家庭结构及文化形塑中，女性在生育方面的最终决定权被掳获，但随着女性受教育程度的提升，这一决定权正慢慢回流。</p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image//img/20210724162150.png" /></p><p>从CFPS的数据看，中国妇女理想子女数变化的特点是：</p><ol type="1"><li>三胎四胎的生育意愿显著下降；</li><li>无论哪个阶段，二胎都是最理想的子女数；</li><li>一胎化倾向逐渐增强；</li><li><strong>90后</strong>相比其他年龄群体，不生育的比例显著增加。</li></ol><p>对于这一变化的主流解释是：</p><blockquote><p>一系列社会自然现实及政策干预的合力导致了这一结果。合力的主要构成是女性受教育程度提升、养育成本增加、文化观念更新等。</p></blockquote><p>这一结果并不具备特殊性，在人口转型理论中，几乎每一个迈向发达的国家都经历了从“人口红利”到“人口包袱”转型的过程。</p><p>CFPS的数据表明，80后和90后女性理想子女数的平均值为1.9和1.7，但第七次人口普查的结果显示，中国育龄人口总和生育率仅为1.3，低于1.5的警戒水平，更远低于80/90妇女的理想子女数量。那么，从理想到现实存在怎样的落差？又应采取何种措施，弥补这种差距？</p><p>当前生育率低迷可以归结为以下三个方面，即“三生问题”：</p><ol type="1"><li><p><strong>一个都不想生。</strong>90后女性相比其他年龄段的女性，具有更高的受教育水平及自我意识。由于一系列性别不平等被察觉，以及目睹了太多婚姻与生育的悲剧，更具理想主义的新时代女性选择一个都不生的比例大幅增加。在笔者的女性朋友中，已有多位选择不婚或丁克；</p></li><li><p><strong>不想多生。</strong>生育一个子代即意味着女性对职场长达数年的脱离，若生育多个子女，则很大程度上，女性需要抛弃自身事业的上升期，这对于女性自身发展而言，成本过高，尽管意愿上，二胎仍是最理想化的子女数量。对于家庭而言，多生亦带来了一系列成本的上升及夫妻双方生活质量的下降；</p></li><li><p><strong>生不起。</strong>从计划生孩子到抚养子女成人，这一过程中面临着巨大的购房、照料、教育培训支出，而一个重要的现实是，在家庭生命周期中，普遍存在生育意愿（能力）窗口期与养育能力（收入）高峰期不匹配的情形。掏空六个钱包，爷爷奶奶/外公外婆帮忙照顾孙辈成为常见现象。</p></li></ol><p>在明确以上问题的背景下，当前政策的着力应当是：</p><ol type="1"><li>促进不生育者向至少生育一胎转变，即纾缓<strong>一个都不想生</strong>的问题；</li><li>刺激一胎者生二胎，即缓解<strong>不愿多生</strong>和<strong>生不起</strong>的困境。</li></ol><p>至于三胎，有言论表示，<strong>三胎家庭要么在农村，要么是高净值，</strong>即对于三胎而言，有意愿的家庭无需外部刺激，无意愿的家庭，即使有政策刺激也预期效果不明显。</p><h4id="二住房在子代生养育成四个阶段的角色和作用">二、住房在子代“生、养、育、成”四个阶段的角色和作用</h4><p>刺激生育意愿的提升需要一系列政策，住房是其中至关重要的一环。生育过程不仅仅是生产过程，在现代性的背景下及中国的文化背景下，生育意味着生产、抚养、教育、帮助子女成家四个环节，探究住房政策如何提升生育意愿，应首先明确住房在适龄女性及家庭在子代“生、养、育、成”四个阶段的角色和作用。</p><p><strong>生</strong>——自有住房越来越成为生产行为的前置条件。住房是婚姻的第一物质载体，也是家庭日常生活最重要的发生场所，在社会评价中，房子和面子直接挂钩。中国的社会是乡土性的，即使从“乡土中国”到“城乡中国”，住房依旧在乡土社会中扮演着生活之锚的角色。新中国成立后的长期内，婚姻是普遍存在的，穷人有穷人的方式，富人有富人的方式。但随着第二次人口转型，婚姻已转变为以社会经济地位为基础（Yu&amp; Xie,<em>Demography</em>)，即事实上的“向上婚姻”越来越普遍。“向上”的判别因素中，自有住房是重要的组成部分。安居成为婚姻的必要条件，在中国不婚生育不常见的情况下，自然也构成了生产行为的前置条件。</p><p><strong>养</strong>——隔代抚养背景下居住空间冲突及社区抚养不足。当前不同研究显示，国内隔代抚养比例在24.1%到88.9%不等。中国老龄中心2014年的调查数据表明，全国0-2岁儿童由祖辈抚养的比例达60%-70%，其中30%的儿童完全由祖辈照护。3岁以后上幼儿园的儿童中，也有40%由祖辈直接抚养。隔代抚养已成为我国幼儿照护的重要形式。在城市地区，隔代抚养具有更高的住房要求，如更大的住房面积或与祖辈分居（需要多套住房，不论租购）。同时，中青年一代与老年一代在生活习惯、家庭信念、后代养育方面的冲突容易在拥挤的居住场所发生。这无疑会打击生育意愿。与发达国家相比，中国还存在一定的社区抚养不足的问题。中国的幼儿抚养仍然是私域性很强的事件。在欧美地区，社会工作者及社区支持提供的<strong>公共抚养服务</strong>减轻了年轻父母的抚养负担。国内，依靠托儿所和家庭抚养，使得适龄人口有生育意愿但囿于抚养能力，不轻易将生育行为付诸实践。</p><p><strong>育</strong>——住房产权与教育发展权的结盟进一步固化了社会分层。在关于住房财富效应的研究中，一个重要的结论是，住房价格总体上对生育具有挤出作用。在适龄夫妻购房早期，高房价直接挤出了部分人口的生育实践，而当自有产权房屋转为家庭财富的主要构成时，夫妻一般已过生育窗口期，这直接打压了多胎的生育。住房财富效应导致的收入分化使得社会阶层流动性下降，当住房产权与阶层跃升工具——教育发展权结盟时，社会分层将更加固化。教育被认为是打破阶层固化的最重要通道，但受教育资源空间分布不均的限制，住房成为教育资源分配的标尺。在过去很长一段时间内，拥有住房的家庭子女便具有了享受更好教育的可能性，同时，住房财富效应可以在后期为女子教育提供更好的支持。不平等已经成为当今社会最重要的决定因素之一，住房产权与教育发展权的结盟扩大了不平等的预期，成为婚姻的阻滞剂与生育的避孕药。</p><p><strong>成</strong>——住房是子代的恋爱资本与成家保障。这一点与本节第一点类似，但叙事角度不同，此处更注重父母的角度，由此构成“生→养→育→成”的循环。</p><h4id="三住房政策如何转变以提促生育意愿">三、住房政策如何转变以提促生育意愿</h4><p>提促生育意愿，本质上是降低家庭成员特别是女性家庭成员一个都不想生和不愿多生的倾向，政策应致力于改善整体的生育环境。其中，可能的住房政策有：</p><ol type="1"><li>以多种方式帮助适龄夫妻获得体面的住房。同居可以租房凑合，但婚姻和生育必须要有体面的住房做支撑。如在各类租赁式保障性住房的申请中，给予具有一胎或多胎生育意愿和生育实践的家庭优先权和租金优惠。扩大共有产权的供给力度，帮助弥合生育意愿（能力）窗口期与家庭收入高峰错开的差距。同时，对居住在共有产权住房的家庭，当其孕育多个子女时，给予其政府持有份额的转让优惠，或允许家庭逐步扩大所持房产的份额，以帮助家庭完成住房财富积累；</li><li>扩大社区抚养渠道，减轻女性负担、促使女性早日回归职场。在中国，家庭抚养是养育子代最重要的方式，造成这一现象的原因之一是社区抚养的不足。在住宅开发的规划设计阶段，应按一定比例和标准，配建社区抚幼场所，辅以社会工作者、业主委员会、家长协会的参与，以降低女性在幼儿养育阶段被拒绝在职场之外的时间和可能性。</li><li>一系列促进教育公平的学区房政策及租购同权政策，帮助住房产权与教育发展权脱钩。</li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>住房</tag>
      
      <tag>生育</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>公民科学消亡了吗</title>
    <link href="/2021/07/16/%E5%85%AC%E6%B0%91%E7%A7%91%E5%AD%A6%E6%AD%BB%E4%BA%86%E5%90%97/"/>
    <url>/2021/07/16/%E5%85%AC%E6%B0%91%E7%A7%91%E5%AD%A6%E6%AD%BB%E4%BA%86%E5%90%97/</url>
    
    <content type="html"><![CDATA[<p>Is Citizen Science Dead?</p><p>Christopher S. Lowry and Kristine F. Stepenuck</p><p>我们的世界因社会、经济、政治和环境事件而两极分化。在讨论科学发现或建议时，不可能不引起负面反应和反对意见——无论是在杂货店的非正式互动中，还是在高影响力期刊的评审过程中。作为专业的科学家，我们经常受到公众的不信任。这部分是由于我们未能有效地沟通我们的工作，也因为我们致力于培育科学研究这个产业，这需要我们保持对研究方向和权威的控制。因此，我们通常把科学发现推向公众，而没有让他们参与新知识的产生。这就产生了一个问题，即公民科学是如何融入科学统一体（scientificcontinuum）的。从根本上讲，公民科学允许专业科学家与非专业人员结合并参与产生科学成果。这是一个弥合鸿沟的大好机会，可以促进两者之间以及更广泛的科学领域的合作和建立信任。为了实现这一目标，我们必须对加剧不平等和限制公民科学的实施和参与的包容性、偏见、利用和实用性等问题进行评估。如果没有这样的行动，就会引发这样一个问题:“公民科学死了吗?”</p><p>公民科学缺乏包容性，体现在命名法、招募策略、开展科学的机制，甚至是正在解决的科学问题上。“公民科学”一词可能是两极分化的一个驱动因素，将那些感到被纳入的人和感到被排斥的人分开。参与公民科学的人往往受过高等教育，生活富裕，缺乏全体人口的代表性，尽管这一领域被描述为“科学研究的公众参与”和其他一些不那么分裂的术语。使用任何将专业科学家和非专业人士分开的术语来描述科学工作或成果，都会在两者之间形成一道即时的鸿沟，使业余人士的权威受到质疑。公民科学的包容性还受到项目特定要求的影响，包括设备、可达性、时间、能力和参与者分类。正在解决的科学问题也可能将某些人群排除在受益范围之外，比如那些受污染影响过大的人群。然而，合作和共同创造的公民科学模式，即科学家和非专业人员共同开发和实施研究，是成功的包容性方法的例子。以遍布美国的数千所大学扩展办公室（UniversityExtensionoffices）为例，这些办公室将大学的知识和资源扩展到社区，使公众参与研究。在这一过程中，学院派与社区建立了关系，推动了研究课题的实施，并最终解决了当地的挑战。</p><p>科学的专业化可能导致对公民科学的偏见。例如，<strong>科学家可能不信任业余的数据收集者，尽管他们经常严重依赖训练有限的学生收集“有效”的数据用于自己的研究。</strong>公民科学家在数据收集和分析方面的质量控制问题和伦理问题（比如科学家可以要求志愿者付出多少努力），是专业科学家反对使用这些数据来支持他们的研究的两个最常见的论点。数据质量问题在大型项目中呈指数级增长，在这些项目中，空间和时间数据收集的不一致、培训的可变性和个人偏见都可能影响结果;尽管如此，这对于使用来自不同数据集的专业科学也可能是正确的。事实上，专业科学家是量化不确定性的专家。在此基础上，我们必须制定公民科学错误分析的标准，并帮助实施确定可能的错误来源的计划。现有的模型类似于EPA的质量保证和文件手册，可以作为指导。</p><p>缺乏专业人士的反馈，以及在决策和同行评审过程中不承认公众是有效的科学贡献者，都会导致人们产生被剥削的感觉。此外，公众可能只被视为获取数据的工具，而不是研究合作者。这降低了他们对所产生知识的贡献的价值。这种剥削性质可能会导致志愿者的高流动率和项目的短半衰期。虽然我们知道，只有在信息双向传递的情况下，才能实现公民到专业科学的闭环，但要超越公民作为工具的思维是很困难的，而且需要大量的时间投入来完成。一个解决方案是在研究开始时让公民科学家参与进来，并让他们参与整个科学过程。积极的伙伴关系不仅是一种闭环的方式，而且也是一种建立关系的方式，最终可以给公民科学家平等的地位，以开发和传播满足当地需求的信息。</p><p>最后，公民科学并不是一刀切的模式，它有一些与传统科学研究不同的实践局限性，传统科学研究需要不同的知识、技能和专业科学家的行动。一些研究问题需要昂贵和/或专门的设备，这限制了参与。与社区成员有效合作也需要时间。专业科学家最初必须建立对将社区参与纳入研究的机会的认识。之后，需要时间来招募、培训、支持和向参与者提供反馈。也许最重要的是，需要时间来建立关系以促进信任，这可能是专业科学家进入的最高障碍。研究轨迹也可能出现分歧，专业科学家在较长时间内专注于开发同行评议的出版物(尽管保质期较长)，而公民科学家则看重通过演讲或网站提供的短期反馈。这种分歧可归因于对过程而非产品的关注，这在专业科学中甚至是有问题的。承认公民科学并不完美并不是一个完整的解决方案;我们必须扩大在同行评议的文献中已经很明显的科学发现的机会。通过ZooniverseEyeWire、eBird、大型强子对撞机和CoCoRaHS进行的研究证明了这些项目的影响和可扩展性。</p><p>如果不解决包容、偏见、剥削和实用性等问题，公民科学可能会消亡，失去它在科学统一体中的地位。专业科学家可以改变这一进程。我们必须持续认识到我们在创造包容环境的同时改善人类状况的使命。我们习惯在研究的变革性和影响力之间做权衡，公民科学也不例外。让公众参与科学不仅创造了对科学更大的信任，还提供了重要的观察、分析和视角。认识到与包容性、偏见、剥削和实用性有关的进入障碍是解决这些障碍的第一步。有针对性的招募可以增加参与的多样性。有意的项目设计和质量保证计划的制定可以减少偏见并解决实用性问题。项目通过培训、数据可视化和定期交流来发展强大的实践社区，从而克服了开发的障碍。在最高标准下，公民科学项目定义了预期目标、数据用途和数据质量目标。如果我们作为专业的科学家让包容、偏见、利用和实用性等进入障碍阻碍了我们，公民科学就会死亡。</p><p>原文信息：</p><p>Lowry, C. S., &amp; Stepenuck, K. F. (2021). Is Citizen Science Dead?<em>Environmental Science &amp; Technology</em>, <em>55</em>(8).https://doi.org/10.1021/acs.est.0c07873</p>]]></content>
    
    
    
    <tags>
      
      <tag>公民科学</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>乡村的喧嚣与城市的失语</title>
    <link href="/2021/07/04/%E4%B9%A1%E6%9D%91%E7%9A%84%E5%96%A7%E5%9A%A3%E4%B8%8E%E5%9F%8E%E5%B8%82%E7%9A%84%E5%A4%B1%E8%AF%AD/"/>
    <url>/2021/07/04/%E4%B9%A1%E6%9D%91%E7%9A%84%E5%96%A7%E5%9A%A3%E4%B8%8E%E5%9F%8E%E5%B8%82%E7%9A%84%E5%A4%B1%E8%AF%AD/</url>
    
    <content type="html"><![CDATA[<p>他们把城市弄得“千城一面”，却反过来要求乡村保持“乡村性”。</p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image//img/微信图片_20210724161409.jpg" /></p><p>乡村振兴局大门👆，门内👇</p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image//img/20210724161757.png" /></p><p>去年五四，演员何冰在《后浪》的演讲中说：</p><blockquote><p>我看着你们，满怀羡慕，人类积攒了几千年的财富，所有的知识、见识、智慧和艺术，像是专门为你们准备的礼物。科技繁荣、文化繁茂、<strong>城市</strong>繁华，现代文明的成果被层层打开，可以尽情地享用。</p></blockquote><p>视频画面中，青年们在城市里穿梭、在异国旅行、在电竞场欢呼、在天台跳宅舞。</p><p>后浪奔涌在城市，而乡村在失语。</p><p>城市理所当然是现代文明生长的地方。资本、权力与知识的集聚，使商品与服务以极高的密度铺展，人们只需下楼或者点点手机，即可触摸到人类文明积攒了几千年的成果。</p><p>快速的交通，霓虹的广告牌，布满外文符号的店铺，商场里的匆匆人流与背景音乐，塑造着关于城市的意象。人声、电子音、机械声构成了相对乡村分贝更高的底噪，宣示着城市的骄傲与霸道。似乎，喧嚣是城市的对应物。</p><p>然而，车水马龙的背后蕴含着深切的单薄与失语。</p><p>友人KY在北京、广州、南京的街头，体会到的是差不多的城市。一样形状的透水砖，一样的梧桐树，一样面色的行人，一样衬托着蓝天的玻璃幕墙，以缓和建筑对空间的压迫感。于是，他选择在酒店的房间里看吃播。偶尔有种感觉，对于城市特定区域的场景，存在记忆上的换景与交错，在北京街头见到的游人，同样在南京出现。于是，就有了段子描述的那样：</p><blockquote><p>在中国，几乎每个城市，都有一条街，人山人海，全是游客，打着老街的名号，以文艺的名义，千篇一律地卖着从义乌批发来的工艺品，卖着臭豆腐烤鱿鱼和奶茶。这条街在北京叫作南锣鼓巷，在上海叫田子坊，在杭州叫河坊街，在黄山叫屯溪老街，在南京叫夫子庙，在扬州叫东关街，在成都叫宽窄巷子，在厦门叫鼓浪屿，在武汉叫户部巷，在西安叫回民街，在重庆叫磁器口，在桂林那条街叫西街，在青岛叫劈柴院，在天津叫古文化街，在长沙叫火宫殿，在拉萨叫八角街，在丽江叫做丽江古城……</p></blockquote><p>城市设计者们迎合着大众的庸俗口味，他们把关于成功的野心投影在城市，构筑出巨大的钢筋水泥森林与同质化作品。走在宽窄巷子，看着挂满熊猫标志的精致小店里，营业员在有人经过时发出招揽顾客的口号，顾客走过便开始玩手机，待下一个顾客经过时再发出口号，仿佛名为“地球online”游戏里的NPC，重复着固定的动作，等待玩家上前触发进一步对话。这不得不说是一种失语。</p><p>然后，我看见失语在更多的场所发生。地铁车厢外放的抖音里令人毛骨悚然的电子假笑与行刑者木讷的表情，以饭搭子形式构成的并肩与挽手，饭店里情侣各自对着手机的沉默。荒原在看不见的地方生长，城市的喧闹构造了泡沫般的精神繁荣，于是，小布尔乔亚们开始在livehouse、书店见面会、展会中建构自己的关于意义的积蓄。这让我想起齐泽克对中产阶级的阴阳怪气。</p><p>还有一部分成功人士，他们把“落地感”伸向了乡村。</p><p>传统的乡村是自然的、也是喧闹的。夏日的蛙声、蝉鸣，这些美好的意象，与不幸家庭的怒骂及蚊虫的嗡嗡声并存。乡村的喧闹更多地关乎生命体，有着自身的独立性与复杂性。</p><p>但是，ta正逐渐被捂住嘴巴。</p><p>我看见决策者们、规划设计者们，在他们关于乡村的规划与想象中，乡村正被去本地人格化。事情首先发生在对乡村景观的强暴上。在江南地区的乡村旅游景点与学院派的规划设计展中，出现了一样的马头墙，一样的水井，一样的为迎合游客构筑的水体与粉黛乱子草，建筑符号的贫困向乡村蔓延。在各级规划文本中，执笔者毫不避讳地用“打造”这个词作为乡村旅游的生产性动词。如同著名学者葛教授所言，“历史为现实服务”，乡村应当为城市服务。上海的乡村已经成为了第二城市（或者说城市plus），是服务城市和承载城市核心区外部功能的场所。在城乡统筹发展中，大部分是城市想统筹农村，而不是农村想统筹城市。城市中年们从光怪陆离的世界中走出，走入乡村，找寻记忆中的乡愁，然后在精心修饰过的古朴中收获消费的快乐。</p><p>接着，在靠近城市的地区，发生了知识分子与决策者的对抗。乡村旅游、现代农业，是乡村振兴关于产业兴旺要求的两个支柱，在乡村振兴慢慢向村村振兴发展时，许多村落被注入了乡村旅游与现代农业的期望。宣传走在实践之前，研报显示乡村旅游的市场为万亿级，年客流量达数十亿。自上而下的目标分解后，基础设施建设大面积铺开，于是，有学者警告说，<strong>全国农村最多只有不足5%的农村具有赚取城市人“乡愁”钱的可能。</strong></p><p>最后，让人感到奇怪的是，他们把城市弄得“千城一面“，却反过来要求乡村保持“乡村性”。如友人所说，“城市的文明更像是摘花”。在厌倦了轻易可得的锦簇花团后，人们开始寻求一种超越，在短视频脉冲式的狂喜导致的注意力分配系统崩坏的时候，他们把眼光投向了支撑花朵生长的土壤。他们说，乡村应该有乡村的样子，从人口、产业、景观等维度计算”乡村性含量“；他们说，乡村的珍贵在于原真性，山水路林、曲径通幽才是村。他们带着喇叭入侵着乡村，宣示着他们对于这片空间主人式的想象与安排。却忘了，乡村应当首先是村民的乡村。</p><p>一时间我竟分不清这是知识分子对乡村的负责还是不负责任。</p>]]></content>
    
    
    
    <tags>
      
      <tag>乡村</tag>
      
      <tag>城市</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>极化世界-概念版1.0</title>
    <link href="/2021/06/05/%E6%9E%81%E5%8C%96%E4%B8%96%E7%95%8C-%E6%A6%82%E5%BF%B5%E7%89%881.0/"/>
    <url>/2021/06/05/%E6%9E%81%E5%8C%96%E4%B8%96%E7%95%8C-%E6%A6%82%E5%BF%B5%E7%89%881.0/</url>
    
    <content type="html"><![CDATA[<p>我们身处在新一轮的马尔萨斯循环之中吗？</p><p>我想先给大家介绍几幅图：</p><p><img src="https://cdn.jsdelivr.net/gh/yuzhangnju/image/img/a.jpg" alt="a" style="zoom:30%;" /></p><blockquote><p>上图抽象化地表示了两类群体对事件看法的分布，假设横轴的“0”点为相对中立，“0”点的左右都为对中立的偏离，越远离越极端。（横轴也可以理解为“情感值”）</p></blockquote><p>”峰值邻近“是对过去状态的描述，”两极分化“则表示当下人们的看法。群体A与群体B，原本都持有邻近“中立”的观点，但某些因素的变化，使得两个群体的意见分化越来越严重，群体A意见的中心值向左偏移，群体B意见的中心值向右偏移，图中两条线相互分离，两类群体观点交叉的部分越来越少。</p><p>两条线交叉的部分，事实上是“共同话语空间”或“可对话空间”。基于群体立场的不同，可对话空间越来越小。这样的事件在当下广泛发生，如男性与女性、精英与大众、两党之间、城乡之间、穷人与富人、不同宗教之间，群体意见的两极分化越来越明显。于是，旧词被赋予了新的含义，年轻人将这种现象描述为“二极管”。直接体现是群体间以标签化的语言在微博、豆瓣、B站视频留言区展开论战。<br></p><p><img src="https://cdn.jsdelivr.net/gh/yuzhangnju/image/img/image-20210605223109805.png" alt="image-20210605223109805" style="zoom:80%;" /></p><blockquote><p>这两幅图展示了另一种趋势，即“幂律分布”的极化。假设两幅图都表示群体收入的排序，蓝色状态时，群体收入的差距相对较小，而到红色状态时，富者越富、贫者越贫。</p></blockquote><p>基尼系数是刻画收入差距的重要指标，谢宇教授等基于多个数据源，测度出中国的收入差距不断扩大<ahref="#refer-anchor-1"><sup>1</sup></a>。类似的“幂律分布”式极化在其他领域也逐渐发生，如微博评论的点赞数，知乎答复的点赞数。有趣的是，科学论文的引用也在极化。PNAS今年年初上线的一篇文章显示，全球引用的不平等正在加剧，在2000 年至 2015 年间，被引用次数最多的前 1% 科学家的累积引用份额从 14%增加到 21%，引用不平等的基尼系数从 0.65 上升到 0.70<ahref="#refer-anchor-2"><sup>2</sup></a>。</p><p><img src="https://cdn.jsdelivr.net/gh/yuzhangnju/image/img/image-20210605105841918.png" alt="image-20210605105841918" style="zoom:30%;" /></p><p><br></p><p>两极分化与幂律分布的强化，都是极化的体现，这种极化加剧了社会政治、经济的不安全感。遗憾的是，极化并非是流量时代的传播学错觉，它不止在新闻媒体中发生，事实上，它越来越成为塑造世界的力量。在极化社会经常看到公众对事实可证明的问题的争论，在此过程中，越来越多的人遵循自己集团的信息，事实和道德真理越来越失去分量<ahref="#refer-anchor-3"><sup>3</sup></a>。</p><p>我想在保持对宏大叙事敬畏之心的同时，顺应自己内心的好奇，在更抽象和切实的维度对当下的极化寻求某种解释或安慰。是哪些力量塑造了极化，广泛的极化表现在哪些领域（或者说极化在哪些领域更容易被观察到），以及这种极化将如何驱动世界。</p><h3 id="极化世界如何可能">1. 极化世界如何可能</h3><h4 id="信息茧房">1.1 信息茧房</h4><p>网络中相对无监督的自由给了人们充分表达的权利，一个理所当然的推论是：在自由环境中，人们各抒己见，允许不同观点同时存在，百花齐放百家争鸣。但奇怪的是，过去一段时间常常可以观察到国内外媒体上充斥着的特朗普式的胡言乱语，不同立场间的对话变得愈加困难，人们在多元开放的网络文化中构建着二元对立。似乎，和而不同的状态，只在互联网早期的蛮荒时代发生。</p><p>有相当多的声音将网络意见的极化归因于信息茧房效应。</p><p>这两天腾讯副总裁的“猪食论”引起了很多关注，因为冠以AI之名的个性算法分发，“你喜欢猪食，看到的就全是猪食”。这是信息茧房接地气的表达。人们对某一类内容看得越多，相似内容被推荐得越多，以下滑屏幕的方式，人们生成单向时光机和信息牢笼。基于推特、Facebook等媒体用户的研究显示，人们倾向于关注特定的叙述并加入两极分化的群体<ahref="#refer-anchor-4"><sup>4-</sup></a><ahref="#refer-anchor-5"><sup>5</sup></a>。用户基于社交媒体展示的喜好被精确捕捉，并进一步被投喂。</p><h4 id="非完全竞争下的数字赋权">1.2 非完全竞争下的数字赋权</h4><p>个体可以在互联网上相对自由地发声，但人们获取信息的基础却是不平等的、不同群体的声量亦是不平等的。在排序算法加持下，点赞多的声音排在前列。为了进一步迎合算法，语不惊人死不休，事实被进一步加工。二手的、简化的、倾向性的叙事吸引了大批拥趸，而数字赋权使个体不甘于平庸与被安排，于是不同群体聚集在不同的意见之下，形成网络世界地标。讽刺的是，这常常给人一种，从此岸到彼岸的虚幻认同感。</p><p>这种不均衡的数字赋权似乎在中文互联网更容易被观察到。</p><p>网络并不是平的，相反，它是由山峰堆叠的世界。</p><h4 id="公民科学的消亡">1.3 公民科学的消亡</h4><p>现代科学的发展至今不过400余年，指数化的技术进步是现实幂律的倒影。由于学科的分化与深化，逻辑实证主义与实验室精密实验的范式使科学研究越来越成为圈子里的游戏，以致于有科学家无奈地问到：公民科学死了吗？<ahref="#refer-anchor-6"><sup>6</sup></a>（Is Citizen ScienceDead?）在社会科学研究中，公众越来越样本化，对代表性的普遍追逐必然造就忽视与偏见。</p><p>逻辑实证主义的优势是可复制性，但这种可复制性也成为了易复制性，导致学术的虚假繁荣。在同行评审机制不健全的情况下，易复制性使初学者以及一些不得志的中老年学者进行着重复的、流水线式的科研工作，大量的论文被冠以相似的标题。这抑制了多样化。</p><p>学科分化还导致了百科全书式学者的消亡，以及，加重了科普工作难度。数学是唯一精确的语言，然而科普工作者不得不以具象化的方式向大众解释研究成果，这容易导致“以形补形”式的荒诞。</p><h4 id="广泛的不平等加剧">1.4 广泛的不平等加剧</h4><p>在一系列制度安排下，广泛的不平等正在加剧。资本主义常被认为是一系列不平等的根源。由于资本扩张的本性，骑手被困在系统里、开发人员的命运与快递员紧密相连。人们享受了资本主义带来的便利与繁华，那些外卖员、快递员、菜场工作人员、清洁工、建筑工人、农民构筑了“便利”体系的底层。在体系形成后，精英们以一系列正式制度、非正式制度和治理结构，维护着它。这种不平等是一部分人幸福的来源。</p><p>资本主义的体系下，资本的回报远高于劳动的回报，这导致了广泛的收入不平等。</p><p>收入不平等是一系列不公平的后果，同时进一步塑造了不平等。这种不平等体现在住房、教育、医疗、养老，甚至包括死亡方面。</p><p>收入的不平等是广泛发生的，然而为何，在最近的中国，才被广泛提起？</p><p>大流行可能加剧了这一不平等。在过去，尽管群体间收入差距持续扩大，但总体而言，两个群体的状态都在进步中。在大流行的背景下，一系列政策使得富人的财富通胀，而穷人的"财产"通货紧缩。</p><p><img src="https://cdn.jsdelivr.net/gh/yuzhangnju/image/img/image-20210605223149706.png" alt="image-20210605223149706" style="zoom:80%;" /></p><blockquote><p>上图中，左图表示惯常状态下不同群体的财富变化，尽管差距在不断扩大，但两个群体都获得了财富改善。而在大流行的背景下（右图），富人的财富经历了进一步增值，而穷人的处于停滞或者恶化状态。恶化加剧了极化。</p></blockquote><p>然而以上所有的解释可能只是二阶的或N阶的，它没有提供对极化世界的本质回答。</p><h3 id="极化世界观察">2. 极化世界观察</h3><h4 id="语言的腐败与贫困">2.1 语言的腐败与贫困</h4><p>在极化的世界中，人们无法满足于平和的交流，常规语言的情感阈值过低，大量的标签话、抽象话被发明出来。</p><p>一个例子是传统公共知识分子的陨落。从“公共知识分子”到“公知”，词汇的简化暗含了背后民众情感的简单化。“就这？”、“不会吧”，还有一大堆表情构成的抽象话，大众行使着语言暴力。以阴阳怪气式的幽默，人们消解着传统的民间权威，然而这种解构也进一步塑造了分歧。</p><p>聚集在算法之下，点赞数排名靠前的评论更容易被看到。这些评论常常像一种政治米姆，以极快的速度扩散，并塑造着日常语言的藩篱。话语的单一化与极化导致了语言的腐败与贫困。</p><h4 id="左的兴起">2.2 左的兴起</h4><p>当早期公共知识分子传播的美好想象没有得到实现时，他们被打倒，另一批声音占据主流叙事。历史事件表明，这种声音常常是左的声音。在广泛的极化下，左的声量逐渐升高。</p><p>在中文互联网上，知乎、豆瓣、微博，都可以发现，对资本的批判成为主流。人民富豪及时抛出了996福报论，成为资本的代言人，也成为了这一轮思潮批判的靶心。在B站，关于伟大导师们的视频越来越多。革命时期的话语、意象被频繁提起，路灯成了紧俏品。</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image/img/image-20210605214600555.png"alt="image-20210605214600555" /><figcaption aria-hidden="true">image-20210605214600555</figcaption></figure><h3 id="三极化世界如何终结">三、极化世界如何终结</h3><p>这一轮的极化将如何收场呢？是传统上马尔萨斯循环的终结点吗？以瘟疫、饥荒、战争的形式重启世界？还是以某种改良，提升共同话语与可对话空间？大众可以期待技术爆炸拯救一切吗？</p><p>References:</p><div id="refer-anchor-1"></div><ul><li>[1] Xie, Y., &amp; Zhou, X. (2014). Income inequality in today’sChina. <em>Proceedings of the National Academy of Sciences of the UnitedStates of America</em>, <em>111</em>(19), 6928–6933.https://doi.org/10.1073/pnas.1403158111.<div id="refer-anchor-2"></div></li><li>[2] Nielsen, M. W., &amp; Andersen, J. P. (2021). Global citationinequality is on the rise. <em>Proceedings of the National Academy ofSciences of the United States of America</em>, <em>118</em>(7), 1–10.https://doi.org/10.1073/pnas.2012208118.<div id="refer-anchor-3"></div></li><li>[3] https://en.wikipedia.org/wiki/Political_polarization.<div id="refer-anchor-4"></div></li><li>[4] Schmidt, A. L., Zollo, F., Vicario, M. Del, Bessi, A., Scala,A., Caldarelli, G., Stanley, H. E., &amp; Quattrociocchi, W. (2017).Anatomy of news consumption on Facebook. <em>Proceedings of the NationalAcademy of Sciences of the United States of America</em>,<em>114</em>(12), 3035–3039. https://doi.org/10.1073/pnas.1617052114.<div id="refer-anchor-5"></div></li><li>[5] Conover, M., Ratkiewicz, J., Francisco, M., Gonçalves, B.,Menczer, F., &amp; Flammini, A. (2011). Political polarization ontwitter. <em>Proceedings of the International AAAI Conference on Web andSocial Media</em>,<em>5</em>(1).https://www.aaai.org/ocs/index.php/ICWSM/ICWSM11/paper/viewFile/2847/3275.<div id="refer-anchor-6"></div></li><li>[6] Lowry, C. S., &amp; Stepenuck, K. F. (2021). Is Citizen ScienceDead? <em>Environmental Science &amp; Technology</em>, <em>55</em>(8),4194–4196. https://doi.org/10.1021/acs.est.0c07873.</li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>极化世界</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>R语言操作基础</title>
    <link href="/2021/05/29/R%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E6%93%8D%E4%BD%9C/"/>
    <url>/2021/05/29/R%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E6%93%8D%E4%BD%9C/</url>
    
    <content type="html"><![CDATA[<p>R语言在统计、计量及科研绘图领域有诸多应用，是强力的科研工具。</p><p>为推进对文献的理解，以及入门强大的工具，学习R语言。</p><p>由于主要作工具用，并不涉及“编程”，本节仅摘录相关基础知识，以便查阅。</p><p>配置为：R4.0.2+Rstudio</p><h3 id="rstudio初识">1. Rstudio初识</h3><p><img src="https://cdn.jsdelivr.net/gh/yuzhangnju/image/img/20210529205237.png"  /></p><h4 id="a区域">1.1 A区域</h4><p>这个区域主要负责代码的撰写。刚安装的RStudio，启动时，可能会看不到这个A区域。</p><p>而是B区域全部占据了A区域，可点击左上角的【File】→【New File】→【RScript】，即可看见。如果之前打开过R脚本，再打开RStudio会出现之前打开过的R脚本。</p><p><img src="https://cdn.jsdelivr.net/gh/yuzhangnju/image/img/20210529205619.png" style="zoom:50%;" /></p><p>上面步骤将新建一个名为“Untitled1”的R代码文件（后缀名默认为<code>.R</code>）。你可在文件内撰写代码，然后可按快捷键<code>Ctrl + S</code>保存文件。也可点击左上角的【File】→【Save】进行保存。接着会跳出“SaveFile”弹出框，然后可将“Untitled1”文件重命名。这里重命名为“test”，然后点“Save”保存文件。文件将保存在你想保存的工作路径下。接着会跳出“SaveFile”弹出框，然后可将“Untitled1”文件重命名。这里重命名为“test”，然后点“Save”保存文件。文件将保存在当前工作路径下。</p><h4 id="b区域">1.2 B区域</h4><p>这里是执行代码的地方，执行结果也会显示在这里。在A区域输入代码，没执行一行都会在这里显示。也可在这个区域直接输入代码，然后按回车键执行代码，输出结果。在这个区域直接输入代码，执行，和RGUI界面差不多。所有我们就不介绍RGUI。</p><p>在A区域输入的代码，可通过点击Run运行光标所在行的代码，点一次运行一行，也可通过【Crtl+Enter】运行。运行的代码会在B区域显示，如果代码有错，也会出现相应的报错提示。B区域随着代码的运行，会越来越多，可通过掃把按钮清空，想要清除Console上的内容，还可按【Ctrl+ L】快捷键或者在Console输入cat(')。</p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image/img/20210529205851.png" /></p><h4 id="c区域">1.3 C区域</h4><p><strong>Environment</strong>：是用来记录当前变量的数值，方便查看当前变量的状况。</p><p><strong>History</strong>：是所有在<strong>Console</strong>区内代码执行的历史记录。</p><p><strong>Connections</strong>：是用来方便连接外部数据库，用得非常少，先不介绍。</p><h4 id="d区域">1.4 D区域</h4><p>Files, Plots, Packages, Help, Viewer</p><p><strong>Files：</strong>这里会显示当前工作路径下的文件，让使用者了解所在的工作路径，这对读写文件非常重要。</p><p>你可通过在Console输入<code>getwd()</code>函数来获取当前工作路径：</p><p>如果Files下显示的不是当前工作路径，那是由于没及时更新视图所导致的。可点击Console字符串旁边箭头的来更新，如下图。</p><p><img src="https://cdn.jsdelivr.net/gh/yuzhangnju/image/img/20210529213112.png" style="zoom:50%;" /></p><p><strong>Plots：</strong>画好的图将在这里显示。</p><p><strong>Packages：</strong>显示已经安装好了的包，打勾代表已经加载。</p><p>安装Package点击Install，然后输入包名；也可在Console中输入相应代码来安装包，比如<code>install.packages('data.table')</code>将安装“data.table”这个包。更新包点Update。</p><p><strong>Help：</strong>查询函数如何使用，下图是查询read.table。</p><p>也可在Console中输入help()函数，()内输入所要查询的函数。比如：help(read.table)。或者直接在Console输入<code>?read.table</code>，如下图。</p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image/img/20210529213512.png" /></p><p><strong>Viewer：</strong>是用来显示本地网页文件，用得比较少。</p><h4 id="rstudio的相关设置">1.5 RStudio的相关设置</h4><ul><li>切换不同R版本</li></ul><p>R允许多个版本共存，比如在电脑上同时安装了2个版本（如下图）。通过RStudio可以很方便在各个R版本间进行切换。</p><p>点击【Tools】→【Global Options...】</p><p>接着点【General】→【Change...】→【Choose a specific version ofR】→选中切换的R版本→【OK】→【OK】；下次启动RStudio后，R将切换到相应版本。这里需要注意的是，在Choosea specific version ofR中出现的R版本是已经配置了环境变量的。没有配置环境变量不会自动显示，需要点击Browse去选择你安装的版本。</p><ul><li>包安装镜像切换</li></ul><p>由于网速慢的原因，有时安装包会安装失败。</p><p>此时可以通过将包安装切换至中国镜像来解决：点【Tools】→【GlobalOptions...】，接着点【Packages】→【Change...】→【选中一个中国镜像】→【OK】→【OK】。如下图，以后安装包都会通过这个镜像。</p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image/img/20210529213853.png" /></p><p>（哈哈，居然还有南大镜像）</p><ul><li>界面样式的修改</li></ul><p>可通过【Tools】→【GlobalOptions...】，接着点【Appearance】进行设置。</p><ul><li>代码编译格式</li></ul><p>有时候打开别人给你发的代码，里边的中文注释换乱码，可通过【Tools】→【GlobalOptions...】，接着点【Code】→【Saving】进行设置。一般选择UTF-8.</p><p>其实也可直接编码重新打开：</p><p><img src="https://cdn.jsdelivr.net/gh/yuzhangnju/image/img/20210529214237.png" style="zoom:50%;" /></p><h3 id="r语言的包管理与应用">2. R语言的包管理与应用</h3><h4 id="r包安装">2.1 R包安装</h4><ul><li>通过选择菜单</li></ul><p>程序包-&gt;安装程序包-&gt;在弹出的对话框中，选择你要安装的包，然后确定。</p><ul><li>使用命令</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs R">install.packages<span class="hljs-punctuation">(</span><span class="hljs-string">&quot;package_name&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-string">&quot;dir&quot;</span><span class="hljs-punctuation">)</span><br></code></pre></td></tr></table></figure><p>package_name:是指定要安装的包名，请注意大小写。</p><p>dir:包安装的路径。默认情况下是安装在..文件夹中的。可以通过本参数来进行修改，来选择安装的文件夹。</p><ul><li>本地安装</li></ul><p>如果你已经下载的相应的包的压缩文件，则可以在本地来进行安装。请注意在windows、unix、macOS操作系统下安装文件的后缀名是不一样的：</p><p>1）linux环境编译运行：tar.gz文件</p><p>2）windows 环境编译运行 ：.zip文件</p><p>3）MacOS环境编译运行:.tgz文件</p><h4 id="r包加载">2.2 R包加载</h4><p>包安装后，如果要使用包的功能。必须先把包加载到内存中（默认情况下，R启动后默认加载基本包），加载包命令：</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs R">Library<span class="hljs-punctuation">(</span>“包名”<span class="hljs-punctuation">)</span><br>Require<span class="hljs-punctuation">(</span>“包名”<span class="hljs-punctuation">)</span><br></code></pre></td></tr></table></figure><p>library和require都可以载入包，但二者存在区别。</p><p>在一个函数中，如果一个包不存在，执行到library将会停止执行，require则会继续执行。</p><h4 id="查看包的相关信息">2.3 查看包的相关信息</h4><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs R">library<span class="hljs-punctuation">(</span>help<span class="hljs-operator">=</span><span class="hljs-string">&quot;package_name&quot;</span><span class="hljs-punctuation">)</span><br></code></pre></td></tr></table></figure><p>主要内容包括：例如：包名、作者、版本、更新时间、功能描述、开源协议、存储位置、主要的函数</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs R">help<span class="hljs-punctuation">(</span>package <span class="hljs-operator">=</span> <span class="hljs-string">&quot;package_name&quot;</span><span class="hljs-punctuation">)</span><br></code></pre></td></tr></table></figure><p>主要内容包括：包的内置所有函数，是更为详细的帮助文档<br></p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs R">find.package<span class="hljs-punctuation">(</span><span class="hljs-punctuation">)</span> <br>或者<br>.path.package<span class="hljs-punctuation">(</span><span class="hljs-punctuation">)</span><br></code></pre></td></tr></table></figure><p>查看当前环境哪些包加载</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs R">detach<span class="hljs-punctuation">(</span><span class="hljs-punctuation">)</span><br></code></pre></td></tr></table></figure><p>移除包出内存</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs R">data<span class="hljs-punctuation">(</span>dsname<span class="hljs-punctuation">,</span> package<span class="hljs-operator">=</span><span class="hljs-string">&quot;package_name&quot;</span><span class="hljs-punctuation">)</span><br></code></pre></td></tr></table></figure><p>把其它包的数据加载到内存中</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs R">data<span class="hljs-punctuation">(</span> package<span class="hljs-operator">=</span><span class="hljs-string">&quot;package_name&quot;</span><span class="hljs-punctuation">)</span><br></code></pre></td></tr></table></figure><p>查看这个包里的包有数据</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs R">library<span class="hljs-punctuation">(</span><span class="hljs-punctuation">)</span><br></code></pre></td></tr></table></figure><p>列出所有安装的包</p><h3 id="r语言语法基础">3. R语言语法基础</h3><h4 id="基础命令">3.1 基础命令</h4><ul><li>ls() list当前工作区内存中的变量</li><li>rm(args) 移除内存变量Remove Object</li><li>history() 查看历史命令清单</li><li>help(“函数”) 打开函数帮助文档</li><li>names(变量) 返回数据集中名字属性</li><li>mode(变量)/class(变量) 返回基本数据类型</li><li>is(变量) 返回变量的基本数据类型和高级数据类型</li></ul><h4 id="变量命令规则">3.2 变量命令规则</h4><ul><li>字母、数字或者下划线组成</li><li>变量名称以字母开头，或者点后面不带数字</li></ul><h4 id="运算符">3.3 运算符</h4><ul><li>算术运算符</li></ul><table><thead><tr class="header"><th style="text-align: center;">运算符</th><th>描述</th><th style="text-align: left;">示例</th></tr></thead><tbody><tr class="odd"><td style="text-align: center;">+</td><td>两个向量相加</td><td style="text-align: left;">v &lt;- c( 2,5.5,6) <br> t &lt;- c(8, 3,4) <br> print(v+t) <br> 它产生以下结果：<br> [1] 10.0 8.5 10.0</td></tr><tr class="even"><td style="text-align: center;">−</td><td>从第一个向量减去第二个向量</td><td style="text-align: left;">v &lt;- c( 2,5.5,6)<br>t &lt;- c(8, 3,4)<br>print(v-t) <br>它产生以下结果：<br>[1] -6.0 2.5 2.0</td></tr><tr class="odd"><td style="text-align: center;">*</td><td>两个矢量相乘</td><td style="text-align: left;">v &lt;- c( 2,5.5,6) <br> t &lt;- c(8, 3,4) <br/>print(v*t) <br/>它产生以下结果：<br/>[1] 16.0 16.5 24.0</td></tr><tr class="even"><td style="text-align: center;">/</td><td>将第一个向量与第二向量相除</td><td style="text-align: left;">v &lt;- c( 2,5.5,6) <br/>&lt;- c(8, 3, 4)<br/>print(v/t) <br/>它产生以下结果：<br/>[1] 0.250000 1.8333331.500000</td></tr><tr class="odd"><td style="text-align: center;">%%</td><td>得到第一矢量与第二个矢量余数</td><td style="text-align: left;">v &lt;- c( 2,5.5,6) <br/>t &lt;- c(8, 3,4) <br/>print(v%%t) <br/>它产生以下结果：<br/>[1] 2.0 2.5 2.0</td></tr><tr class="even"><td style="text-align: center;">%/%</td><td>第一个向量与第二（商）相除的结果</td><td style="text-align: left;">v &lt;- c( 2,5.5,6) <br/>t &lt;- c(8, 3,4) <br/>print(v%/%t) <br/>它产生以下结果：[1] 0 1 1</td></tr><tr class="odd"><td style="text-align: center;">^</td><td>第一向量提升到第二向量的指数</td><td style="text-align: left;">v &lt;- c( 2,5.5,6)<br/>t &lt;- c(8, 3, 4)<br/>print(v^t) <br/>它产生以下结果：<br/>[1] 256.000 166.3751296.000</td></tr></tbody></table><ul><li>关系运算符</li></ul><p>第一向量的每个元素与第二向量的相应元素进行比较。比较的结果是一个布尔值。</p><table style="width:100%;"><thead><tr class="header"><th style="text-align: center;">运算符</th><th>描述</th><th>示例</th></tr></thead><tbody><tr class="odd"><td style="text-align: center;">&gt;</td><td>检查是否第一向量的每个元素大于第二向量的相应元素。</td><td>v &lt;- c(2,5.5,6,9) <br/>t &lt;- c(8,2.5,14,9) <br/>print(v&gt;t)<br/>它产生以下结果： <br/>[1] FALSE TRUE FALSE FALSE</td></tr><tr class="even"><td style="text-align: center;">&lt;</td><td>检查是否第一向量的每个元素小于第二向量的相应元素。</td><td>v &lt;- c(2,5.5,6,9) <br/>t &lt;- c(8,2.5,14,9) <br/>print(v &lt; t)<br/>它产生以下结果：<br/>[1] TRUE FALSE TRUE FALSE</td></tr><tr class="odd"><td style="text-align: center;">==</td><td>检查是否第一向量的每个元素等于第二向量的相应元素。</td><td>v &lt;- c(2,5.5,6,9) <br/>t &lt;- c(8,2.5,14,9) <br/>print(v==t)<br/>它产生以下结果：<br/>[1] FALSE FALSE FALSE TRUE</td></tr><tr class="even"><td style="text-align: center;">&lt;=</td><td>检查是否第一向量的每个元素是小于或等于第二向量的相应的元素。</td><td>v &lt;- c(2,5.5,6,9) <br/>t &lt;- c(8,2.5,14,9) <br/>print(v&lt;=t)<br/>它产生以下结果：<br/>[1] TRUE FALSE TRUE TRUE</td></tr><tr class="odd"><td style="text-align: center;">&gt;=</td><td>检查是否第一向量的每个元素是大于或等于第二向量的相应元素。</td><td>v &lt;- c(2,5.5,6,9) <br/>t &lt;- c(8,2.5,14,9) <br/>print(v&gt;=t)<br/>它产生以下结果：<br/>[1] FALSE TRUE FALSE TRUE</td></tr><tr class="even"><td style="text-align: center;">!=</td><td>检查是否第一向量的每个元素不等于第二向量的相应元素。</td><td>v &lt;- c(2,5.5,6,9) <br/>t &lt;- c(8,2.5,14,9) <br/>print(v!=t)<br/>它产生以下结果：<br/>[1] TRUE TRUE TRUE FALSE</td></tr></tbody></table><ul><li>逻辑运算符</li></ul><p>它仅适用于一种逻辑，数字或复杂的矢量。所有数值大于1则认为逻辑值为TRUE。</p><p>所述第一向量的每个元素与所述第二向量的相应元素进行比较。比较的结果是一个布尔值。</p><table style="width:100%;"><thead><tr class="header"><th style="text-align: center;">运算符</th><th style="text-align: left;">描述</th><th>示例</th></tr></thead><tbody><tr class="odd"><td style="text-align: center;">&amp;</td><tdstyle="text-align: left;">这就是所谓的元素逻辑AND运算符。它结合与第二向量的相应元素的第一向量的每个元素，如果这两个元素都为TRUE则给出一个TRUE。</td><td>v &lt;- c(3,1,TRUE,2+3i) <br/>t &lt;- c(4,1,FALSE,2+3i)<br/>print(v&amp;t) <br/>它产生以下结果：<br/>[1] TRUE TRUE FALSETRUE</td></tr><tr class="even"><td style="text-align: center;">\</td><tdstyle="text-align: left;">这就是所谓的逐元素逻辑或运算符。它结合与第二向量的相应元素的第一向量的每个元素，如果使用这些元素之一为TRUE则给出一个TRUE。</td><td>v &lt;- c(3,0,TRUE,2+2i) <br/>t &lt;- c(4,0,FALSE,2+3i)<br/>print(v\t) <br/>它产生以下结果：<br/>[1] TRUE FALSE TRUE TRUE</td></tr><tr class="odd"><td style="text-align: center;">!</td><tdstyle="text-align: left;">这就是所谓的逻辑非运算符。取向量的每个元素，并给出了相反逻辑值。</td><td>v &lt;- c(3,0,TRUE,2+2i) <br/>print(!v)<br/>它产生以下结果：<br/>[1] FALSE TRUE FALSE FALSE</td></tr></tbody></table><p>逻辑运算符&amp;&amp;和||考虑矢量仅第一元素并给单个元素作为输出的向量。</p><table style="width:100%;"><thead><tr class="header"><th style="text-align: center;">运算符</th><th>描述</th><th>示例</th></tr></thead><tbody><tr class="odd"><td style="text-align: center;">&amp;&amp;</td><td>所谓的逻辑与运算符。取两个向量的第一元素，仅当两个都为TRUE结果取TRUE。</td><td>v &lt;- c(3,0,TRUE,2+2i) <br/>t &lt;- c(1,3,TRUE,2+3i)<br/>print(v&amp;&amp;t) <br/>它产生以下结果：<br/>[1] TRUE</td></tr><tr class="even"><td style="text-align: center;">\</td><td>所谓的逻辑或运算符。取两个向量的第一元素，仅当两个都为TRUE结果为TRUE。</td><td>v &lt;- c(0,0,TRUE,2+2i) <br/>t &lt;- c(0,3,TRUE,2+3i)<br/>print(v\t)<br/>[1] FALSE</td></tr></tbody></table><ul><li>赋值运算符</li></ul><p>这些操作符是用来分配值到向量。</p><table><thead><tr class="header"><th>运算符</th><th>描述</th><th>示例</th></tr></thead><tbody><tr class="odd"><td>&lt;- <br/>or <br/>= <br/>or <br/>&lt;&lt;-</td><td>叫做左分配</td><td>v1 &lt;- c(3,1,TRUE,2+3i) <br/>v2 &lt;&lt;- c(3,1,TRUE,2+3i) <br/>v3= c(3,1,TRUE,2+3i) <br/>print(v1) <br/>print(v2) <br/>print(v3)<br/>它产生以下结果：<br/>[1] 3+0i 1+0i 1+0i 2+3i <br/>[1] 3+0i 1+0i1+0i 2+3i <br/>[1] 3+0i 1+0i 1+0i 2+3i</td></tr><tr class="even"><td>-&gt; <br/>or <br/>-&gt;&gt;</td><td>叫做右分配</td><td>c(3,1,TRUE,2+3i) -&gt; v1 <br/>c(3,1,TRUE,2+3i) -&gt;&gt; v2<br/>print(v1) <br/>print(v2) <br/>它产生以下结果：<br/>[1] 3+0i 1+0i1+0i 2+3i <br/>[1] 3+0i 1+0i 1+0i 2+3i</td></tr></tbody></table><ul><li>其他运算符</li></ul><p>这些操作符被用于为特定的目的，而不是一般的数学或逻辑运算。</p><table><thead><tr class="header"><th style="text-align: center;">运算符</th><th>描述</th><th>示例</th></tr></thead><tbody><tr class="odd"><td style="text-align: center;">:</td><td>冒号运算符。它创建顺序一系列数字的向量</td><td>v &lt;- 2:8 <br/>print(v) <br/>它产生以下结果：<br/>[1] 2 3 4 5 6 78</td></tr><tr class="even"><td style="text-align: center;">%in%</td><td>这个操作符用于识别一个元素是否属于（在）一个向量。</td><td>v1 &lt;- 8 <br/>v2 &lt;- 12 <br/>t &lt;- 1:10 <br/>print(v1 %in% t)<br/>print(v2 %in% t) <br/>它产生以下结果：<br/>[1] TRUE <br/>[1]FALSE</td></tr><tr class="odd"><td style="text-align: center;">%*%</td><td>这个操作符是用来乘以它的转置矩阵。</td><td>M = matrix( c(2,6,5,1,10,4), nrow=2,ncol=3,byrow = TRUE) <br/>t = M%*% t(M)<br/> print(t) <br/>它产生以下结果： <br/>[,1] [,2] [1,] 65 82[2,] 82 117</td></tr></tbody></table><h3 id="文件的输入与输出">4. 文件的输入与输出</h3><ul><li>从文件中读取数据库获矩阵</li></ul><p>read.table()函数是R最基本函数之一，主要用来读取矩形表格数据。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs R">Usage<br>read.table<span class="hljs-punctuation">(</span>file<span class="hljs-punctuation">,</span> header <span class="hljs-operator">=</span> <span class="hljs-literal">FALSE</span><span class="hljs-punctuation">,</span> sep <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-built_in">quote</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;\&quot;&#x27;&quot;</span><span class="hljs-punctuation">,</span><br>           dec <span class="hljs-operator">=</span> <span class="hljs-string">&quot;.&quot;</span><span class="hljs-punctuation">,</span> numerals <span class="hljs-operator">=</span> <span class="hljs-built_in">c</span><span class="hljs-punctuation">(</span><span class="hljs-string">&quot;allow.loss&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;warn.loss&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;no.loss&quot;</span><span class="hljs-punctuation">)</span><span class="hljs-punctuation">,</span><br>           row.names<span class="hljs-punctuation">,</span> col.names<span class="hljs-punctuation">,</span> as.is <span class="hljs-operator">=</span> <span class="hljs-operator">!</span>stringsAsFactors<span class="hljs-punctuation">,</span><br>           na.strings <span class="hljs-operator">=</span> <span class="hljs-string">&quot;NA&quot;</span><span class="hljs-punctuation">,</span> colClasses <span class="hljs-operator">=</span> <span class="hljs-literal">NA</span><span class="hljs-punctuation">,</span> nrows <span class="hljs-operator">=</span> <span class="hljs-operator">-</span><span class="hljs-number">1</span><span class="hljs-punctuation">,</span><br>           skip <span class="hljs-operator">=</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> check.names <span class="hljs-operator">=</span> <span class="hljs-literal">TRUE</span><span class="hljs-punctuation">,</span> fill <span class="hljs-operator">=</span> <span class="hljs-operator">!</span>blank.lines.skip<span class="hljs-punctuation">,</span><br>           strip.white <span class="hljs-operator">=</span> <span class="hljs-literal">FALSE</span><span class="hljs-punctuation">,</span> blank.lines.skip <span class="hljs-operator">=</span> <span class="hljs-literal">TRUE</span><span class="hljs-punctuation">,</span><br>           comment.char <span class="hljs-operator">=</span> <span class="hljs-string">&quot;#&quot;</span><span class="hljs-punctuation">,</span><br>           allowEscapes <span class="hljs-operator">=</span> <span class="hljs-literal">FALSE</span><span class="hljs-punctuation">,</span> flush <span class="hljs-operator">=</span> <span class="hljs-literal">FALSE</span><span class="hljs-punctuation">,</span><br>           stringsAsFactors <span class="hljs-operator">=</span> default.stringsAsFactors<span class="hljs-punctuation">(</span><span class="hljs-punctuation">)</span><span class="hljs-punctuation">,</span><br>           fileEncoding <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;</span><span class="hljs-punctuation">,</span> encoding <span class="hljs-operator">=</span> <span class="hljs-string">&quot;unknown&quot;</span><span class="hljs-punctuation">,</span> text<span class="hljs-punctuation">,</span> skipNul <span class="hljs-operator">=</span> <span class="hljs-literal">FALSE</span><span class="hljs-punctuation">)</span><br></code></pre></td></tr></table></figure><p>各参数的说明如下：</p><p>（1）file</p><p>file是一个带分隔符的ASCII文本文件。</p><p>（2）header</p><p>一个表示文件是否在第一行包含了变量的逻辑型变量。</p><p>如果header设置为TRUE，则要求第一行要比数据列的数量少一列。</p><p>（3）sep</p><p>分开数据的分隔符。默认sep=""。</p><p>read.table()函数可以将1个或多个空格、tab制表符、换行符或回车符作为分隔符。</p><p>（4）quote</p><p>用于对有特殊字符的字符串划定接线的字符串，默认值是TRUE(")或单引号。（`）</p><p>（5）dec</p><p>decimal用于指明数据文件中小数的小数点。</p><p>（6）numerals</p><p>字符串类型。用于指定文件中的数字转换为双精度数据时丢失精度的情况下如何进行转换。</p><p>（7）row.names</p><p>保存行名的向量。可以使用此参数以向量的形式给出每行的实际行名。或者要读取的表中包含行名称的列序号或列名字符串。</p><p>在数据文件中有行头且首行的字段名比数据列少一个的情况下，数据文件中第1列将被视为行名称。除此情况外，在没有给定row.names参数时，读取的行名将会自动编号。</p><p>可以使用row.names = NULL强制行进行编号。</p><p>（8）col.names</p><p>指定列名的向量。缺省情况下是又"V"加上列序构成，即V1,V2,V3......</p><p>Tip:</p><p>rownames、colnames是base包中的行名、列名函数；</p><p>而row.names、col.names是read.table函数中的行名、参数</p><p>（9）as.is</p><p>该参数用于确定read.table()函数读取字符型数据时是否转换为因子型变量。当其取值为FALSE时，该函数将把字符型数据转换为因子型数据，取值为TRUE时，仍将其保留为字符型数据。其取值可以是逻辑值向量（必要时可以循环赋值），数值型向量或字符型向量，以控制哪些列不被转换为因子。</p><p>注意：可以通过设置参数 colClasses ="character"来阻止所有列转换为因子，包括数值型的列。</p><p>（10）na.strings</p><p>可选的用于表示缺失值的字符向量。</p><p>na.strings=c("-9","?")把-9和？值在读取数据时候转换成NA</p><p>（11）colClasses</p><p>用于指定列所属类的字符串向量。</p><p>（12）nrows</p><p>整型数。用于指定从文件中读取的最大行数。负数或其它无效值将会被忽略。</p><p>（13）skip</p><p>整型数。读取数据时忽略的行数。</p><p>（14）check.names</p><p>逻辑值。该参数值设置为TRUE时，数据框中的变量名将会被检查，以确保符在语法上是有效的变量名称。</p><p>（15）fill</p><p>逻辑值。在没有忽略空白行的情况下（即blank.lines.skip=FLASE），且fill设置为TRUE时，如果数据文件中某行的数据少于其他行，则自动添加空白域。</p><p>（16）strip.white</p><p>逻辑值，默认为FALSE。此参数只在指定了sep参数时有效。当此参数设置为TRUE时，数据文件中没有包围的字符串域的前边和后边的空格将会被去掉。</p><p>（17）blank.lines.skip</p><p>逻辑值，此参数值设置为TRUE时，数据文件中的空白行将被忽略。默认值为TRUE。</p><p>（18）comment.char</p><p>字符型。包含单个字符或空字符的向量。代表注释字符的开始字符。可以使用""关闭注释。</p><p>（19）allowEscapes</p><p>逻辑值。类似“”这种C风格的转义符。如果这种转义符并不是包含在字符串中，该函数可能解释为字段分隔符。</p><p>（20）flush</p><p>逻辑值。默认值为FALSE。当该参数值设置为TRUE时，则该函数读取完指定列数后将转到下一行。这允许用户在最后一个字段后面添加注释。</p><p>（21）stringsAsFactors</p><p>逻辑值，标记处字符向量是否需要转化为因子，默认是TRUE。</p><p>（22）fileEncoding</p><p>字符串类型，指定文件的编码方式。如果指定了该参数，则文本数据按照指定的格式重新编码。</p><p>（23）encoding</p><p>假定输入字符串的编码方式。</p><p>（24）text</p><p>字符串类型。当未提供file参数时，则函数可以通过一个文本链接从text中读取数据。</p><p>（25）skipNul</p><p>逻辑值。是否忽略空值。默认为FALSE。</p><ul><li>写文件</li></ul><p>R主要用于统计分析，可能读文件比写文件更加常用，但写文件也很重要。读文件用read.table()，写文件就用write.table()。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs R">write.table<span class="hljs-punctuation">(</span>x<span class="hljs-punctuation">,</span> file <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;</span><span class="hljs-punctuation">,</span> append <span class="hljs-operator">=</span> <span class="hljs-literal">FALSE</span><span class="hljs-punctuation">,</span> <span class="hljs-built_in">quote</span> <span class="hljs-operator">=</span> <span class="hljs-literal">TRUE</span><span class="hljs-punctuation">,</span> sep <span class="hljs-operator">=</span> <span class="hljs-string">&quot; &quot;</span><span class="hljs-punctuation">,</span><br>            eol <span class="hljs-operator">=</span> <span class="hljs-string">&quot;\n&quot;</span><span class="hljs-punctuation">,</span> na <span class="hljs-operator">=</span> <span class="hljs-string">&quot;NA&quot;</span><span class="hljs-punctuation">,</span> dec <span class="hljs-operator">=</span> <span class="hljs-string">&quot;.&quot;</span><span class="hljs-punctuation">,</span> row.names <span class="hljs-operator">=</span> <span class="hljs-literal">TRUE</span><span class="hljs-punctuation">,</span><br>            col.names <span class="hljs-operator">=</span> <span class="hljs-literal">TRUE</span><span class="hljs-punctuation">,</span> qmethod <span class="hljs-operator">=</span> <span class="hljs-built_in">c</span><span class="hljs-punctuation">(</span><span class="hljs-string">&quot;escape&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;double&quot;</span><span class="hljs-punctuation">)</span><span class="hljs-punctuation">,</span><br>            fileEncoding <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;</span><span class="hljs-punctuation">)</span><br></code></pre></td></tr></table></figure><p><strong>参数说明：</strong></p><p>x:要写入的对象，最好是矩阵或数据框。如果不是，它是试图强迫x到一个数据框。</p><p>file: 一个字符串命名文件或编写而打开的一个连接。""表示输出到控制台。</p><p>append: 逻辑。只有当file是一个字符串才相关。</p><p>如果TRUE，输出追加到文件</p><p>如果FALSE，任何现有文件的名称被摧毁</p><p>quote:一个逻辑值（TRUE或FALSE）或数字向量。如果TRUE，任何字符或因素列将用双引号包围。如果一个数值向量，其元素为引用的列的索引。在这两种情况下，行和列名报价，如果他们被写入。如果FALSE，并没有被引用。</p><p>sep: 字段分隔符字符串。每一行x中的值都被这个字符串分隔开。</p><p>row.names:表示x的行名是否与x一起写的逻辑值，或者是写行名的字符向量</p><p>col.names: 类似上面。</p><p><br></p><p>本篇主要摘录自：</p><p>https://zhuanlan.zhihu.com/p/76576574</p><p>https://www.cnblogs.com/csguo/p/7293945.html</p>]]></content>
    
    
    
    <tags>
      
      <tag>R语言</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>我毕业了</title>
    <link href="/2021/05/28/%E6%88%91%E6%AF%95%E4%B8%9A%E4%BA%86/"/>
    <url>/2021/05/28/%E6%88%91%E6%AF%95%E4%B8%9A%E4%BA%86/</url>
    
    <content type="html"><![CDATA[<p>在南大的时光只占我人生的3/n，但这些日子里南大对我未来的影响当量，却是3<sup>n</sup>。曾经觉得岁月漫长，毕业遥遥无期，仿佛18年炽热的夏天和奎爷一起做课题、去昆山调研的日子就在昨天。然而学至半途，疫情来袭，空间受限使时间“加速”。论文、520校庆、毕业照，等等，这些元素在提醒我，真的到了毕业季。</p><p>求学之路有太多的幸运，有太多的人、事需要感谢。</p><p>首先要感谢我的导师，钟太洋老师。17年参加完推免考核后，是钟老师将我领进门，对那天傍晚骑单车从五食堂奔向老师办公室的心情与场景，我将终身难忘。钟老师博学多识、温文尔雅，在钟老师门下，我收获了可贵的师生情与同门情谊。在学术引领方面，钟老师给予了我足够多的科研训练，深度参与老师主持的自科基金项目、横向课题与国际合作课题，我收获了宝贵的科研经验。钟老师提供的丰富的学术资源，使课题组成员不会存在“吃不饱”的情形。同时，老师支持我参加了多项学术会议，在观点的交流与碰撞中，拓展学术视野、强化学者的身份认同。桃李不言，下自成蹊。在日常活动中，从组会、一封封往来邮件到出差社交场合，老师以自身儒雅、幽默的形象对我给予示范。在中秋、元旦等重要节日，老师和师母常常邀请课题组成员一同聚餐，更使我感受到家庭般的温暖。作为一个“毕业困难户”，尤其要感谢老师在学术训练上给予我的指导和帮助。老师给了我一种恰到好处的自由，让我可以在自身兴趣驱动下自由生长，同时在我即将误入歧途之时，拉我上岸。这是一种可遇不可求的缘分，我将终身受用并抱以感激。</p><p>感谢师门的诸位师长在日常科研活动中给予的引导。黄贤金老师是师门的大家长，同时也是土地管理领域的领军学者，大家围绕在黄老师身边，以土地研究为核心“筑高原、起高峰”。在一次次大师门活动和学术讲座中，黄老师以其独到的见解、博学的形象阐释了南大人的气质，是我的学术榜样。感谢陈逸老师、陈志刚老师、揣小伟老师和毛熙彦老师在课程、开题等方面给予的帮助，老师们的研究方向各异，但又都以人文地理为内核，展示了地理学科综合视角看问题、分析问题的优势。作为一名跨专业学生，从诸位老师的研究中，我体会到综合思维的重要性。</p><p>同时，感谢我遇到的诸多挚友，他们在我失意时给予了我太多的支持。感谢曾经520寝室的荣荣和猴哥。猴哥时常打电话鼓励我向前看、向前走，给予我无条件的鼓励，从不曾苛责我。荣荣作为“优秀”的化身，发C刊、拿国奖、申名校，遥望珞珈，总能感受到荣荣聪敏而努力的身影，这在无形中激励我前行。感谢Dr.Wang在喻家山上不忘交流学术，定期的文献汇报，王博士帮助我扩宽了学术视野与计量能力，使我在地学环境中仍然学到了部分经管方法。感谢闫梦露师姐帮助我申请暑期提前入校、教我报账，帮我找实验室工位。感谢袁业师兄在MRIO方法和论文思路上给予的建议。感谢我的同门杨奎近四年的时光里给予的鼓励和陪伴。奎爷是十分优秀的人，早在大四时期（我还在武汉实习）就解决了毕业问题。开学后一起做课题、参会，合著论文，奎爷对我这个学术小白给予了很多指导。对于我的驽钝，奎爷并未生气，总是耐心予以解答。在日常交流中，我们在很多问题上能平和交流看法，在同一个频道对话，总能使我有所收获。奎爷是我硕士生涯的“第二导师”，祝愿奎爷在帝都乘风破浪、收获成功。感谢师妹谢旻琪、刘敏、梁雅嘉和徐菲，她们使师门充满欢声笑语。感谢师门的各位小伙伴，大家努力学习的身影，使413在深夜依然有亮光。</p><p>最后，要感谢的是我的父母。即使即将步入人生的下一阶段，我仍然觉得自己很不成熟，总是把依靠他们、把自己还是学生可以向他们索取帮助这件事认为是理所当然。而他们，也总是对我给予无条件的包容和支持。在今后的日子里，我唯有努力前行，报答他们的期望。</p><p>过去三年中，我做了很多事，但又似乎什么都没做成。我尝试了很多事情，也逃避了很多事情，以致于毕业季来临时措手不及。我始终在“我应当热爱科研”与“我还没有真正爱上学习”这两件事中挣扎，想得太多而做得太少。索性一切还没到终点，我还有努力的机会。过去三年所接收到的帮助，将使我有更大的勇气向前走。</p><p>我依然坚信，终有一日，我能以自由的心境爱上科研。</p><div data-align="right"><p>2021年5月21日 <br> 于深圳宝安机场T3航站楼</p></div><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image/img/4fafd833835ad33f97d643f871fac91.jpg" /></p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image/img/c2ff5931b6e0335ad78a3102cdbf2eb.jpg" /></p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image/img/01e3b42c99fa26a4b3a7b4af2d3cc81.jpg" /></p><div data-align="center"><p>宝安机场晚霞 绝绝子</p></div>]]></content>
    
    
    
    <tags>
      
      <tag>致谢</tag>
      
      <tag>毕业</tag>
      
      <tag>南京大学</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>换源记录：cloudflare pages</title>
    <link href="/2021/03/07/20210307%E6%8D%A2%E6%BA%90%E8%AE%B0%E5%BD%95/"/>
    <url>/2021/03/07/20210307%E6%8D%A2%E6%BA%90%E8%AE%B0%E5%BD%95/</url>
    
    <content type="html"><![CDATA[<p>Fluid群友深夜冒泡通知cloudflarepages可以正式使用，考虑到cloudflare的全球实力及稳定性，非常心动！</p><p>第二天登录cloudflarepages页面，发现无需申请，直接使用（可能是因为之前长时间使用cloudflare解析域名+SSL）。直接从github拉取repo，一路点下一步，虽然部署需要耗费三分钟，但是，完成后的响应速度真的很快！</p><p>由于<a href="https://yuzhangnju.me">yuzhangnju.me</a>和<ahref="https://yuzhang.xyz">yuzhang.xyz</a>域名马上到期，就在cloudflarepages上抢注了<ahref="https://yuzhang.pages.dev">yuzhang.pages.dev</a>，虽然还是很奇怪，但比github.io还是好一些吧。</p><p>ps：目前cloudflarepages可以直接在移动端的微信打开（希望能多挺一阵子）。</p><p>和vercel一样，cloudflarepages也会依据repo的更新自动更新，部署时间在三分钟左右。</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image/img/image-20210307144035832.png"alt="image-20210307144035832" /><figcaption aria-hidden="true">image-20210307144035832</figcaption></figure><p><br/></p><p>再之后的一天，又有群友冒泡说netlify和jsDelivr组合更快，这能忍？？？</p><p>于是爬床再次行动，测试发现netlify和cloudflarepages速度差异不明显。并且校园网将netlify墙掉了，登录困难。</p><p>于是准备github +jsdelivr图床，操作也很简单。转移了所有的框架图片和一部分文章缩略图，现在打开页面，速度起飞！日后，所有的图片都放github并用jsdelivr加速吧，这两家应该不会挂！</p><p>虽然转移了一部分，但文章页的图片几乎都在sm.ms，本来速度就不稳定，还很担心哪天就挂了，祈祷祈祷。</p><p>起飞起飞，欢迎来玩呀！</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image/img/image-20210307144822868.png"alt="image-20210307144822868" /><figcaption aria-hidden="true">image-20210307144822868</figcaption></figure><p><br/></p><p>很奇怪，继cloudflare pages被微信墙了之后，又被校园网墙了...</p><p>2022.2.27</p>]]></content>
    
    
    
    <tags>
      
      <tag>换源</tag>
      
      <tag>cloudflare pages</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>男权叙事</title>
    <link href="/2021/02/21/%E7%94%B7%E6%9D%83%E5%8F%99%E4%BA%8B/"/>
    <url>/2021/02/21/%E7%94%B7%E6%9D%83%E5%8F%99%E4%BA%8B/</url>
    
    <content type="html"><![CDATA[<p>当某些糟粕经历千万年演变，以阶级之力内化于社会的非正式制度与正式制度中时，它就像水、阳光、空气一样普遍，以致于大多数身处其中的人认为它的存在是天经地义般的理所当然。</p><p>在我还未上小学的时候，离家不远处有一位玩伴，体型轻瘦。奶奶告诉我他的母亲生下他时只有15/16岁，言语中充满着讲述奇闻轶事的轻快。</p><p>在小学阶段，有小男孩拿女孩子的身体开玩笑，似乎实施BodyShame的本领刻在基因里，而后从女生闪躲的身影里汲取快乐。</p><p>在中学时期，老师们以如今看来是PUA的方式，诋毁着文科班以及从理转文的学生，构造着性别偏见。在至亲、亲戚以及无关紧要人之口，都听过无数遍“女孩子小时候成绩好，上了高中和大学比不过男生”、“女孩子数学不好适合学文科，男孩子头脑聪明适合学理科”的谬论。课间女同学从书包里拿卫生巾时不小心掉到地上，都要慌乱捡起逃避男同学的目光。</p><p>一路成长，我成为男权叙事的旁观者、经历者与行刑者。</p><p>身体、眼神、言语、静物，一切都可以成为规训的工具，在巨大的白色荒原，男权叙事精心雕刻着太多的丑陋。于是，过早生子是可以被嘲笑的，于是，女性的生理需求是羞耻的，于是，广泛的谬论成为合理的背书。</p><p>去年年初，有朋友在微博抱怨为什么她的母亲会嫁给她父亲那样的人，惊呼我有一模一样的体会。家庭是男权叙事的第一阵地。我的奶奶经历了几十年的剥削，并无办法真正抗争，作为受害者的她却进一步规训她的儿媳管得太多。我所见到的不幸婚姻，大多是男性的错误导致的，酗酒、赌博、嫖娼、懒惰、家暴，等等。对男性的偏爱与低要求导致了普遍的家庭悲剧，如果说为人父母需要一个过程，显然这个过程对于父亲来说更长一些。</p><p>昨日某位朋友在票圈指出“春节走亲戚时的礼品以烟酒为主，具有明显的男性消费特征，节日的快乐建立在家庭女性成员的痛苦之上”，立马被定义为拳师。（PS:有学者以烟酒等男性特征消费品占家庭消费比重为切入点，探究住房产权署名与家庭地位，发了JDE。）</p><p>男权叙事还刺激着语言腐败。在B站看见过“气抖冷，男性什么时候才能站起来”的评论，抖机灵的人自发地对女权言论进行消解和重构。弹幕中的“劲夫警告”、“宁波真大”、“哄抬逼价”等话语，彰显着男拳的肆无忌惮。是的，话语即权力。</p><p>时常觉得世界是个巨大的烂尾楼，一方面我们创造了令人惊叹的史诗，一方面，它又有着至黑至暗的罪恶。</p><p><br/></p><p>最后说一下平权问题，我的观点是：</p><p>矫枉必须过正；</p><p>平权对个体或家庭是有意义的，但在可预期的未来，倡导群体上的男女平权只能是镜花水月与空中楼阁。</p><p><br/></p><p>附B站的一个视频，完全赞同UP主及热门评论的观点：</p><iframe src="//player.bilibili.com/player.html?aid=46507354&amp;bvid=BV1Qf4y1k7df&amp;cid=81475962&amp;page=1&amp;high_quality=1&amp;danmaku=0" allowfullscreen="allowfullscreen" width="100%" height="500" scrolling="no" frameborder="0" sandbox="allow-top-navigation allow-same-origin allow-forms allow-scripts"></iframe><p>路温1900.《郑爽是女权先锋？张碧晨是舔狗？华晨宇是好爸爸？张恒是好爸爸？》.2021-01-24.</p><p>https://www.bilibili.com/video/BV1Qf4y1k7df</p>]]></content>
    
    
    
    <tags>
      
      <tag>男权</tag>
      
      <tag>女权</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2021年第一缕阳光-南大仙林天文台日出！</title>
    <link href="/2021/01/01/2021%E5%B9%B4%E7%AC%AC%E4%B8%80%E7%BC%95%E9%98%B3%E5%85%89%E3%80%81%E6%97%A5%E5%87%BA/"/>
    <url>/2021/01/01/2021%E5%B9%B4%E7%AC%AC%E4%B8%80%E7%BC%95%E9%98%B3%E5%85%89%E3%80%81%E6%97%A5%E5%87%BA/</url>
    
    <content type="html"><![CDATA[<p>火锅、炸鸡加剧本，跨年接日出 清晨，零下八度跑到天文山看日出，真的好美 2021，一切顺利 <br/><iframe src="//player.bilibili.com/player.html?aid=330916555&bvid=BV1DA411p7mY&cid=275441649&page=1&high_quality=1&danmaku=0" allowfullscreen="allowfullscreen" width="100%" height="500" scrolling="no" frameborder="0" sandbox="allow-top-navigation allow-same-origin allow-forms allow-scripts"></iframe><br/></p>]]></content>
    
    
    
    <tags>
      
      <tag>2021</tag>
      
      <tag>日出</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>辗转于成熟之间</title>
    <link href="/2020/12/04/%E8%BE%97%E8%BD%AC%E4%BA%8E%E6%88%90%E7%86%9F%E4%B9%8B%E9%97%B4/"/>
    <url>/2020/12/04/%E8%BE%97%E8%BD%AC%E4%BA%8E%E6%88%90%E7%86%9F%E4%B9%8B%E9%97%B4/</url>
    
    <content type="html"><![CDATA[<p>等待是苍老的结。</p><p>昨日和好友争论何为成熟的问题，我觉得能分辨善恶、有所喜有所恶、正直勇敢就是成熟，而友人却认为：“成熟是能把事情处理得井井有条，能清楚地规划，知道自己想要什么，情绪不会大起大落之类的”。</p><p>朋友对成熟的定义凸显了我的不成熟。</p><p>这真是令人悲伤的事情。</p><p><br></p><p>自己这一周，都处于巨大的情绪起伏之中。</p><p>周日午间已出昆山楼，收到某老师的邮件，让我回信。回信后，又是焦急的等待。午睡醒时，发现刚睡不久就收到了邮件，内容是让预约腾讯会议，下午面试。</p><p>去到院楼，拿了会议室的钥匙，保安大叔说“先下手为强”。静静准备。找了达达做助攻，确认了网络。自我介绍，磕磕绊绊。会议开始之后，一路的压力面，颇有被审稿人疯狂diss的架势。近50分钟，面试结束，询问得知，老师还有其他候选人，顿时有种被养鱼的感觉。傍晚找WQ学姐和达达聊了聊，感觉希望不大，途中又收到了老师的消息，问我如果被录取，是否一定去。</p><blockquote><p>去！</p><p>当然去！必然去！</p><p>四个理由，同样长度的主旨句，一番论证，我去！</p></blockquote><p>感觉又有了些希望。</p><p>隔天，心情已然有些平静，可是午间的时候收到老师的微信消息，说连发两封邮件我都没回，吓得我，赶紧翻开这没有通知的邮箱APP。火急火燎，准备材料，下午四点之前交。</p><p>还要什么午休，赶紧去实验室。感谢天使般的朋友们的助攻，15:59的时候交了材料，太急了连文件命名都有没有做好，被老师一顿教育。感谢老师的指点，之后让在系统里报名，准备材料。可是，系统里报名报不进去...进入了不确定性很强的等待。</p><p>“会很快出结果，7号之前会出结果”。</p><p>周二没有结果，周三依旧没有，周四也是。</p><p>周五是一周工作日的结束，周五会有结果吗？周五，上午没有，下午没有，到下班时间，依旧没有。</p><p>下周一就是七号，会有结果吗？</p><p>在学姐的助攻之下，找了这个联培项目的信息，觉得能申上的概率，很小很小。</p><p>周一那晚，老师告诉我联培学校是UNSW，突生向往，那晚甚至梦见自己去了悉尼。</p><p>期待着，会有好的结果，然后和爸妈分享这份喜悦。</p><p>就连好友也说：“你似乎一夜之间有了着落”。</p><p>刚开始的一两天，确实很乐观，觉得自己有了着落。</p><p>可是，这短短的等待，像是经历了漫长的旅途，将自己在过去两年被隐匿的喜怒哀乐在这几天内高强度上演。</p><p>就像是，暧昧对象突然不回消息</p><p>就像是，她冷了我许久，又突然来找我，本不想理她的我却欣喜若狂</p><p>或许，我也应该接纳能处理好自己情绪的成熟？</p><p><img src="https://i.loli.net/2020/12/04/tRSU8r5vLNc9koB.jpg" /></p><p>“我的小狐狸，我的小小云，下周一我会收到好消息吗”？</p><p>”会的“。</p><p><br></p><p>12月10日更新</p><p>周一上午没有收到消息，下午四点咨询老师，老师说，继续等消息。</p><p>周二也没有消息。</p><p>周三，上午有了些眉目，晚上的时候收到了正式的消息，还和老师微信电话交流了许久。</p><p>如WQ师姐所说，有种，劫后余生的感觉。</p><p>就在上午的时候，我还准备向TR老师投降。</p><p>晚上，就有了着落。</p><p>感谢达达，WQ学姐、奎爷、邓小民同学、Dr.Wang、猴哥、荣荣的助攻，你们像天使一样！</p><p>你们给的光热，像血液一样，流淌在我的身体里。</p>]]></content>
    
    
    
    <tags>
      
      <tag>等待</tag>
      
      <tag>申请</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>中国经济发展与碳排放</title>
    <link href="/2020/11/22/%E4%B8%AD%E5%9B%BD%E7%BB%8F%E6%B5%8E%E5%8F%91%E5%B1%95%E4%B8%8E%E7%A2%B3%E6%8E%92%E6%94%BE/"/>
    <url>/2020/11/22/%E4%B8%AD%E5%9B%BD%E7%BB%8F%E6%B5%8E%E5%8F%91%E5%B1%95%E4%B8%8E%E7%A2%B3%E6%8E%92%E6%94%BE/</url>
    
    <content type="html"><![CDATA[<p>主讲人：米志付</p><p>米老师回答阶段真的很耐心了！</p><p><img src="https://i.loli.net/2020/11/22/PdaHoD6SqpIAkWC.png" /></p><h3 id="背景">1 背景</h3><p>中国是最大的排放国，国际的减排压力，国内的减排需求。</p><p><img src="https://i.loli.net/2020/11/22/lEZcjDBKCnYwbQ4.png" /></p><p>2060年中国实现碳中和目标。</p><p>IPCC定在2050年实现碳中和，控制全球升温在特定幅度。</p><p>社会经济活动需要能源支撑，化石能源使用过程中会排放二氧化碳，碳排与经济增长密切相关。新常态下，国内生产结构、中国在全球贸易的作用发生变化，新阶段中国碳排如何变化？</p><h3 id="方法">2 方法</h3><p><img src="https://i.loli.net/2020/11/22/4j7NO8oPbV5GRJD.png" /></p><p>评估出最终消费和碳排放的关系。</p><p><img src="https://i.loli.net/2020/11/22/seNnpjiqdYTR12O.png" /></p><p>全生命周期需要70Kg的碳，即隐含的碳排放，虚拟碳。</p><p>虚拟碳转移，流动</p><p><img src="https://i.loli.net/2020/11/22/F1LyYQJDZSwHGNa.png" /></p><p>扩展：从手机到部门到国家，即可以得到国际贸易的碳排放流动。</p><p>问题：生产者责任VS消费者责任，核算</p><p>中国出口隐含的碳排放远大于生产端（发展中国家与发达国家的普遍情况）。</p><p><img src="https://i.loli.net/2020/11/22/b7V3Y8E4LgQJl6K.png" /></p><p>中国MRIO嵌入世界表，得到中国特定省份与其他国家的联系。</p><p>结构分解分析：SDA</p><p><img src="https://i.loli.net/2020/11/22/XqgbRDBh8awHMNI.png" /></p><p><img src="https://i.loli.net/2020/11/22/w1lQj8FH7J3cSmo.png" /></p><p>以身高变化举例，头部变化小，肢体变化大。</p><p>人均消费即人均GDP</p><h3 id="结果">3 结果</h3><p>2013年以后，中国整体碳排放进入平稳阶段</p><p><img src="https://i.loli.net/2020/11/22/pMJ73aD2oK6BLFl.png" /></p><p>化石能源排放+工业生产过程（水泥生产）</p><p>2006左右中国碳排放总量超过美国，2001-2012，年均增长10%</p><p>2020年，上半年碳排下降，但至10月份，1-10月的总量已经超过去年同期，表明中国经济强力复苏。美国仍然没有恢复。</p><p><img src="https://i.loli.net/2020/11/22/x9Sun3zp7sUtQPV.png" /></p><p>中国的碳排放在增长，但碳强度（单位GDP的碳排放量）在下降。</p><p>碳排是核算的，而不是测量的。</p><p>碳排=能源消费*排放因子</p><p>存在两方面的不确定性。</p><p><img src="https://i.loli.net/2020/11/22/2sqebB1UH9pdNjr.png" /></p><p>这个图很巧妙呀，渐变色表示总体碳排，四色表示各因素的贡献，黄色部分，能源效率有提升，拉动中国碳排减速。</p><p><img src="https://i.loli.net/2020/11/22/Uj7xE5ehdvLRq4J.png" /></p><p>07-10-12三年的情况</p><p>江浙沪是净流入最大的地方，整体流向没有变化，但是流向体量有很大下降。</p><p>东部沿海的生活和消费很大程度上建立在中西部的碳排放和其他排放之上。</p><p>中国出口的隐含碳</p><p><img src="https://i.loli.net/2020/11/22/mfpdAtv54JO2XnD.png" /></p><p>中国出口碳排在2008年达到峰值，经济危机，其他国家对中国产品需求下降。</p><p><img src="https://i.loli.net/2020/11/22/vR18nJsjLgptrX9.png" /></p><p>能源效率依然是拉动中国碳排减速或下降最重要的因素，其次是经济结构的转型，出口不是主要原因。这些图也太妙了！</p><p><img src="https://i.loli.net/2020/11/22/N2IpykT3onAaEbd.png" /></p><p>出口产品的结构升级。</p><p>起点和终点：</p><p><img src="https://i.loli.net/2020/11/22/qMGgTtBVLjXpsxW.png" /></p><p>中西部出口量在上升，出口起点逐渐从东部转向西部，未来几年会持续此趋势。</p><p><img src="https://i.loli.net/2020/11/22/Wq189N5GHxufVJY.png" /></p><p>出口到发达国家有很大下降，其他国家有上涨。</p><p>2012年，发展中国家已经成为中国出口碳的主要目的地。</p><p><img src="https://i.loli.net/2020/11/22/uBDbXRfatr7ZsEA.png" /></p><p>南南贸易快速增长。</p><p>中国内部的情况，家庭角度</p><p><img src="https://i.loli.net/2020/11/22/4MDaUcwF3BGJoje.png" /></p><p>美国的人均排放极高</p><p>碳足迹基尼系统，中国尽管内部差距大，但差距有所下降</p><p><img src="https://i.loli.net/2020/11/22/AMurjz1xfw29aoE.png" /></p><p>发达地区的碳足迹更公平</p><h3 id="结论">4 结论</h3><p><img src="https://i.loli.net/2020/11/22/yLdSIcPAeEiBuFH.png" /></p><p><br></p><p><img src="https://i.loli.net/2020/11/22/clJTDgypb9tKzhQ.png" /></p><p><br></p><p>Q&amp;A</p><p><br></p><p>Q1：近几年碳排上升的趋势是？可以将碳换成氮吗?</p><p>A1：经济转型后的新建设。2030年应该都会波动（上升），2030达峰。可以换，也可以结构分解，但数据上需要每一个部门的二氧化氮排放。</p><p><br></p><p>Q2：哈哈米老师您除了招博士还招博士后嘛，一般都有什么要求了？博士的要求？</p><p>A2：必须要有硕士学位，有英语成绩。主要看相互的背景。</p><p><br></p><p>Q3：米老师，因素分解可以引入其他的吗，比如金融？</p><p>A3：可以引入宏观的，金融不太行。SDA实质上恒等式，（kaya恒等式？）</p><p><br></p><p>Q4：请问现在环境IO的，热点或者前沿问题是什么？可以举例吗，谢谢</p><p>A4：不好回答。</p><p><br></p><p>Q5：米老师，为何内蒙的人均（家庭）碳排放是最高的，能再详细的解释下吗？</p><p>A5：与内蒙古的能源结构有关。内蒙古是能源基地之一，比如，同样生产一瓶水，内蒙古的碳足迹高，其次，内蒙古的人均消费高。</p><p><br></p><p>Q7：人均碳排放算的是消费端吗？</p><p>A7：是消费端。</p><p><br></p><p>Q8：米老师您好，我关注到高层提到的2030（碳排放达峰）和2060年的碳中和目标，想问一下您对于未来碳中和对于经济可能带来的影响有什么看法？新能源带来的经济和产业增长能否补偿这个影响？谢谢您！</p><p>A8：可能是应对气候变化的国际最大新闻。中国现在每年碳排占全球排放四分之一以上，这对产业有很大影响。认为可以补偿。</p><p><br></p><p>Q9：联合培养，国内硕士可以承认吗？</p><p>A9：可以，但今年的联合培养停止了。</p><p><br></p><p>Q10：中国各收入组碳排放趋同，有什么意义？</p><p>A10：指定减排政策，需要考虑对不同阶层的影响。分群体，分地区的减排。现有的政策是针对地区，但不太针对收入组，比如碳税，对不同家庭组的负担是不一样的。</p><p><br></p><p>Q11：米老师，请问碳排放因素分解除了SDA外，还有什么其他最新的方法吗？谢谢您！</p><p>A11：LMDI等，有很多种，没有新旧之说。</p><p><br></p><p>Q12：米老师您好，目前的投入产出数据存在一定的滞后性，可以通过某些方法在现有的分析基础上对未来的碳减排，比如2030的碳达峰和2050年的碳中和目标作出政策性的指导吗？</p><p>A12：有一些方法是可以进行拓展的，建议去看文献。</p><p><br></p><p>Q13：米老师 关于CSR文章 你们JCP有机会publish吗</p><p>A13：没有问题。</p><p><br></p><p>Q14：米老师您好，想问一下咱们国家的碳税体系何时能够建成？</p><p>A14：价格机制和数量机制。碳市场和碳税，目前还没有碳税的方案。</p><p><br></p><p>Q15：米老师，想问下老师能不能推荐的一些经济学书籍，尤其能源环境方面的？</p><p>A15：难以回答。</p><p><br></p><p>Q16：老师好，我想问环境IO，目前米老师的研究现在，因为日本有环境分析类的单独环境IO，相对数据来源和碳等的计算，比较容易，国内或者英国目前是否有类似，SDA分解是否能尽可能接近实际？目前日本硕士毕业，博士什么时候截止报名。</p><p>A16：中国碳排推荐CEADs数据库。</p><p><br></p><p>Q17：谢谢米老师，为了实现碳中和，除了碳减排，碳吸收有哪些途径？有没有可能在单个企业，家庭内实现碳中和？</p><p>A17：企业和家庭当然是可行的。碳中和可以是不同层次的。</p><p><br></p><p>Q18：米老师您好~您在评价家庭碳足迹时引入了基尼系数这一概念，提出了一个“碳足迹基尼系数”。那我想请教一下，将金融方面的概念融合到环境领域，有什么需要注意的吗，是否新颖性和贴合性足够就可以？</p><p>A18：我主要做经济，金融方面不了解。</p><p><br></p><p>Q19：米老师，你好。我想问一下对招收的博士生发没发表过论文有没有硬性要求呢？</p><p>A19：没有任何要求。招生和毕业都没有，要求是博士期间不能发太多论文。</p><p><br></p><p>Q20：米老师，您好！我看到您汇报中提到MRIO中生产视角和消费视角，现在有部分研究还有从Income-based的视角来分析碳排放，我想问下老师您是怎么理解这三个视角的关系和具体运用吗</p><p>A20：生产-消费-收入。可以比较。</p><p><br></p><p>Q21：来自巴黎一大，自然地理。对申博感兴趣，目前的研究有区域重点吗？目前研究气象类，与米老师目前的研究有契合的部分吗？</p><p>A21：没有限制，区域到全球都可以。CCE是交叉学科，可以找到合作点，但一时想不起来。可以看看已发表论文。</p><p><br></p><p>Q22：请问老师明年会招气象专业的博士过来联合培养吗</p><p>A22：今年没有。</p><p><br></p><p>Q23：米老师好，想请问您关于国际贸易中产品的碳排放核算，有什么具体可行的方法？例如LCA生命周期法等，谢谢米老师</p><p>A23：看具体怎么核算。企业或产品可以用LCA。</p><p><br></p><p>Q24：老师对ccus有什么看法嘛？</p><p>A24：负排放技术。目前成本很高，要看以后的技术发展。必不可少。</p>]]></content>
    
    
    
    <tags>
      
      <tag>MRIO</tag>
      
      <tag>碳排放</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>有我喜欢的架势！</title>
    <link href="/2020/11/10/%E6%9C%89%E6%88%91%E5%96%9C%E6%AC%A2%E7%9A%84%E6%9E%B6%E5%8A%BF/"/>
    <url>/2020/11/10/%E6%9C%89%E6%88%91%E5%96%9C%E6%AC%A2%E7%9A%84%E6%9E%B6%E5%8A%BF/</url>
    
    <content type="html"><![CDATA[<p>B站发现的宝藏UP主，虽然很久以前就看过，但这几天再刷到这条视频，忽然有不一样的感觉。这位姑娘，有我喜欢的架势。 是，偏真实感的样子。</p><iframe src="//player.bilibili.com/player.html?aid=46507354&amp;bvid=BV1Kb411n7z2&amp;cid=81475962&amp;page=1&amp;high_quality=1&amp;danmaku=0" allowfullscreen="allowfullscreen" width="100%" height="500" scrolling="no" frameborder="0" sandbox="allow-top-navigation allow-same-origin allow-forms allow-scripts"></iframe><p><br/></p><p>全片链接如下：</p><p>https://www.bilibili.com/video/BV1Tb411n7NP</p><p>5分41秒开始的片段也很好看！</p><p><br/></p><p>2020.11.22</p><p>再看见没有感觉了。</p>]]></content>
    
    
    
    <tags>
      
      <tag>你好，姑娘</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>换源记录：coding</title>
    <link href="/2020/11/07/20201107%E6%8D%A2%E6%BA%90%E8%AE%B0%E5%BD%95/"/>
    <url>/2020/11/07/20201107%E6%8D%A2%E6%BA%90%E8%AE%B0%E5%BD%95/</url>
    
    <content type="html"><![CDATA[<p>昨日观摩了fluid交流群某位群友在coding上部署的页面，发现访问速度非常棒，于是，今天自己也折腾着试试！</p><p>部署coding还算简单，可以直接从github仓库克隆过来，但是，之后git双路部署github和coding，花了很多时间。总是这样，小白出击，别人三分钟就能搞定的事情，我需要折腾一天。</p><p>下午将<ahref="https://yuzhang.xyz">yuzhang.xyz</a>也解析到了coding上，能立即生效。</p><p>但是，<ahref="https://yuzhangnju.me">yuzhangnju.me</a>，通过cloudflare解析，还是没有生效，也可能是我的设置出错了...总之随缘吧，反正也是孤儿博客...</p><p>昨晚登入cloudflare，发现有境外的流量，才发现，自己的孤儿博客可以在谷歌上被搜到（百度未收录），于是，打开了访问记录（busuanzi的记录似乎有错误），哈哈~</p><p>你好，陌生人。</p><p><img src="https://i.loli.net/2020/11/07/r64PCMtAsFYO3Iu.png" /></p><p>希望coding能坚持得久一些，请稳定下去！</p><p><br/></p><p><br/></p><p>发现coding解析出的页面会有莫名卡顿。</p><p>由于coding解析<ahref="https://yuzhangnju.me">yuzhangnju.me</a>一直出错，故将.me域名移回vercel。</p><p>2020.11.08</p>]]></content>
    
    
    
    <tags>
      
      <tag>换源</tag>
      
      <tag>coding</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>土地非农化的治理效率 （二）治理效率的本质</title>
    <link href="/2020/11/06/%E5%9C%9F%E5%9C%B0%E9%9D%9E%E5%86%9C%E5%8C%96%E7%9A%84%E6%B2%BB%E7%90%86%E6%95%88%E7%8E%87%EF%BC%88%E4%BA%8C%EF%BC%89%20%E6%B2%BB%E7%90%86%E6%95%88%E7%8E%87%E7%9A%84%E6%9C%AC%E8%B4%A8/"/>
    <url>/2020/11/06/%E5%9C%9F%E5%9C%B0%E9%9D%9E%E5%86%9C%E5%8C%96%E7%9A%84%E6%B2%BB%E7%90%86%E6%95%88%E7%8E%87%EF%BC%88%E4%BA%8C%EF%BC%89%20%E6%B2%BB%E7%90%86%E6%95%88%E7%8E%87%E7%9A%84%E6%9C%AC%E8%B4%A8/</url>
    
    <content type="html"><![CDATA[<p>Key：给出了资源配置、治理结构、制度环境三个层次相互联系的效率定义</p><h3 id="由效率的争议说起">1 由效率的争议说起</h3><p>新古典经济学对效率的定义：</p><blockquote><p>任何两个或多个决策（资源利用、生产投入、商品销售等）在边际价值上的等值替代。MR=MC?</p></blockquote><p>新古典经济学对真实世界的假定，导致其对诸多问题的解释力受限，如外部性、公共物品、搭便车问题等。其后的经济学家们，引入了交易费用、有限理性来进一步增强经济解释。</p><p>真实世界，是充满<strong>摩擦</strong>的世界。</p><h3 id="关键概念">2 关键概念</h3><p>新古典的假设：</p><ul><li>完全信息；</li><li>完全信息被完全理性的决策者掌握；</li><li>被完全理性的决策者掌握的完全信息能被无成本地加工、处理和决策</li></ul><p>基于以上，诞生了新古典下的一些关键效率概念：</p><ul><li><p>帕累托效率</p></li><li><p>Kaldor-Hicks效率：资源重新配置后，如果受益者的福利增加超过受损者福利的减少，无论受益者是否对受损者进行补偿，这一资源的重新配置都是有效率的（Kaldor,1939; Hicks,1939）。<sub>这有些类似于边沁的功利说？《公正》，流落荒岛的一群人发现一些鱼，均分所有人都活不了，一部分人不吃（饿死），另一部分人能活下来？配置？</sub></p></li><li><p>配置效率：资源利用者在既定的技术水平下根据自己的成本和收益函数，实现资源利用净收益最大化。基本的原则就是资源的配置在不同用途、不同时间、不同空间的边际价值相等，因此，这类效率也可以称为“边际原则”的效率；</p></li><li><p>技术效率：在生产技术和市场价格不变的条件下，按照既定的要素投入比例，生产一定量产品所需的最小成本与实际成本的百分比。如果在不减少其他产出（或增加其他投入）的情况下，技术上不可能增加任何产出（或减少任何投入），则该投入产出向量是技术有效的（Farrell，1957；姚洋和章奇，2001）；</p></li></ul><p><strong>Technical Efficiency Definition</strong></p><p>https://www.economicshelp.org/blog/glossary/technical-efficiency/</p><blockquote><p>Technical efficiency is the effectiveness with which a given set ofinputs is used to produce an output. A firm is said to be technicallyefficient if a firm is producing the maximum output from the minimumquantity of inputs, such as labour, capital, and technology.</p><p>Technical efficiency requires no unemployment of resources.</p></blockquote><blockquote><p><img src="https://i.loli.net/2020/11/06/j3C7Y4kVLaREKNP.png" /></p><p>Given a certain quantity of inputs (natural resources) – technicalefficiency is achieved when we produce the maximum output possible.Note, we could produce all guns or all butter.</p><p><img src="https://i.loli.net/2020/11/06/LprbsnvTAjYIko5.png" /></p><p>Example: Suppose a firm produces 300 cars a week from its currentworkforce and quantity of robots. If the maximum potential output was320.</p><p>The technical efficiency rate of the firm would be (300/320) =93.75%</p><p>In this case, some workers and factor inputs are underemployed, andthere is a degree of potential output missed.</p></blockquote><p>Further reading：</p><p>https://www.economicshelp.org/microessays/costs/efficiency/</p><p>现实世界是充满<strong>摩擦</strong>的，不确定性、信息不对称、不完整契约、机会主义等因素，是造成摩擦的原因。现实世界存在<strong>交易成本</strong>、<strong>非完全信息</strong>、<strong>有限理性</strong>。</p><p><strong>摩擦</strong>本质上就是因为现实世界中交易费用的不可准确衡量和决策者的有限理性。不可准确衡量的交易费用导致边际成本和边际收益的计算存在不可避免的误差（甚至错误），而有限理性否定了决策者始终按照边际最优进行决策的假定。</p><p>限制条件下的效率：</p><ul><li>帕累托次优</li><li>X效率：经济活动由于内部原因而没有充分利用现有资源或机会的一种状态，是一种组织（organizational）或动机（motivational）（低）效率。这个X代表造成低配置效率的一切因素（Leibenstein,1966）。The concept of technical efficiency is also related to <ahref="https://www.economicshelp.org/blog/glossary/x/x-inefficiency.html">X-inefficiency</a>.X-inefficiency is said to occur when a firm fails to be technicallyefficient because of an absence of competitive pressures. e.g. amonopoly employs inefficient working practices because it has noincentive to cut costs.</li><li>可补救的经济效率：如果没有更合适的选择存在以期待获得更多的净收益，则现有的组织运行、资源配置、经济系统将能被称为是有效率的（Williamson,1996）。</li></ul><p>限制条件下的效率，认识到交易费用的不可准确衡量性和有效理性的局限，但在追求效率上却要求决策者能够无成本地观察所有限制条件，掌握所有可能的决策选择，同时能够无成本和瞬间地进行效率的决策。这导致了内在逻辑的矛盾，即承认决策者认知能力有限时，又为决策者保留了无成本处理信息的能力。</p><p>谭荣老师认为：</p><blockquote><p>新制度经济学研究的本质就是通过制度安排（含治理结构）来尽可能地减少交易费用。即在一定的资源利用过程中，当“租值耗散最小”时（Cheung,1974），资源利用的效率最高。</p></blockquote><p>The theory of rent dissipation：</p><p>https://www.romeconomics.com/licensing-rent-dissipation/</p><blockquote><p>Rent Dissipation occurs when a valuable public good can be accessedwith no restrictions under competition its value will dissipate at themargin after being consumed by an additional person, until all rent iscompletely dissipated. A good example of rent dissipation is the case ofoverfishing. Assume there is a sea that anyone can get access to.Fishermen will crowd at the sea to fish until all fish have beencaptured. Rent of the sea decreases to zero as it cannot further produceany output (fish). The sea has become a wasted capital.</p><p>Furthermore, Rent Dissipation also creates another undesirableeconomic outcome. When valuable capital can be accessed with norestrictions, the first extractor may decide to destroy resources untilan additional entry is worsen-off. For instance, a farmer, finding afarmland with rich soil, chooses to build (poor-quality) houses insteadof plating crops on that land. It is to avoid competition because withno restrictive entry, anyone can step onto the farmland and plant itsown crops. Hence it is better off for the farmer to destroy the richresources so that further entrance is not profitable.</p><p>After all, without clearly defining property rights rent dissipationwill occur. To combat it, licensing is a major solution.</p></blockquote><p><strong>许可</strong>是对抗租值耗散的手段之一。</p><h3 id="基于三个层次联系的视角">3 基于三个层次联系的视角</h3><p>测量VS实践</p><p>xx可以精确测量，但却无法实践；xx可以实践，但无法精确测量</p><p>故提出<strong>动态逼近</strong>的效率说（个人语）。</p><p>层次：</p><ul><li><p>社会基础。包括文化、习惯、道德、传统及宗教等非正式制度（informalrules）。非正式制度被认为是自发形成的——“经过有目的的计算后的选择是几乎不存在的”（Williamson，1998），所以，该层次对人类主动追求效率的影响不大。（或者说，这些（部分）本就是追求效率的自然行为？比如xx习惯，xx文化，本身就蕴含了追求效率的意义？）</p></li><li><p>制度环境。包括宪法、法律、产权等正式规则，这个层次的制度虽然可以和非正式制度一样，“通过进化（evolutionaryprocesses）形成“，但更多的是”被人为设计的（Williamson，2000）。这样，正式制度设计就为人类提供了第一次机会来主动选择效率；</p></li><li><p>治理结构。可以看做是行为人在正式制度下自发选择的各种竞争规则。治理结构的目的就是在正式制度的限制下，为特定的交易实现治理过程的效率，即为人类提供了第二次机会来主动追求效率；</p></li><li><p>资源配置。把治理结构和正式制度视为给定，通过不断调整价格和数量来实现边际最优原则，为人类提供了第三次机会来主动追求效率。</p></li></ul><p>即，自然→制度（大）→规则（小）→微调？</p><p>这一路下来，似乎并不自然和简洁。</p><blockquote><p>Ostrom（2005）在分析不同级别制度的时候，把制度也分为四个层次，依次为超宪法层次（meta-constitutionalsituation）、宪法层次（constitutionalsituation）、集体行动层次（collectivesituation）和执行行动层次（operational situation）。</p></blockquote><p>Ostrom的命名似乎更能让人豁然开朗。</p><h3 id="对治理效率的定义">4 对治理效率的定义</h3><ul><li>在资源配置上，治理效率本质上是指经济活动净收益的最大化，理论上可以通过边际（社会）成本和边际（社会）收益相等来衡量，但由于实际中各种因素对衡量准确性的限制，此时可以采取替代的方法来衡量边际成本和边际收益，以减少交易费用和有限理性等对衡量本身的限制；</li><li>在治理结构层次上，治理效率是指<strong>被选择</strong>的治理结构相比较而言能够更小化交易费用；</li><li>在制度环境层次上，治理效率是指<strong>所设定</strong>的制度环境相比较而言能够更小化交易费用。</li></ul><p>交易费用的<strong>测算</strong>已经有了很成熟的方法（Yvrande-Billonand Saussier，2004）。</p><h3 id="现实中的判断以私有领域和公共领域经济活动为例">5现实中的判断：以私有领域和公共领域经济活动为例</h3><p>对于私有领域，如厂商，一般只需要考虑资源配置层次的治理效率。</p><p>本章更关注公共领域的经济活动，即当出现了外部性、公共物品和“搭便车”等问题时，人类如何追求治理效率。</p><p>传统资源经济学认为，资源利用经常忽视非市场价值，导致边际成本出现了私人成本和社会成本的分歧，因此，需要政府通过配额、税费、补贴等方式进行调节，实现资源利用的效率。（然而，问题是配额、税费、补贴的数量究竟是多少才能准确内化外部性）</p><p>对治理效率的判断：</p><ul><li>如果是私有领域的经济活动，市场的供需价格和数量就是最好的结构，此时可以只按照资源配置层次的效率标准进行决策，而不需要考虑治理结构及制度环境层次；</li><li>如果是公共领域的经济活动，市场可能处于“失灵”状态，首先需要从治理结构和制度环境层次的标准来考虑，寻找合适的治理结构和制度安排来减少交易费用，然后再在资源配置层次上实现效率。</li></ul><p>现阶段中国的集体土地，处于高价值value，低（无）价格price状态。</p><blockquote><p>市场和政府在新制度经济学那里只是两种不同的治理结构的概念，而不是庇古理论中市场和政府的关系。新制度经济学认为政府作为市场的替代方式，如何选择，仅取决于两者的交易费用的大小。庇古理论认为政府是万能的，是用来弥补市场缺陷的。</p></blockquote>]]></content>
    
    
    
    <tags>
      
      <tag>土地非农化</tag>
      
      <tag>治理效率</tag>
      
      <tag>新制度经济学</tag>
      
      <tag>交易费用</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>后疫情时代的全球气候变化减排</title>
    <link href="/2020/11/04/%E5%90%8E%E7%96%AB%E6%83%85%E6%97%B6%E4%BB%A3%E7%9A%84%E5%85%A8%E7%90%83%E6%B0%94%E5%80%99%E5%8F%98%E5%8C%96%E5%87%8F%E6%8E%92/"/>
    <url>/2020/11/04/%E5%90%8E%E7%96%AB%E6%83%85%E6%97%B6%E4%BB%A3%E7%9A%84%E5%85%A8%E7%90%83%E6%B0%94%E5%80%99%E5%8F%98%E5%8C%96%E5%87%8F%E6%8E%92/</url>
    
    <content type="html"><![CDATA[<p>主讲人：关大博 教授； 崔璨 博士</p><p>单位：清华大学地球系统科学系</p><p>时间：2020年11月4日</p><p><img src="https://i.loli.net/2020/11/04/yG769MiBlg4JZvw.jpg" /></p><p>提前进场，刘竹老师讲疫情期间碳排放研究</p><p>提供了高时间分辨率、近实时的排放数据</p><p><img src="https://i.loli.net/2020/11/04/B3LeCgOVdvruJ74.png" /></p><p><img src="https://i.loli.net/2020/11/04/LiIjMKqPa8hlT2U.png" /></p><p>https://www.carbonmonitor.org.cn</p><p>https://carbonmonitor.org</p><p>碳源碳汇计算存在很大不确定性</p><p>大多数数据用数学模型推算</p><p>监测的主要是工业，没有农业碳排</p><hr /><p><img src="https://i.loli.net/2020/11/04/6I3mKZjLlgkUQJx.png" /></p><p>关大博老师的声音好年轻。</p><p>从数据库开始</p><p><img src="https://i.loli.net/2020/11/04/8cmob9iIzyShvea.png" /></p><p>刘竹老师2015年Nature文章（关大博老师通讯）</p><p>这个清单很受用，支撑了很多研究</p><p><img src="https://i.loli.net/2020/11/04/jWKrHZU294S1sb7.png" /></p><p><img src="https://i.loli.net/2020/11/04/6AI8QC9GzHhWkwU.png" /></p><p><img src="https://i.loli.net/2020/11/04/8rFeUDB2zpvWo5a.png" /></p><p>关注发展中国家排放（被世界所忽略）</p><p>发达国家对发展中国家的数据并不太重视，CEADs基于当地一手数<imgsrc="https://i.loli.net/2020/11/04/IxzQKraTnJNem7U.png" /></p><p><img src="https://i.loli.net/2020/11/04/nvfq5zdE1jG7auA.png" /></p><p>通过重点排放电源数据，对城市级排放清单，进行校验。</p><p>自上而下vs自下而上</p><p>未来争取做到近实时监测排放</p><p><img src="https://i.loli.net/2020/11/04/o9XC1wGNs4JzuKW.png" /></p><p><img src="https://i.loli.net/2020/11/04/8xCZfB6YtoVe2H4.png" /></p><h3 id="疫情与经济和排放">1 疫情与经济和排放</h3><p><img src="https://i.loli.net/2020/11/04/QgMIxNhfEkiPY9O.png" /></p><p><img src="https://i.loli.net/2020/11/04/B8MLumdQYsxi2ZO.png" /></p><p><img src="https://i.loli.net/2020/11/04/BPJWwZ5CYOFIV2H.png" /></p><p>分解到不同时间和不同部门</p><p><img src="https://i.loli.net/2020/11/04/7Z3zNLkjq9wQKaO.png" /></p><p>就是导致王亚菲老师被Nature快速退稿的那篇？？？</p><p><img src="https://i.loli.net/2020/11/04/OvaGcj1BZLnRorz.png" /></p><p><img src="https://i.loli.net/2020/11/04/G6NsyuxwBTeovVI.png" /></p><p><img src="https://i.loli.net/2020/11/04/oncqYXNP9sgRd6L.png" /></p><p>通过MRIO追踪封锁措施的国际交互影响</p><p><img src="https://i.loli.net/2020/11/04/Y9tExyMiuwfo6mI.png" /></p><p><img src="https://i.loli.net/2020/11/04/Fsi5IM2SWOLdKNo.png" /></p><p>中国电子行业相较德国汽车行业，具有更快的恢复速度。</p><p><img src="https://i.loli.net/2020/11/04/gWaFb7x5htAONqf.png" /></p><h3 id="疫情后经济复苏与碳排">2 疫情后经济复苏与碳排</h3><p><img src="https://i.loli.net/2020/11/04/tXn8aYFjxvuElBp.png" /></p><p>疫情是一个绿色投资的契机</p><p><img src="https://i.loli.net/2020/11/04/3aplhWJqT7E2X1P.png" /></p><p><strong>恢复经济的短期投资会影响未来排放格局</strong></p><p><img src="https://i.loli.net/2020/11/04/1jOhZGTbpgLwWRs.png" /></p><p>投资5G等新产业，可能有利于实现巴黎协定</p><p>投资基础设施，可能使全球碳排超标</p><p><img src="https://i.loli.net/2020/11/04/ICsxGvPS1qbQHgY.png" /></p><p>缅甸、老挝等，过去几年碳排增长非常快，但GDP增长相对较慢</p><p>小国的问题</p><p>搭便车问题，诺德豪斯教授的文章有提到</p><p><img src="https://i.loli.net/2020/11/04/Rt9YmFWy7qNCAaf.png" /></p><p>单个小国在国际排放比重较低，但60个小国加起来，为全球排放第三位，仅次于中美。</p><p><img src="https://i.loli.net/2020/11/04/VEuofjGWHgYDdFs.png" /></p><p>小国的未来排放</p><p><img src="https://i.loli.net/2020/11/04/dVNcBxzngDYHkKe.png" /></p><p>未来的气候变化减排，重点在小国和发展中国家？</p><p><img src="https://i.loli.net/2020/11/04/KEJBfzn34i57U1X.png" /></p><p>Q&amp;A：</p><p>Q1：关老师，您好！我在使用CEADs数据库时发现，中国各省区47部门的数据中工业内细分部门的数据大部分是估算的。请问您这个估算过程和方法能介绍下吗？47部门的能源数据工业内细分部门好像也是估算的。</p><p>A1：中国官方不发布碳排数据，ceads基于清单法计算。省级，用能源平衡表和工业最终使用计算，排放因子在各省有差别。方法在网站文章中有介绍。47部门的能源数据，江浙地区没有公开发布能源平衡表？有的年限，我们通过一些特殊渠道获取了能源平衡表，有的年限通过其他年份估算。内部发行的表我们可以获取。细节请看论文。</p><p>Q2：关老师，您好，之前世界银行对全球GDP损失预测，中国的恢复程度高于预期水平，现在有一些国家又一次采取封城措施，中国已经恢复了的产能水平会改变原来的全球供应链吗？相应地，一些国家会加大对中国的贸易壁垒力度吗？</p><p>A2：并非所有国家都受到持续打击，比如中国第三季度经济已经回正。亚洲地区大多防控比较严格，比如越南，在疫情下，产业链受益，大量投资涌入越南，产能恢复，且带来未来出口的动能。对于中国而言，大量投资热钱涌入中国避险，从汇率角度看，外部投资者对中国的投资信心较强。贸易壁垒跟国际政治有很大关系，世行目前的项目认为未来会有两个极端，加强或者完全放开。</p><p>Q3：4月份Nature文章估算今年碳排放减少4-7%，取决于疫情的发展程度，现在二次爆发严重，关老师估算今年碳排放总量会减少多少？</p><p>A3：经济增长强的国家可能下降得多一些。未来的减排，取决于投资结构。疫情可能只是一个小感冒，为未来整体排放的影响不大。</p><p>Q4：关老师，您文章中的图都做得很美观，包括那些隐含资源环境的流动图。作为学生想问您，这些图是用哪个软件做的？</p><p>A4：没有一张图是我自己做的，都是学生做的。大部分用AI，原始图为R和origin。反正都是用AI美化。</p><p>Q5：目前电动汽车应用越来越广泛，那交通数据中，是如何区别电动汽车和燃油车辆呢？</p><p>A5：用比例估算，有很多前提假设。既往估计近时。</p><p>Q6：小国的排放问题？</p><p>A6：按目前增量，未来5-10年会超过中国。控制也不容易。和欧盟国家还很不一样。小国之间，各有差异，政体、经济结构等，缺乏统一的手段，只能从自下而上的角度看这个问题。</p><p>Q7：60个小国家很多是中国一带一路的重点国家，中国一带一路投资中的电煤项目在全球减排的背景下一直被外媒诟病，其中很多电煤可能成为沉默成本，关老师有具体的建议吗？</p><p>A7：《纽约时报》和《卫报》采访过我这个事情。不是中国要输出煤电，是这些国家需要这些电力发展其工业，中国支持更清洁的技术过去。有些行业不能用清洁能源，比如炼钢，只能用煤电。中国的角色是支撑一带一路国家更清洁能源，应该算中国的碳汇。</p><p>Q8：有碳排放预测和碳吸收预测吗？</p><p>A8：目前我们团队还没有这个能力，目前主要是碳源，碳汇做得少。碳汇预测，全球做得也不多。全球碳项目有一些短时预测。</p><p>Q9：1.5摄氏度的目标还能实现吗？</p><p>A9：中国在本世纪中叶实现碳中和，主要发达国家的承诺也在本世纪中叶。主要看未来政策。</p>]]></content>
    
    
    
    <tags>
      
      <tag>碳排放</tag>
      
      <tag>疫情</tag>
      
      <tag>COVID-19</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>中国多区域投入产出表的编制及其与全球表的链接</title>
    <link href="/2020/10/30/%E4%B8%AD%E5%9B%BD%E5%A4%9A%E5%8C%BA%E5%9F%9F%E6%8A%95%E5%85%A5%E4%BA%A7%E5%87%BA%E8%A1%A8%E7%9A%84%E7%BC%96%E5%88%B6%E5%8F%8A%E5%85%B6%E4%B8%8E%E5%85%A8%E7%90%83%E8%A1%A8%E7%9A%84%E9%93%BE%E6%8E%A5/"/>
    <url>/2020/10/30/%E4%B8%AD%E5%9B%BD%E5%A4%9A%E5%8C%BA%E5%9F%9F%E6%8A%95%E5%85%A5%E4%BA%A7%E5%87%BA%E8%A1%A8%E7%9A%84%E7%BC%96%E5%88%B6%E5%8F%8A%E5%85%B6%E4%B8%8E%E5%85%A8%E7%90%83%E8%A1%A8%E7%9A%84%E9%93%BE%E6%8E%A5/</url>
    
    <content type="html"><![CDATA[<p>报告人：王亚菲 教授 万人计划青年拔尖</p><p>单位：北京师范大学国民核算研究院</p><p>时间：2020年10月30日 18:30 主讲人在悉尼</p><p>地点：腾讯会议</p><p><img src="https://i.loli.net/2020/10/30/VDkzblKvCtLhpBq.png" /></p><p>报告摘要：This lecture introduces the development of a multi-regionalinput-output (MRIO) laboratory in China and its linking with main globalMRIOs databases for policy-relevant applications. The Chinese Labfeatures unique flexibility and advances the previous state of the artin terms of three novel aspects. First, it can generate regionally andsectorally very detailed MRIO tables based on users’ own researchquestions. Second, it covers the entire territorial economic boundaryand has the longest and most up to date annual time series from 1978 tonow. Third, it can be used to provide insight to a wide range ofresearch and policy questions including social, economic, andenvironmental issues, thus significantly improving all applications thatrely on input-output tables. It also introduces a range of technicaladvances that Chinese Lab are linking with global MRIOs such as GTAP,Eora and Global Lab.</p><p>报告人简介：王亚菲，女，北京师范大学教授、博士生导师、国家“万人计划”青年拔尖人才、国家社科基金重大项目首席专家、入选教育部新世纪优秀人才支持计划；东北财经大学经济学博士，清华大学环境科学与工程博士后；专业为经济统计学、研究方向为国民经济核算。在EconomicSystems Research和《统计研究》等重要学术刊物发表论文三十余篇，部分成果入选 ESI全球高被引论文，获得《中国人民大学复印报刊资料》全文转载；主持了国家社科基金项目4项（重大项目、重点项目、一般项目、青年项目）国家、省部级研究课题二十余项；获得了全国统计科研优秀成果奖、北京市哲学社会科学优秀成果奖等多项重要科研奖项；承担国家统计局、财政部、教育部、国家知识产权局、国家海洋局多项政策咨询、智库建设等社会服务工作。</p><p><img src="https://i.loli.net/2020/10/30/iIWDRjBtNUTQPg8.png" /></p><h3 id="多区域投入产出mrio表的编制现状">1多区域投入产出（MRIO）表的编制现状</h3><h4 id="编制现状">1.1 编制现状</h4><p><img src="https://i.loli.net/2020/10/30/QnVXe18hbP3U5yL.png" /></p><p>Note：接下来中国投入产出表会做时间序列，连续年份</p><p>IELab：整合的工作？ 去查一下</p><p>Note：欧盟统计局和联合国统计司，有投入产出编制手册。</p><p>类别：产业x产业；产品x产品；</p><p>估价：价格类型不同</p><h4 id="中国现状">1.2 中国现状</h4><p><img src="https://i.loli.net/2020/10/30/dxUcBqPv9nS7kmu.png" /></p><p>日本的IOT技术非常好。</p><p>slide中，李善同老师之后的表，较为可用。</p><p><strong>王亚菲</strong>老师团队编制表的滞后年份比较低。</p><p>编制的技术可能没有变化，现在编表的动力是发文章的需要，有文章需要用，才编表。</p><p>王亚菲老师团队想要实现云技术自动编表！</p><p>时效性比较重要，近期可能会发表MRIO-China2017</p><h4 id="城市mrio">1.3 城市MRIO</h4><p><img src="https://i.loli.net/2020/10/30/yr3iMsXLJpBnYgT.png" /></p><p>因为河北省公布了市级的IOT，所以郑赫然博士制作了2012年京津冀表。</p><p>以武汉为核心的表值得关注！</p><p>珠三角12城市表，实质上是与世界表链接。</p><h4 id="问题">1.4 问题</h4><p><img src="https://i.loli.net/2020/10/30/gIEWe9wf5qKL3hQ.png" /></p><p>编制问题：</p><ul><li><p>部门不固定、过少；</p></li><li><p>时效性迟滞太大，比如，当下如何用MRIO分析双循环？国内循环为主？；</p></li><li><p>中国IOA与国际表，结构较大差别；</p></li><li><p>编MRIO表的团队，很多不是做经济学研究，只是因为应用需求而编制，对基本概念、理论，有所欠缺。</p></li></ul><p>应用问题：</p><ul><li>事实上的旅游不仅仅包括狭义上的旅游，还包括餐饮、交通、文化产品等等；</li><li>部门≠行业！！！</li></ul><h3 id="chinese-lab的构造">2 Chinese Lab的构造</h3><p><img src="https://i.loli.net/2020/10/30/KW1MprJ4lfSFOt2.png" /></p><h4 id="开发过程">2.1 开发过程</h4><p><img src="https://i.loli.net/2020/10/30/plywZco3QEJdzv1.png" /></p><p><img src="https://i.loli.net/2020/10/30/mOGLRzS1j25nXNp.png" /></p><ul><li><p>区域和部门不再固定，可根据需要生成。</p></li><li><p>微观企业表嵌入到宏观？？？碳中和要求？？？已经这么高端了吗？</p></li><li><p>给出了与国际接轨的结构</p></li><li><p>已经将不确定性分析标准化了，哈哈，放入支撑信息。</p></li><li><p>现有的数据库，1978-至今</p></li></ul><h4 id="sut结构与生成过程">2.2 SUT结构与生成过程</h4><p><img src="https://i.loli.net/2020/10/30/6DJCglHnwpGiaXR.png" /></p><p><img src="https://i.loli.net/2020/10/30/Abn46kjZqpCcy87.png" /></p><p>建数据根，非调查方法</p><p>SUT表事实上更好用，但大多数人不需要用</p><p><img src="https://i.loli.net/2020/10/30/JdpC3EmRLProAKh.png" /></p><p>普查数据可以做得更细，但是数据受限较大！</p><p>用这套方法，run出澳大利亚表，误差非常小，但是中国的较大</p><p><img src="https://i.loli.net/2020/10/30/aNUL7hXcFRnmHpQ.png" /></p><p>估价问题：</p><p><img src="https://i.loli.net/2020/10/30/HYqOQJcU7y9PEDI.png" /></p><p>其实根本听不懂</p><p>非调查方法可以编制更精细尺度的表，比如县级：</p><p><img src="https://i.loli.net/2020/10/30/sVPlzaxb4tC6OcN.png" /></p><p>5用的比较多，都是区位熵。</p><p>全球表，估计贸易流量后链接~</p><p>降尺度，区域化~（可以用河北的案例做检验）</p><p><img src="https://i.loli.net/2020/10/30/bAzK871axT5OtdV.png" /></p><p><img src="https://i.loli.net/2020/10/30/Bal1CbtFspdku9O.png" /></p><p><img src="https://i.loli.net/2020/10/30/Pth17zGcmT2BnwL.png" /></p><p>Note：为什么做核算的难以拿诺奖？哈哈。因为体系建立之后，发展就...计量的因果模型更受重视</p><p>优化方法：</p><p><img src="https://i.loli.net/2020/10/30/ulLKzPHV9EShpFD.png" /></p><h3 id="example">3 Example</h3><h4 id="省级">3.1 省级</h4><p><img src="https://i.loli.net/2020/10/30/Hbyx3BjNZ46gFzv.png" /></p><p>上述为第一张表</p><p>现在有31省，若干部门，1978-2017/8，即将更新到2019</p><p>还可以转化格式，部门x部门</p><h4 id="城市表">3.2 城市表</h4><p><img src="https://i.loli.net/2020/10/30/AZDQtM7ea1HV8dc.png" /></p><h4 id="与全球表的链接">3.3 与全球表的链接</h4><p><img src="https://i.loli.net/2020/10/30/gRlKwseEXcBaUkD.png" /></p><p>Eora、GTAP、WIOD的更新不确定</p><p>还是global IELad比较新！根据国际贸易数据链接。</p><p>现行无法做到两国之间，省级的货物链接！比如，中国省级的物流，进入澳大利亚之后，更精细尺度的流动方式？</p><p><img src="https://i.loli.net/2020/10/30/q6wAmJpPYoeTHjt.png" /></p><p>需要右上和左下的贸易矩阵</p><p><img src="https://i.loli.net/2020/10/30/5mvFsVGeCAipTb2.png" /></p><p>一万多个部门？？</p><p><img src="https://i.loli.net/2020/10/30/qghjB3G1NPU24pl.png" /></p><p>城市+省+全球（GTAP）；</p><p>上表城市与省与国家是平级的！</p><p>筛选出核心的区域和部门！更高的出表效率！</p><p>《Water Research》文章，已发表：</p><p><img src="https://i.loli.net/2020/10/30/AygYIceaLfTp6bj.png" /></p><p>三套表，两国（省级）+其他国↓</p><p><img src="https://i.loli.net/2020/10/30/PhKJNDpfd5cSuoL.png" /></p><p>这套表应该很强！虽然有问题！</p><h4 id="未来研究">4 未来研究</h4><p><img src="https://i.loli.net/2020/10/30/xVI3ygJcpmukMlY.png" /></p><h4 id="与微观数据的链接">4.1 与微观数据的链接</h4><h4 id="疫情冲击">4.2 疫情冲击</h4><p>研究被Nature及其子刊退了，哈哈，但是关大博老师的文章发出来了！</p><p>于是只能发Plos one？</p><p>可以做疫情二次爆发的影响？特定地点爆发的影响？</p><h4 id="与数字经济">4.3 与数字经济</h4><p>网红经济的研究？直播的效应？</p><p><img src="https://i.loli.net/2020/10/30/lFpRgzvbxYZrnTL.png" /></p><h4 id="不平等">4.4 不平等</h4><p>可以与SDGs的协同与权衡联系起来！</p><p>是的，需要great idea！</p><h4 id="政策研究">4.5 政策研究</h4><p>双循环</p><h4 id="与企业表的链接">4.6 与企业表的链接</h4><hr /><p><img src="https://i.loli.net/2020/10/30/4iTlRwCSxH6ndvb.png" /></p><p>去珠海（土）博后的工资有30+？</p><p>但在北京比较低！</p><hr /><p>Q&amp;A：</p><p>Q1：北大毕业入职南航（胡秀蓉），在做CGE，看到IOT，很激动。目前在做中国30省域CGE，需要拓展到全球。目前的嵌套到GTAP10。GTAP价格情况。国内目前有用嵌套数据做CGE吗？</p><p>A1：GTAP10大概需要10WRMB。CGE需要用SAM，需要做第四象限？IOT→SAM→CGE。手上有GTAP，但不能提供（无版权）。如果手头有GTAP表，可以让我们链接。我们操作过程中，用<strong>基本价格</strong>链接。目前没有遇到嵌套表做CGE。</p><p>Q2：上一位的师妹。目前在用CGE做交通成本，需要单位产品点对点运输边际成本。目前有中国城市级的交通距离数据，如何将距离转化为边际成本？</p><p>A2：需要点到点的交通数据。参考17-18年国家IOT，提取，再处理。看看手册吧。可能没有特别好的方法。</p><p>Q3：王老师什么时候回国？回国交流，来南京现场交流。（主持人）</p><p>A3：年底吧。</p><p><strong>北师珠特别需要博后</strong>！</p>]]></content>
    
    
    
    <tags>
      
      <tag>MRIO</tag>
      
      <tag>投入产出分析</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>十月 忐忑与欣喜的交织</title>
    <link href="/2020/10/29/%E5%8D%81%E6%9C%88%20%E6%AC%A3%E5%96%9C%E4%B8%8E%E5%BF%90%E5%BF%91%E4%BA%A4%E7%BB%87/"/>
    <url>/2020/10/29/%E5%8D%81%E6%9C%88%20%E6%AC%A3%E5%96%9C%E4%B8%8E%E5%BF%90%E5%BF%91%E4%BA%A4%E7%BB%87/</url>
    
    <content type="html"><![CDATA[<p>转眼已到月尾，十月过得很快，发生了很多事，有忐忑、有欣喜，充满挑战，又饱含希望。</p><p>对于很多人，十月是收获的季节。论文、奖学金、各种offer，而自己，则成为了三无人员。</p><p>这样的局面是定然的，是自己过去两三年虚度光阴所必须咽下的苦果。</p><p>度过了没有惊喜和期待的国庆，昆山楼八日游。没有写论文，也没有改论文。取消了回武汉的行程，大家都很忙，也都有自己的路要走。荣荣和他的女票同时拿了国奖，过于优秀的人就是这样。佩服。感谢荣荣帮我获取各种资料。在师兄的建议下，改完了文章，投了《自然资源学报》，至今没有回音。似乎是十月有太多的会议，编辑忙着通勤，当然，更大的可能性是文章过于简单，没有创新。慢慢地，从期待变成失落。</p><p>月中重要的事情是去浙大参会，约了谭荣老师见面，莫名燃起了对浙大公管的向往，似乎，我终究要回到文科院系，与由“人”构成的复杂社会打交道。确认自己没有从宏观角度理解世界的能力，我有的，是对确定、具体事件与人的兴趣。谭荣老师研究的核心是”治理“，由交易费用出发，通过理解中央与地方、政府与市场、市场与非政府组织的关系，来寻求治理的公平与效率。这似乎才是我追求的“解决科学问题”，与人有关的问题。</p><p><img src="https://i.loli.net/2020/10/29/vT1VB2qHcDJQ63O.png" /></p><p>紫金港的位置比仙林好很多，没有这么荒凉。街道很热闹，大西区的建筑很好看，是我喜欢的架势。目前院楼还没有研究生自习室，这就有点奇怪。那天冒雨拎着东西骑车去见谭老师，大概是终身难忘的事情。有点憨，有点傻。回想初心，我想去地理所，是想抱大腿水论文，想去上海，是因为上海有花花世界，这两个选择，都不太真实，亦不真诚。地理所和上交，也不一定会接纳我。杭州，西湖不怎么好看，但紫金港有烟火气，谭荣老师没说明确要我，但至少，有一定的可能。我要抓住橄榄枝。</p><p><img src="https://i.loli.net/2020/10/29/SLMpsgOzZaivrJQ.jpg" /></p><p>和朋友在杭州城西银泰约了饭，他们已经步入社会，考虑的是房子、婚姻、事业，而我，对学业依旧是“不太上心”，似乎对自己很不负责。分别的时候他说我真的一点都没变，我也觉得是这样。大家随着年龄的增长，不断开启人生下一阶段的旅程，而我，始终停留在不太成熟的学生阶段。</p><p>读博之后，会爱上学习，将科研作为事业吗？</p><p>十月份另一件重要的事情是收到了FNR文章的修稿通知。审稿人给了30多条意见，其中诸多难以回答，切中命门。编辑只给了三周时间，而自己，还是不想行动，充满厌恶。但不管怎样，都要强迫自己去修改！我的论文，一定可以发表的！</p><p>天气渐冷，睡眠质量也不太好，想换寝室。可是一圈折腾，并没有门路。真的，对南大仙林，没有一丝丝地方依恋。对人、对地、对物，都没有。我只想逃离这里。</p><p>浙大的报名已经开始，自己还什么都没有准备。推荐信、开题报告、研究计划，等等，需要在接下来20天完成。FNR，也需要在接下来两周内改完。自己手里还有两篇文章没改。噢，还有，浙大公管考博的题目、参考书都还没有get。</p><p>所以，十一月份，要摆脱佛系，让自己忙起来，一点一点给自己正向的反馈。前路荆棘，但总让人有所期待。</p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image/img/xAZaV3TpLfwrUBF.jpg" /></p>]]></content>
    
    
    
    <tags>
      
      <tag>浙大</tag>
      
      <tag>欣喜</tag>
      
      <tag>十月</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>城市管理研究毕业论文的设计和写作：导师的角度</title>
    <link href="/2020/10/09/%E5%9F%8E%E5%B8%82%E7%AE%A1%E7%90%86%E7%A0%94%E7%A9%B6%E6%AF%95%E4%B8%9A%E8%AE%BA%E6%96%87%E7%9A%84%E8%AE%BE%E8%AE%A1%E5%92%8C%E5%86%99%E4%BD%9C%EF%BC%9A%E5%AF%BC%E5%B8%88%E7%9A%84%E8%A7%92%E5%BA%A6/"/>
    <url>/2020/10/09/%E5%9F%8E%E5%B8%82%E7%AE%A1%E7%90%86%E7%A0%94%E7%A9%B6%E6%AF%95%E4%B8%9A%E8%AE%BA%E6%96%87%E7%9A%84%E8%AE%BE%E8%AE%A1%E5%92%8C%E5%86%99%E4%BD%9C%EF%BC%9A%E5%AF%BC%E5%B8%88%E7%9A%84%E8%A7%92%E5%BA%A6/</url>
    
    <content type="html"><![CDATA[<p>主讲人：胡智勇-副教授</p><p>单位：香港教育大学-亚洲与政策研究学系</p><p><img src="https://i.loli.net/2020/10/09/ZAJGD9xRcEsrUHq.png" /></p><p><img src="https://i.loli.net/2020/10/09/kDPtIUfqJWgxOHZ.png" /></p><p>本人其实是一名地理学家，在地理所做过研究。</p><h3 id="什么是毕业论文">1. 什么是毕业论文</h3><p><img src="https://i.loli.net/2020/10/09/TKBPU6RfEC4SlgI.png" /></p><ul><li>完整的一篇文章</li><li>原创性的研究：新的理论、框架、实验结果、方法</li><li>反映学位申请者对所在领域知识的掌握程度，以及，领悟科学的研究方法</li><li>evidence-based，与观点、评论不同</li><li>分析性-从事实解析出观点-新发现</li></ul><p><img src="https://i.loli.net/2020/10/09/9RND8KFOvQ5pwC6.png" /></p><p>期刊论文字数一般在8000（英文）。</p><p>主讲人喜欢读博士论文，因为博士论文篇幅较长，每一部分有详细的解析。</p><p><img src="https://i.loli.net/2020/10/09/SYXsnM2ihCwfxH7.png" /></p><p>城市研究是典型的跨学科领域！</p><p>不同角度之间有时界限很模糊！</p><h3 id="毕业论文选题">2. 毕业论文选题</h3><p><img src="https://i.loli.net/2020/10/09/WSHAZ6ChxznTObf.png" /></p><p>老师大多还是在解释PPT...</p><p>不能去研究师娘优美、怎样让女朋友更满意的话题...</p><p>城市研究领域，从地理学角度，不太关注个体，而是关注一定（大）尺度的问题</p><p>城市创新实践：智慧城市、生态城市、城市收缩...等等新实践</p><p><img src="https://i.loli.net/2020/10/09/t7OvXkcVrgsTMlm.png" /></p><p>研究城中村的经典↑，作者现为牛津大学人类学院教授</p><p><img src="https://i.loli.net/2020/10/09/EbvWhlP97MqHocZ.png" /></p><p>日常生活中发现的矛盾，大都市为何出现城中村？</p><p>作者可能从本科阶段就关注此问题，从自身出发</p><p><img src="https://i.loli.net/2020/10/09/qYnGDHM3VaE78lP.png" /></p><p>黄亚生老师认为80年代的创业环境比90年代更自由</p><p>为什么印度赶不上中国？因为中国有上海，印度只有孟买。（印度总理）</p><p>黄亚生老师注意到上海经济总量很大，但私营企业创新弱，比不上江浙。？？？→研究兴趣被激起</p><p><img src="https://i.loli.net/2020/10/09/lnhkH9MYXRJjKfO.png" /></p><p>原因，上海企业家精神很弱。？？？上海的资本家在建国时转到香港了？</p><p>选题很有趣。</p><p>上海的企业政策偏向于国营和大企业。</p><p><img src="https://i.loli.net/2020/10/09/L2bn7O6ptGdFwKI.png" /></p><p>期刊灵感导向，哈哈~</p><p>这是普遍道路，但可能，原创有限？</p><p><strong>社会科学的理论更多是evolution，而不是revolution</strong></p><ul><li>市场转型理论：计划经济下，人力资本价值低，政治资本更强；而市场化下，人力资本逐渐增强，政治资本越来越弱；不一样意见：中国市场化后，政治资本没有走弱（因为要素市场没有放开？？？）</li><li>全球城市的中产阶层？社会极化出现（工作集聚于精英和低收入者）。在欧洲，中间职位没有消失，只是精英阶层的就业增加了。即，塔尖增加更大。是一个精英化的过程，而不是两极分化的过程。→农民的极化？</li><li>绅士化问题，驱动力。地租？潜在地租，获利动因。还是人的因素？搬入者有独特的审美偏好。利益导向还是文化导向？</li></ul><p>外国理论→外国验证→国内引进→国内验证</p><p>哈哈~如果不一样，新的解释框架？老套路了。</p><p><img src="https://i.loli.net/2020/10/09/VFJ37N6e2jxmvLi.png" /></p><p>又是黄友琴老师的大作！</p><p><strong>用住房检验市场转型理论</strong></p><p>人们住什么房子，是人力资本重要还是政治资本重要？tql</p><h3 id="毕业论文的研究设计">3. 毕业论文的研究设计</h3><p><img src="https://i.loli.net/2020/10/09/FPslj1bKdSLR2rQ.png" /></p><p><strong>研究设计≠研究方法</strong></p><p>（突然发现《社会科学中的研究设计》这本书是陈硕老师翻译的...）</p><p>哲学观影响对xx主题的切入点</p><p><img src="https://i.loli.net/2020/10/09/2VkHarzfWexnuZs.png" /></p><p>北京，人口调控，将流动人口往外推，害，驱逐低端人口...</p><p>害，地理学做的就是<strong>实证主义</strong>的事情...而我内心观察的是后两者</p><p><img src="https://i.loli.net/2020/10/09/L85jZO7JUyFSesI.png" /></p><p>强调制度与强调个人</p><p><img src="https://i.loli.net/2020/10/09/kKdVF2qW96BXPRU.png" /></p><p>位序规模论——典型的知识型理论化范式，是什么样——<strong>玩数字游戏</strong></p><p>阐释性的理论化——为什么会这样——<strong>玩文字游戏</strong></p><p>2009这篇文章，度量城市人口，哈哈，数字游戏~facts</p><p>2010年UCB老师，政府也能城市化吗？？？人口、土地城市化了，政府呢？城市化不是政府决策结果，相反，城市化推动了政府决策。——文字游戏</p><h3 id="毕业论文的写作">4. 毕业论文的写作</h3><p><img src="https://i.loli.net/2020/10/09/I3YBlJZp8EzAkDU.png" /></p><p><img src="https://i.loli.net/2020/10/09/anRsDy5L7kWVdN3.png" /></p><p><strong>theoretical strawman</strong></p><p>黄宗智老师的稻草人树立地非常棒！第三只手？非市场非政府</p><p>这种写法，很容易让人记住这个观点、分析框架，建议细读</p><p><img src="https://i.loli.net/2020/10/09/8bGuWcafNLlXg36.png" /></p><p><img src="https://i.loli.net/2020/10/09/sGWlmj8xXQytaiz.png" /></p><p><img src="https://i.loli.net/2020/10/09/q8gUKW9lurSCDT5.png" /></p><p><img src="https://i.loli.net/2020/10/09/gjWEBlqeLor15Zt.png" /></p><p><img src="https://i.loli.net/2020/10/09/dPNqw3SHxoGcrMu.png" /></p><p>逻辑，这一段到底想写什么？？开头放个总结句，哈哈。</p><p><img src="https://i.loli.net/2020/10/09/MfZ8LO79UnyKPTA.png" /></p><p><img src="https://i.loli.net/2020/10/09/wmJ4zduKbkHEVpc.png" /></p><p><img src="https://i.loli.net/2020/10/09/qA89yNDpRjbBtTX.png" /></p><p><img src="https://i.loli.net/2020/10/09/wX2YOcsyiKE1QUz.png" /></p><p><img src="https://i.loli.net/2020/10/09/HOKZ4NJhzvQ9Xey.png" /></p><p><img src="https://i.loli.net/2020/10/09/rBfP3sCAazoin6U.png" /></p><p><img src="https://i.loli.net/2020/10/09/emyxN4SuHXQFDYs.png" /></p><p>Q&amp;A：</p><p>Q1：请问哲学观念的获得是依靠日常学习吗？</p><p>A1：是的。本人读博时选了很多课，掌握观点。从日常的文章中可以了解到，不推荐去专门阅读哲学著作。</p><p>Q2：如果想要研究的问题没有已有理论，那怎么综述？</p><p>A2：自己创造理论，但不是凭空创造，必定是已有经验的综合或反思，亦有跨学科的knowledgegap。</p><p>Q3：老师的博士学位为人文地理学，人文地理是自然科学还是社会科学？从人文地理角度研究城市管理问题与从公共管理角度研究城市问题，有什么区别？谢谢老师。</p><p>A3：认为是社会科学。这是一个很好的问题，哈哈~也很难回答。学科边界很模糊，两类学者可能在同样的杂志发文，角度不一样在哪里？地理学家更关注空间、尺度、异质性和尺度的相互关联，如城市尺度、社区尺度、国家尺度，关键词，scale、place、space。公共管理则更注重政府视角，如政府的措施，为什么采取这种措施，对尺度不是太敏感。在方法和范式上，都有知识型和阐释型。有时候不必要太过区分学科立场，有时候跨学科可能会有不一样的灵感。人文地理关注的问题，可能公共管理并不关注。总结，主要还是对尺度的理解不一样。</p><p>Q4：文献整理和管理的技巧。</p><p>A4：需要有些取舍。找权威期刊。还有，多读好文章。</p><p>Q5：有很多微观数据库，想做定量研究，如何寻找主题？</p><p>A5：数据不是观点，需要让数据说话。先明确要跟哪套理论对话，再去做研究设计。有时候是在数据和模型中来回往复的过程。有的人是在微观数据库中调几个变量，看看显著性如何，再去找理论，这样不太好，很容易得出似是而非的结论。还有，处理样本的问题。</p><p>老师的PPT风格和我的好像啊...</p><p>还是能听到很多学科外的东西，比看文献效率更高（但深度更低）。</p>]]></content>
    
    
    
    <tags>
      
      <tag>毕业论文</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>感谢那些耐心给予我答复的老师和编辑们</title>
    <link href="/2020/09/30/%E6%84%9F%E8%B0%A2%E9%82%A3%E4%BA%9B%E8%80%90%E5%BF%83%E7%BB%99%E4%BA%88%E6%88%91%E7%AD%94%E5%A4%8D%E7%9A%84%E8%80%81%E5%B8%88%E5%92%8C%E7%BC%96%E8%BE%91%E4%BB%AC/"/>
    <url>/2020/09/30/%E6%84%9F%E8%B0%A2%E9%82%A3%E4%BA%9B%E8%80%90%E5%BF%83%E7%BB%99%E4%BA%88%E6%88%91%E7%AD%94%E5%A4%8D%E7%9A%84%E8%80%81%E5%B8%88%E5%92%8C%E7%BC%96%E8%BE%91%E4%BB%AC/</url>
    
    <content type="html"><![CDATA[<p>这个月发了很多邮件，有回复我的，也有无视我的。</p><p>回复我的老师中有大牛，无视我的也有大牛。</p><p>所以，大概是很神奇的事情，有些邮件能得到回复，有些则不能。</p><p>有的老师回得长，有些老师寥寥数语。</p><p>但，等待收信，始终是一件，既忐忑又开心的事情。</p><p><img src="https://i.loli.net/2020/09/30/bC5QKNXralg3eOu.png" /></p><p>用英文给本校某位发子刊的老师写了封邮件，老师及时用中文回了我，这真是件好玩的事情。</p><p>给某发ES&amp;T的大佬发邮件，结果收到他和一作的回复，很及时。</p><p><img src="https://i.loli.net/2020/09/30/BswxuGfS3IZWQM5.png" /></p><p>一作其实没有回答我的问题，我又追问了新的问题，结果出现了神奇的事情：<img src="https://i.loli.net/2020/09/30/kvtaloA694IXjHM.png" /></p><p>老师依旧没有给予正面回复。</p><p>还有某期刊主编，来自北欧国家，非常客气，耐心地解答我的碎小问题，并告诉我不要担心。</p><p><img src="https://i.loli.net/2020/09/30/JMIyhNX4WgbSkaw.jpg" /></p><p>发邮件时会期待收到对方的回复，当回复邮件送达时，会有，自己以一个微小星光的身份成功和大牛交流的快乐，得以仰望的快乐。</p><p>祝愿那些耐心、及时、真诚给予我答复的老师们，都能发Nature，Science也行。</p><p>他们像天使一样。</p><p>明天中秋，亦是国庆。</p><p>十月肯定是收获满满的季节。</p>]]></content>
    
    
    
    <tags>
      
      <tag>邮件</tag>
      
      <tag>老师</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>《自然》及子刊集的交叉研究概览与优质期刊写作发文技巧</title>
    <link href="/2020/09/15/%E3%80%8A%E8%87%AA%E7%84%B6%E3%80%8B%E5%8F%8A%E5%AD%90%E5%88%8A%E9%9B%86%E7%9A%84%E4%BA%A4%E5%8F%89%E7%A0%94%E7%A9%B6%E6%A6%82%E8%A7%88%E4%B8%8E%E4%BC%98%E8%B4%A8%E6%9C%9F%E5%88%8A%E5%86%99%E4%BD%9C%E5%8F%91%E6%96%87%E6%8A%80%E5%B7%A7/"/>
    <url>/2020/09/15/%E3%80%8A%E8%87%AA%E7%84%B6%E3%80%8B%E5%8F%8A%E5%AD%90%E5%88%8A%E9%9B%86%E7%9A%84%E4%BA%A4%E5%8F%89%E7%A0%94%E7%A9%B6%E6%A6%82%E8%A7%88%E4%B8%8E%E4%BC%98%E8%B4%A8%E6%9C%9F%E5%88%8A%E5%86%99%E4%BD%9C%E5%8F%91%E6%96%87%E6%8A%80%E5%B7%A7/</url>
    
    <content type="html"><![CDATA[<p>《自然》及子刊集的交叉研究概览与优质期刊写作发文技巧</p><p>主讲人信息</p><p>姓名：夏瑒</p><p>邮箱：Yang.Xia@nature.com</p><p><img src="https://i.loli.net/2020/09/15/wGheKvI7rcNz2Of.png" /></p><h3 id="nature介绍">1. Nature介绍</h3><p>高质量的选稿</p><p>全职的编辑委员会</p><p>完全独立的编辑</p><p>流程一致性</p><p>Nature - weekly 800+</p><p>Nature - branded research journals Monthly 130+</p><p>Nature communications - daily 5000+</p><p><img src="https://i.loli.net/2020/09/15/ymVNGRTHn8ekKSi.png" /></p><p><img src="https://i.loli.net/2020/09/15/2rhAl8skHavzDuT.png" /></p><p>正刊的结构：</p><p><img src="https://i.loli.net/2020/09/15/BlRS9i8Q1aP2FhX.png" /></p><h3 id="审稿流程">2. 审稿流程</h3><p>所有子刊的审稿流程一致</p><h4 id="投稿前">2.1 投稿前</h4><p>查看scope、</p><p>准备cover letter</p><p><img src="https://i.loli.net/2020/09/15/JEd1tuaUj8yx4Mz.png" /></p><p>CL是编辑第一查看的部分，非常重要！</p><ul><li><p>主要进步是什么，如尺度的扩展、精度的深入；</p></li><li><p>从进步中，能得到什么</p></li><li><p>为什么这种进步是重要的，需要重点讨论，如政策启示、学科推进</p></li></ul><p><img src="https://i.loli.net/2020/09/15/fDlZzNUJV7meij5.png" /></p><p><img src="https://i.loli.net/2020/09/15/c7vjVnbNsJlhfi9.png" /></p><h4 id="编辑部流程">2.2 编辑部流程</h4><p><img src="https://i.loli.net/2020/09/15/PjVeH1iGYAIKysN.png" /></p><p>novelty-决定是否送审，进步、作用、重要性意义</p><p>大修：对文章重要性持肯定态度，但对方法、数据等存在敏感；3-6个月；</p><p>小修：加多discussion等</p><p>拒稿：大的方法类错误</p><p>编辑会依据审稿人的意见整理修改内容。</p><p>中途可能会更换审稿人，以及，参考其他审稿人意见。</p><p>Nature：两周内决定是否送审！NC为一周。</p><p><img src="https://i.loli.net/2020/09/15/BOoEiT5RV7PYy2b.png" /></p><p>送审率：</p><p><img src="https://i.loli.net/2020/09/15/w18h7OXGBCeiH36.png" /></p><p>依据研究跨度，选择2-4个审稿人；有审稿人数据库。</p><p>收到审稿意见后，编辑做定性决定，而不是依据审稿人支持数量。</p><p>处理审稿人意见：</p><p><img src="https://i.loli.net/2020/09/15/9yZ3tQUMqVpIcje.png" /></p><ul><li><p>给出清楚明了的点对点的回应</p></li><li><p>善用表格的形式进行回复，第一栏，拆分审稿人意见</p></li></ul><p><img src="https://i.loli.net/2020/09/15/ZpM7RNAwJrqcFTV.png" /></p><h4 id="决定后">2.3 决定后</h4><p><img src="https://i.loli.net/2020/09/15/eK2PFZAESWnX4Qr.png" /></p><p>转投，编辑可以看到前一轮的所有信息！</p><p>也可以反驳：<strong>Appeals</strong></p><p><img src="https://i.loli.net/2020/09/15/jP9sOzCVmcXpb1Z.png" /></p><p>反驳后，需要提交修改的版本！</p><p>revised cover letter. 重申文章的重要性和贡献！</p><h3 id="nc内部架构">3. NC内部架构</h3><p><img src="https://i.loli.net/2020/09/15/KGDHz84nJRwSPva.png" /></p><p><img src="https://i.loli.net/2020/09/15/yeJQPOWliaMF4LI.png" /></p><p>collections：先发表，再成集；SI有deadline，而collections无！</p><p>transparent peer review：文章同时发表审稿意见和作者回复</p><p><img src="https://i.loli.net/2020/09/15/6h3CY4j5r8emANO.png" /></p><p>article中的字数部分不含method</p><p>comment一般为编辑邀请，占85%，话题性强，亦欢迎尖锐、有批评性的评论</p><p>perspective：narrow focusreview小范围的模型验证和创新。一般要先发计划书给编辑。</p><p>review：大方向的把控，而不是meta analysis</p><h3 id="nature内部架构和nc的倾向">4. Nature内部架构和NC的倾向</h3><p><img src="https://i.loli.net/2020/09/15/b4zUuDjtxs2Pdvk.png" /></p><p><img src="https://i.loli.net/2020/09/15/UODslWMHe62dgFN.png" /></p><p><img src="https://i.loli.net/2020/09/15/tAqSXknWvFDMGri.png" /></p><p>正刊：不希望接收结果在意料之中、与已有研究类似的稿件；能产生大的影响力，多学科交叉影响；比较难以触及的地区，如西非，食品安全、用水问题，等等，不平等性突出的地区；完整的数据；</p><p>正刊逐渐展现对于经济学的兴趣！</p><p>editorial：展现出期刊预期推动的领域</p><p>NC文章的特征：</p><ul><li>学科交叉</li><li>可持续发展导向</li><li>方法类</li><li>政策关联（生态热点政策、政策情景比较（scenario一定要基于实际）、benchmark）</li><li>自然亦关注低尺度研究（如新加坡家庭用水与温度）</li><li>城市尺度的精准发现（气候比拟，如2100年北京像广州一样）</li><li>解决问题导向solution-oriented，一般在全球尺度，在可行性上有全面完整的分析</li></ul><p>注意：结论不能over-sell</p><p>自然的关注问题：</p><p><img src="https://i.loli.net/2020/09/15/MlVzxG35DHQimKN.png" /></p><p><strong>food-energy-water nexus</strong></p><p>很重要！</p><p>如果用了AI，一定要突出AI的独特优势，否则不是进步</p><h3 id="自然的平台和资源">5. 自然的平台和资源</h3><p>行为和社会科学社区：behind the paper；on theroad（编辑的见闻、领域新近热点）</p><p>可持续社区：sustainability community</p><p>生态社区</p><p>pressrelease：扩大文章影响力的渠道，与主流媒体对接，扩大报道，新闻性强的通稿！</p><p><img src="https://i.loli.net/2020/09/15/zOT2cH4oa6x3DYr.png" /></p><p>正刊的图表较少，正刊有独立的投稿前咨询</p><h3 id="fq">6. F&amp;Q</h3><p><img src="https://i.loli.net/2020/09/15/62fYDdelpEJs1ZG.png" /></p><p>A1:</p><ul><li>结论的观测性不能过强，需要深入到机制、政策启示</li><li>文章卖点拿捏不当，着重渲染gaps</li><li>拆分开的结论都已经发表，再来个大杂烩，此时不会被考虑</li><li>结论显而易见，不会被接收，如气温与室外活动的关系</li></ul><p>A2:</p><ul><li>情景设计过于夸张</li><li>政策建议不能被采用</li><li>over-sellresults，如过程为相关性，结果却讨论因果性，分析和数据不能支持结论</li></ul><p>A3:</p><ul><li>编辑会考虑多学科交叉性，会拆分方向，会查看审稿人新近的发文量和态度</li></ul><p>A4:</p><ul><li>转投机制，如果有主观性强的审稿人，则不要转投</li></ul><p>提问环节：</p><p>Q1：已经发了几篇Nature，定性结论用定量研究算出来，如电动汽车会减碳，定量算出来具体减了多少，这种算nature认可的创新吗？大牛的文章更容易被接收吗？</p><p>A1：如果类似研究很多，不算重大创新。看研究区域，如非洲，则可能是重大创新。大牛的文章不一定，而是由编辑多方面考虑，包含话题新闻度等等，编辑的价值立场可能与其他投稿作者的立场不同。自然的包容性很强，新人也可以。</p><p>Q2：卫生经济和卫生政策，有很多定性研究，对nature的胃口吗？</p><p>A2：nature对于话题性包容大，对于方法也具有很大的包容性。定性需要处理uncertainty，很难处理，所有成稿较少。但nature欢迎一手数据调研得出的结论。</p><p>Q3：数据量很大，但没有cover全国，但这个数量已经超越了很多国家的人口。nature倾向如何？</p><p>A3：建议考虑地域的特殊性，让结论更加丰富；还有人群的更细分。</p><p>Q4：社科类的期刊推荐</p><p>A4：nature human behavior、可持续发展方向、气候变化经济、naturefood（<strong>FEW nexus</strong>），这些期刊的跨度都很广，natureenergy</p><p>Q5：Appeals的成功率</p><p>A5：看意见情况，major concern（审稿人） or minor concern（作者）。成功率未统计。</p><p>Q6：nature系列和pnas、oneearth的定位。</p><p>A6：pnas和nc差不多，但够不上nature，oneearth只是地学,地学的所有版块。</p><p>Q7：投稿时效</p><p>A7：nature尊重审稿人的时间，多学科交叉性的文章，相对会慢一些（难找到审稿人），期刊编辑的岗位变动等都有关。可以写邮件跟进，编辑会耐心回复。</p><p>Q8：nature招编辑时对申请者特质和能力的考察</p><p>A8：看重编辑的全局观、编辑的能力，而不是科研能力。能发现文章匹配期刊的价值、文章的行业影响力。编辑要有新知识的学习热情，扩充自己的知识面。</p><p>Q9：张强老师的提问？中国很多很好的期刊，需要走出去，您对办好期刊的建议。</p><p>A9：自然的四大特色。严苛的标准scope、时效性（出版周期不能过长，有些经济类的有两三年，nature的有全职编辑，成熟清晰的工作流程，对读者有即时反馈）、独立性（编辑的决定不会被外部干扰，编辑有自己的客观性，nature有半年的培训）、包容性（看advanced，接收不一样的意见）</p>]]></content>
    
    
    
    <tags>
      
      <tag>Nature</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MATLAB学习笔记（六） MATLAB中的简单for循环</title>
    <link href="/2020/09/14/MATLAB%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E5%85%AD%EF%BC%89%20MATLAB%E4%B8%AD%E7%9A%84%E7%AE%80%E5%8D%95for%E5%BE%AA%E7%8E%AF/"/>
    <url>/2020/09/14/MATLAB%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E5%85%AD%EF%BC%89%20MATLAB%E4%B8%AD%E7%9A%84%E7%AE%80%E5%8D%95for%E5%BE%AA%E7%8E%AF/</url>
    
    <content type="html"><![CDATA[<h3 id="简单for循环">1 简单for循环</h3><p>例：输出1-100的和</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs matlab">sum = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> <span class="hljs-built_in">i</span> = <span class="hljs-number">1</span>:<span class="hljs-number">100</span><br>sum = sum + <span class="hljs-built_in">i</span>;<br><span class="hljs-keyword">end</span><br>sum<br></code></pre></td></tr></table></figure><p>解释：i从1到100，每次增加一个，该共循环100次注意：分号的位置；不能使用“+=”符号；每写一层循环，必须以end结尾</p><h3 id="带有步长的for循环">2 带有步长的for循环</h3><p>例：输出1-10之间的奇数和</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs matlab">sum = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> <span class="hljs-built_in">i</span> = <span class="hljs-number">1</span>:<span class="hljs-number">2</span>:<span class="hljs-number">10</span><br>sum = sum + <span class="hljs-built_in">i</span>;<br><span class="hljs-keyword">end</span><br>sum<br></code></pre></td></tr></table></figure><p>解释：i =1:2:10中间的2表示步长，表示从1到10，每次增加2，即1，3，5，7，9五个数之和；步长也可以为负数</p><h3 id="对向量和矩阵的遍历">3 对向量和矩阵的遍历</h3><h4 id="对向量的遍历">3.1 对向量的遍历</h4><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs matlab">A = <span class="hljs-built_in">rand</span>(<span class="hljs-number">1</span>,<span class="hljs-number">4</span>);<br><span class="hljs-keyword">for</span> <span class="hljs-built_in">i</span> = A<br><span class="hljs-built_in">i</span><br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><p>解释：rand函数用于随机生成0~1之间的数，rand(1,4)生成1*4的列向量。</p><h4 id="对矩阵的遍历">3.2 对矩阵的遍历</h4><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs matlab">A = <span class="hljs-built_in">magic</span>(<span class="hljs-number">4</span>);<br>A<br><span class="hljs-keyword">for</span> <span class="hljs-built_in">i</span> = A;<br><span class="hljs-built_in">i</span><br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><p>解释：magic(n)函数用于生成任意一行或一列或主副对角线之和相等的方阵，对矩阵的循环遍历是依次取出矩阵中的每一列元素</p><h3 id="break和continue的使用">4 break和continue的使用</h3><p>break用于终止离它最近的一层for循环</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs matlab">x = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">for</span> <span class="hljs-built_in">i</span> = <span class="hljs-number">1</span>:<span class="hljs-number">2</span>:<span class="hljs-number">10</span><br><span class="hljs-keyword">if</span> <span class="hljs-built_in">i</span> &gt; <span class="hljs-number">7</span><br><span class="hljs-keyword">break</span><br><span class="hljs-keyword">else</span><br>x = x * <span class="hljs-built_in">i</span><br><span class="hljs-keyword">end</span><br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><p>continue用于跳过离它最近的一层for循环，接着执行下一次循环</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs matlab">sum = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> <span class="hljs-built_in">i</span> = <span class="hljs-number">1</span>:<span class="hljs-number">6</span><br><span class="hljs-keyword">if</span> <span class="hljs-built_in">i</span> == <span class="hljs-number">4</span><br><span class="hljs-keyword">continue</span><br><span class="hljs-keyword">else</span><br>sum = sum + <span class="hljs-built_in">i</span><br><span class="hljs-keyword">end</span><br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><p>此时i=4的情形被跳过了</p><h3 id="多层for循环">5 多层for循环</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs matlab"><span class="hljs-keyword">for</span> <span class="hljs-built_in">i</span> = <span class="hljs-number">1</span>:<span class="hljs-number">2</span>:<span class="hljs-number">6</span><br><span class="hljs-keyword">for</span> <span class="hljs-built_in">j</span> = <span class="hljs-number">1</span>:<span class="hljs-number">3</span><br>y = <span class="hljs-built_in">i</span> * <span class="hljs-built_in">j</span><br><span class="hljs-keyword">end</span><br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><p>for循环可以按照需要进行嵌套</p><p>文章来源：</p><p>https://blog.csdn.net/denglavender/article/details/102649093?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.channel_param&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.channel_param</p>]]></content>
    
    
    
    <tags>
      
      <tag>MRIO</tag>
      
      <tag>MATLAB</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>近日，八月未长安</title>
    <link href="/2020/08/29/%E5%85%AB%E6%9C%88%E6%9C%AA%E9%95%BF%E5%AE%89/"/>
    <url>/2020/08/29/%E5%85%AB%E6%9C%88%E6%9C%AA%E9%95%BF%E5%AE%89/</url>
    
    <content type="html"><![CDATA[<p>间歇性冲动科研，持续性混吃等死</p><p>在夏天快要结束的时候，自己并无有所收获的感觉。</p><p>论文连续被退稿，手头的新论文进展唯艰。再次怀疑起自己，我只是冲动，并非热爱科研。如果热爱的话，我为什么不能一直满怀激情？</p><p>过去的十多天，真的糟糕透了。晚睡晚起，午间也睡不着，仿佛又是丢了魂魄。每晚打水的时候，在楼梯间默默念叨着：兔子小姐，我有点坚持不下去了。</p><p>每晚躺在床上，会不自觉想论文怎么写，然后辗转反侧。早晨醒的时候，第一件事就是给自己打鸡血，把论文推进下去。我已经很久没有那股青春洋溢的冲劲了。</p><p>自己浪费了最宝贵的暑期实习时间，一场赌博，发不出论文，没有博导接收，也找不到工作。有时候怀疑自己，选择读博只是逃避自己在学习上的失败，想有所弥补、有所博弈。有时候又觉得，自己一旦踏入工作这条河流，就再也回不了头。我想，我应该将当下的选择放在更长的人生维度上来考虑。</p><p>2020我会爱上学习吗？一定会的。</p><p><img src="https://i.loli.net/2020/08/29/OkfD5BwAsqEITj4.jpg" /></p><p><img src="https://i.loli.net/2020/08/29/52Avj8JOHzIdlZP.jpg" /></p>]]></content>
    
    
    
    <tags>
      
      <tag>八月</tag>
      
      <tag>天空</tag>
      
      <tag>晚霞</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MATLAB学习笔记（五） 矩阵表达</title>
    <link href="/2020/08/22/MATLAB%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%94%EF%BC%89%20%20%E7%9F%A9%E9%98%B5%E8%A1%A8%E8%BE%BE/"/>
    <url>/2020/08/22/MATLAB%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%94%EF%BC%89%20%20%E7%9F%A9%E9%98%B5%E8%A1%A8%E8%BE%BE/</url>
    
    <content type="html"><![CDATA[<h3 id="矩阵表达">1 矩阵表达</h3><table><thead><tr class="header"><th></th><th>表达式</th><th>函数功能</th></tr></thead><tbody><tr class="odd"><td>1</td><td>A(1)</td><td>将二维矩阵<strong>A</strong>重组为一维数组，返回数组中第一个元素</td></tr><tr class="even"><td>2</td><td>A(: , j)</td><td>返回二维矩阵<strong>A</strong>中第 j 列 列向量</td></tr><tr class="odd"><td>3</td><td>A( i , :)</td><td>返回二维矩阵<strong>A</strong>中第 i 行 行向量</td></tr><tr class="even"><td>4</td><td>A(: , j : k)</td><td>返回二维矩阵<strong>A</strong>中第 j 列到第 k列列向量组成的子矩阵</td></tr><tr class="odd"><td>5</td><td>A( i : k , :)</td><td>返回二维矩阵<strong>A</strong>中第 i 行到第 k行行向量组成的子矩阵</td></tr><tr class="even"><td>6</td><td>A( i : k , j : m)</td><td>返回二维矩阵<strong>A</strong>中第 i 行到第 k 行 行向量和第 j 列到第m 列 列向量的交集组成的子矩阵</td></tr><tr class="odd"><td>7</td><td>A(:)</td><td>将二维矩阵<strong>A</strong>中得每列合并成一个列向量</td></tr><tr class="even"><td>8</td><td>A( j : k)</td><td>返回一个行向量，其元素为A(:)中的第 j 个元素到第 k 个元素</td></tr><tr class="odd"><td>9</td><td>A([ j1 j2…])</td><td>返回一个行向量，其元素为A(:)中的第 j1，j2…个元素</td></tr><tr class="even"><td>10</td><td>A(: , [ j1 j2 …])</td><td>返回矩阵<strong>A</strong>的第 j1 列、第 j2 列等的列向量</td></tr><tr class="odd"><td>11</td><td>A([ i1 i2 …] : ,)</td><td>返回矩阵<strong>A</strong>的第 i1 行、第 i2 行等的行向量</td></tr><tr class="even"><td>12</td><td>A([ i1 i2 …] , [ j1 j2 …])</td><td>返回矩阵<strong>A</strong>的第 j1列、第 j2列等和矩阵<strong>A</strong>的第 i1 行、第 i2 行等的元素</td></tr></tbody></table><h3 id="单位矩阵和零矩阵">2 单位矩阵和零矩阵</h3><table><thead><tr class="header"><th></th><th>表达式</th><th>函数功能</th></tr></thead><tbody><tr class="odd"><td>1</td><td>ones(n)</td><td>建立一个n×n的1矩阵</td></tr><tr class="even"><td>2</td><td>ones(m,n,……,p)</td><td>建立一个m×n×……×p的1矩阵</td></tr><tr class="odd"><td>3</td><td>ones(size(A))</td><td>建立一个和矩阵A同样大小的1矩阵</td></tr><tr class="even"><td>4</td><td>zeros(n)</td><td>建立一个n×n的0矩阵</td></tr><tr class="odd"><td>5</td><td>zeros(m,n,……,p)</td><td>建立一个m×n×……×p的0矩阵</td></tr><tr class="even"><td>6</td><td>zeros(size(A))</td><td>建立一个和矩阵A同样大小的0矩阵</td></tr><tr class="odd"><td>7</td><td>eye(n)</td><td>建立一个n×n的单位矩阵</td></tr><tr class="even"><td>8</td><td>eye(m,n)</td><td>建立一个m×n的单位矩阵</td></tr><tr class="odd"><td>9</td><td>eye(size(A))</td><td>建立一个和矩阵A同样大小的单位矩阵</td></tr></tbody></table><p>Reference：</p><p>1.https://blog.csdn.net/zaishuiyifangxym/article/details/81746332</p><p>2.https://blog.csdn.net/huzhizhewudi/article/details/84404452?depth_1-</p>]]></content>
    
    
    
    <tags>
      
      <tag>MRIO</tag>
      
      <tag>MATLAB</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>投入产出分析学习笔记（三） 一个关于WIOD碳排的计算</title>
    <link href="/2020/08/14/%E6%8A%95%E5%85%A5%E4%BA%A7%E5%87%BA%E5%88%86%E6%9E%90%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89%E4%B8%80%E4%B8%AA%E5%85%B3%E4%BA%8EWIOD%E7%A2%B3%E6%8E%92%E7%9A%84%E8%AE%A1%E7%AE%97code/"/>
    <url>/2020/08/14/%E6%8A%95%E5%85%A5%E4%BA%A7%E5%87%BA%E5%88%86%E6%9E%90%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89%E4%B8%80%E4%B8%AA%E5%85%B3%E4%BA%8EWIOD%E7%A2%B3%E6%8E%92%E7%9A%84%E8%AE%A1%E7%AE%97code/</url>
    
    <content type="html"><![CDATA[<p>来源：https://github.com/FabioMonsalve/EEMRIO_Matlab</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><code class="hljs python">%% BASIC MODEL FOR ESTIMATING GLOBAL GREEN HOUSE GASES (GHG) EMISSIONS<br>% USING WIOD Database, release <span class="hljs-number">2013.</span><br>tic<br>clear<br>% setting parameters<br>s=<span class="hljs-number">35</span>;       % Number of sectors of WIOD Database<br>r=<span class="hljs-number">41</span>;       % Number of regions of WIOD Data<br>df=<span class="hljs-number">5</span>;       % Categories of final demanda<br>paises_wiod=[<span class="hljs-string">&#x27;AUS&#x27;</span>;<span class="hljs-string">&#x27;AUT&#x27;</span>;<span class="hljs-string">&#x27;BEL&#x27;</span>;<span class="hljs-string">&#x27;BGR&#x27;</span>;<span class="hljs-string">&#x27;BRA&#x27;</span>;<span class="hljs-string">&#x27;CAN&#x27;</span>;<span class="hljs-string">&#x27;CHN&#x27;</span>;<span class="hljs-string">&#x27;CYP&#x27;</span>;<span class="hljs-string">&#x27;CZE&#x27;</span>;<span class="hljs-string">&#x27;DEU&#x27;</span>;...<br>    <span class="hljs-string">&#x27;DNK&#x27;</span>;<span class="hljs-string">&#x27;ESP&#x27;</span>;<span class="hljs-string">&#x27;EST&#x27;</span>;<span class="hljs-string">&#x27;FIN&#x27;</span>;<span class="hljs-string">&#x27;FRA&#x27;</span>;<span class="hljs-string">&#x27;GBR&#x27;</span>;<span class="hljs-string">&#x27;GRC&#x27;</span>;<span class="hljs-string">&#x27;HUN&#x27;</span>;<span class="hljs-string">&#x27;IDN&#x27;</span>;<span class="hljs-string">&#x27;IND&#x27;</span>;<span class="hljs-string">&#x27;IRL&#x27;</span>;<span class="hljs-string">&#x27;ITA&#x27;</span>...<br>    ;<span class="hljs-string">&#x27;JPN&#x27;</span>;<span class="hljs-string">&#x27;KOR&#x27;</span>;<span class="hljs-string">&#x27;LTU&#x27;</span>;<span class="hljs-string">&#x27;LUX&#x27;</span>;<span class="hljs-string">&#x27;LVA&#x27;</span>;<span class="hljs-string">&#x27;MEX&#x27;</span>;<span class="hljs-string">&#x27;MLT&#x27;</span>;<span class="hljs-string">&#x27;NLD&#x27;</span>;<span class="hljs-string">&#x27;POL&#x27;</span>;<span class="hljs-string">&#x27;PRT&#x27;</span>;<span class="hljs-string">&#x27;ROU&#x27;</span>;<span class="hljs-string">&#x27;RUS&#x27;</span>...<br>    ;<span class="hljs-string">&#x27;SVK&#x27;</span>;<span class="hljs-string">&#x27;SVN&#x27;</span>;<span class="hljs-string">&#x27;SWE&#x27;</span>;<span class="hljs-string">&#x27;TUR&#x27;</span>;<span class="hljs-string">&#x27;TWN&#x27;</span>;<span class="hljs-string">&#x27;USA&#x27;</span>;<span class="hljs-string">&#x27;ROW&#x27;</span>];% 生成国家名的列向量，共<span class="hljs-number">41</span>个<br><br>% LOADING DATA -----------------------------------------------------------<br>% First retrived the required files <span class="hljs-keyword">from</span> http://www.wiod.org, release <span class="hljs-number">2013</span><br>% File the downloaded dataset <span class="hljs-keyword">in</span> the same directory than this code (<span class="hljs-keyword">or</span>,<br>% alternatively, change the <span class="hljs-built_in">set</span> Path preferences <span class="hljs-keyword">in</span> matlab)<br>% Loading Input-Output Table of last available year (<span class="hljs-number">2009</span>)<br>[num,txt]=xlsread(<span class="hljs-string">&#x27;wiot09_row_sep12.xlsx&#x27;</span>,<span class="hljs-string">&#x27;WIOT_2009&#x27;</span>,<span class="hljs-string">&#x27;e4:bkf1449&#x27;</span>);% 以num格式读取excel中的数字，以txt格式读取excel中的字符串<br>WIOT_09=num;% 将读取结果的数字部分命名为WIOT_09<br><br>% Loading Emissions of last available year (<span class="hljs-number">2009</span>)<br>EM_GHG=zeros(s*r,<span class="hljs-number">1</span>);% 建立一个行数为s*r，列数为<span class="hljs-number">1</span>的<span class="hljs-number">0</span>向量<br>% Loading emissions vectors <span class="hljs-keyword">for</span> <span class="hljs-built_in">all</span> wiod countries <span class="hljs-keyword">and</span> convert to CO2eq<br><span class="hljs-keyword">for</span> k=<span class="hljs-number">1</span>:r% k为<span class="hljs-number">1</span>到r的数值<br>    ini_k=(k-<span class="hljs-number">1</span>)*s+<span class="hljs-number">1</span>;% ini_k的计算<br>    fin_k=k*s; % fni_k的计算<br>    nombre_fichero=sprintf(<span class="hljs-string">&#x27;%s_AIR_May12.xls&#x27;</span>,paises_wiod(k,:));% 读取后缀名为AIR_MAY12的excel，前缀名为paises_wiod中的第k个<br>    EMI_TEMP1=(xlsread(nombre_fichero,<span class="hljs-string">&#x27;2009&#x27;</span>,<span class="hljs-string">&#x27;c2:j42&#x27;</span>));% 读取上一条excel中名为<span class="hljs-number">2009</span>的sheet<br>      % Removing NaN <span class="hljs-keyword">from</span> emissions matrix<br>        ind=find(isnan(EMI_TEMP1)); % 找到EMI_TEMP1中的空值<br>        EMI_TEMP1(ind)=<span class="hljs-number">0</span>;% 不知道什么意思，将空值赋值为<span class="hljs-number">0</span>？？？<br>    EMI_TEMP2(:,:)=EMI_TEMP1(<span class="hljs-number">1</span>:<span class="hljs-number">35</span>,:);% 新建一个变量，为右边向量中的<span class="hljs-number">1</span>-<span class="hljs-number">35</span>行，及所有的列<br>    EM_GHG(ini_k:fin_k)=EMI_TEMP2(:,<span class="hljs-number">1</span>)+EMI_TEMP2(:,<span class="hljs-number">2</span>)*(<span class="hljs-number">28</span>/<span class="hljs-number">1000</span>)+EMI_TEMP2(:,<span class="hljs-number">3</span>)*(<span class="hljs-number">265</span>/<span class="hljs-number">1000</span>);<br>end% 为什么要乘<span class="hljs-number">0.028</span>和<span class="hljs-number">0.265</span>？？？<br><br>% SOLVING DE MODEL -------------------------------------------------------<br>% Extracting Intermediate Consumption Matrix <span class="hljs-keyword">for</span> year <span class="hljs-number">2009</span><br>Z_09=WIOT_09(<span class="hljs-number">1</span>:s*r,<span class="hljs-number">1</span>:s*r);% Z矩阵为WIOT_09中的部门，s*r行和s*r列，起始位置为（<span class="hljs-number">1</span>，<span class="hljs-number">1</span>）<br>% Extracting Output row vector<br>Q_09=WIOT_09(<span class="hljs-number">1443</span>,<span class="hljs-number">1</span>:s*r);% Q矩阵，即总产量部分，为投入产出表的最后一行（第<span class="hljs-number">1443</span>行）<br>% Removing zeros% 将Q矩阵中为<span class="hljs-number">0</span>的值，赋值为<span class="hljs-number">1</span><br>    <span class="hljs-keyword">for</span> i=<span class="hljs-number">1</span>:s*r<br>        <span class="hljs-keyword">if</span> (Q_09(i)==<span class="hljs-number">0</span>) <br>            Q_09(i)=<span class="hljs-number">1</span>;<br>        end<br>    end<br><br>% Computing matrix of technical coefficientes<br>A_09=Z_09/diag(Q_09); % Alternatively A_09=Z_09*inv(diag(Q_09));% 计算投入技术矩阵，即完全消耗系数矩阵<br><br>% Computing Leontieff inverse<br>I=eye(s*r); <br>MQ_09=inv(I-A_09);<br><br>% Computing Emissions coefficientes<br>e_09=diag(EM_GHG)/diag(Q_09);<br><br>% Processing The bill of Final Demand<br>DF_WIOT_09=WIOT_09(<span class="hljs-number">1</span>:s*r,<span class="hljs-number">1436</span>:<span class="hljs-number">1640</span>);    % Isolation of Final Demand<br>DF_Country=zeros(s*r,r);<br>DF_09=zeros(s*r,s*r);  <br>    <span class="hljs-keyword">for</span> j=<span class="hljs-number">1</span>:r<br>       <span class="hljs-keyword">if</span> (j==<span class="hljs-number">1</span>)<br>            ini_country=<span class="hljs-number">1</span>;<br>            fin_country=df;<br>       <span class="hljs-keyword">else</span><br>            ini_country=df*(j-<span class="hljs-number">1</span>)+<span class="hljs-number">1</span>;<br>            fin_country=ini_country+(df-<span class="hljs-number">1</span>);<br>       end<br>        DF_Country(:,j)=<span class="hljs-built_in">sum</span>(DF_WIOT_09(:,ini_country:fin_country),<span class="hljs-number">2</span>);<br>        % - Diagonalization    <br>         ini_j=s*(j-<span class="hljs-number">1</span>)+<span class="hljs-number">1</span>;<br>         fin_j=ini_j+s-<span class="hljs-number">1</span>;<br>         <span class="hljs-keyword">for</span> i=<span class="hljs-number">1</span>:r<br>             ini_i=s*(i-<span class="hljs-number">1</span>)+<span class="hljs-number">1</span>;<br>             fin_i=ini_i+s-<span class="hljs-number">1</span>;<br>             DF_09(ini_i:fin_i,ini_j:fin_j)=diag(DF_Country(ini_i:fin_i,j));<br>         end<br>    end<br>    <br>% Computing GHG Emissions <span class="hljs-keyword">for</span> <span class="hljs-number">41</span> countries/resgions <span class="hljs-keyword">and</span> <span class="hljs-number">35</span> sectors<br>EM_GHG_41R35s_09=(e_09*MQ_09)*DF_09;<br><br>% EXPORTING RESULTS ------------------------------------------------------<br>% Writing row headings (region/country <span class="hljs-keyword">and</span> sector)<br>xlswrite(<span class="hljs-string">&#x27;Results_WIOD_Basic_Model_EMISS.xlsx&#x27;</span>,txt,<span class="hljs-string">&#x27;EMISS41R&#x27;</span>,<span class="hljs-string">&#x27;e4&#x27;</span>);    <br>% Writing column headings (region/country <span class="hljs-keyword">and</span> sector)<br>xlswrite(<span class="hljs-string">&#x27;Results_WIOD_Basic_Model_EMISS.xlsx&#x27;</span>,txt<span class="hljs-string">&#x27;,&#x27;</span>EMISS41<span class="hljs-string">R&#x27;,&#x27;</span>b7<span class="hljs-string">&#x27;);</span><br><span class="hljs-string">% Writing final results</span><br><span class="hljs-string">xlswrite(&#x27;</span>Results_WIOD_Basic_Model_EMISS.xlsx<span class="hljs-string">&#x27;,EM_GHG_41R35s_09,&#x27;</span>EMISS41<span class="hljs-string">R&#x27;,&#x27;</span>e7<span class="hljs-string">&#x27;);</span><br><span class="hljs-string"></span><br><span class="hljs-string">toc</span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br></code></pre></td></tr></table></figure><p>MATLAB关于矩阵的一些语法</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs less">冒号“:”可以表示矩阵中的多个元素。例如<span class="hljs-selector-tag">A</span>( <span class="hljs-number">1</span> : k , n )表示矩阵<span class="hljs-selector-tag">A</span>中第<span class="hljs-selector-tag">n</span>列的<span class="hljs-number">1</span>~<span class="hljs-selector-tag">k</span>的元素，<span class="hljs-selector-tag">B</span>( m , : )表示矩阵<span class="hljs-selector-tag">B</span>中第<span class="hljs-selector-tag">m</span>行的所有元素。<br><br>因此，根据上面的原理，<span class="hljs-selector-tag">a</span>( : , : , <span class="hljs-number">6</span>)表示取三维矩阵<span class="hljs-selector-tag">a</span>的所有第一维、第二维，第三维的第<span class="hljs-number">6</span>个元素，<span class="hljs-selector-tag">a</span>( : , : , <span class="hljs-number">1</span> : <span class="hljs-number">6</span> )表示取三维矩阵<span class="hljs-selector-tag">a</span>的所有第一维、第二维，第三维的第<span class="hljs-number">1</span>—<span class="hljs-number">6</span>个元素。<br><br>引自：<span class="hljs-selector-tag">https</span>:<span class="hljs-comment">//zhidao.baidu.com/question/181592920.html</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>MRIO</tag>
      
      <tag>投入产出分析</tag>
      
      <tag>Input-Output</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>投入产出分析学习笔记（二） 投入产出模型及其在经济分析与模拟中的应用</title>
    <link href="/2020/08/02/%E6%8A%95%E5%85%A5%E4%BA%A7%E5%87%BA%E5%88%86%E6%9E%90%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89%20%E4%B8%AD%E7%A7%91%E9%99%A2%E6%9D%A8%E7%BF%A0%E7%BA%A2-%E6%8A%95%E5%85%A5%E4%BA%A7%E5%87%BA%E6%A8%A1%E5%9E%8B%E7%AE%80%E8%A6%81%E4%BB%8B%E7%BB%8D/"/>
    <url>/2020/08/02/%E6%8A%95%E5%85%A5%E4%BA%A7%E5%87%BA%E5%88%86%E6%9E%90%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89%20%E4%B8%AD%E7%A7%91%E9%99%A2%E6%9D%A8%E7%BF%A0%E7%BA%A2-%E6%8A%95%E5%85%A5%E4%BA%A7%E5%87%BA%E6%A8%A1%E5%9E%8B%E7%AE%80%E8%A6%81%E4%BB%8B%E7%BB%8D/</url>
    
    <content type="html"><![CDATA[<p>主讲人：杨翠红 研究员 杰青</p><p>邮箱：chyang@iss.ac.cn</p><p>固话：010-82541803</p><p>单位：中国科学院数学与系统科学研究院</p><p>主持人：张林秀 杰青（TWAS院士） 复旦管理学杰出贡献奖（2014）</p><p><img src="https://i.loli.net/2020/08/02/ybxMEWloFu35Azf.jpg" /></p><p>引入：</p><p>经济联系、全球价值链、碳排放、经济模拟与预测、谈判...</p><p><img src="https://i.loli.net/2020/08/02/BaX9lpRJ2IHZ87v.png" style="zoom:67%;" /></p><h3 id="投入产出模型简要介绍">1投入产出模型简要介绍</h3><p><img src="https://i.loli.net/2020/08/02/Vjvp29s4SOG1Idf.png" style="zoom:80%;" /></p><p>用得较多的是42个部分的表，进口一般用“负值”表示</p><p>表中融合了GDP核算的三种方法！</p><p>实用的多以“价值型投入产出表”为主！实物型编制太难，量纲不同，建模较难！</p><h4 id="主要应用">1.1主要应用</h4><p>政策模拟与分析：<strong>一定要区分国内品和进口品</strong>，否则需要一些（进口比例）假定。</p><p>某一需求变动的影响：</p><p><img src="https://i.loli.net/2020/08/02/y4sP53twJmO2WCl.png" style="zoom:80%;" /><imgsrc="https://i.loli.net/2020/08/02/3Uz2FmPlJkGiKnT.png" /></p><p><img src="https://i.loli.net/2020/08/02/3Uz2FmPlJkGiKnT.png" style="zoom:80%;" /><imgsrc="https://i.loli.net/2020/08/02/douK1wCVMiseUhN.png" /></p><h4 id="投入占用产出技术">1.2投入占用产出技术</h4><p><img src="https://i.loli.net/2020/08/02/mpL2XciK1JutBoy.png" style="zoom:80%;" /><imgsrc="https://i.loli.net/2020/08/02/xAdXfhU3pmiwLD9.png" /></p><p><img src="https://i.loli.net/2020/08/02/s8gLhJVNxA73XzI.png" style="zoom:80%;" /></p><h3 id="应用举例">2应用举例</h3><h4 id="全球价值链与贸易利益">2.1全球价值链与贸易利益</h4><p><img src="https://i.loli.net/2020/08/02/Ud65kEiOLlzJrAV.png" style="zoom:80%;" /></p><p>用增加值刻画-<strong>trade in value-added</strong></p><p>比如iPad出口，全算中国的出口额，但在中国的增值只占很少一部分！</p><p>问题：</p><p><em>一国/地区出口产品往往由多个国家/地区生产，但现有的贸易统计：却均记载了最后的出口国/地区，<strong>存在严重的重复计算</strong></em></p><p><img src="https://i.loli.net/2020/08/02/ecy35YjlGCQd2B9.png" style="zoom:80%;" /><imgsrc="https://i.loli.net/2020/08/02/RyPsxgAfmprClqZ.png" /></p><p><img src="https://i.loli.net/2020/08/02/RyPsxgAfmprClqZ.png" style="zoom:80%;" /><imgsrc="https://i.loli.net/2020/08/02/qGut3eTaowJvLgC.png" /></p><p><img src="https://i.loli.net/2020/08/02/i6kuwGPvgBrtya9.png" style="zoom:80%;" /></p><p>==<strong>WIOT</strong>==</p><p>黄色为本地、蓝色为交互</p><p><img src="https://i.loli.net/2020/08/02/DGgQpSmjdXaPzrB.png" style="zoom:80%;" /></p><p>以双边贸易家各国表连接起来！</p><p><img src="https://i.loli.net/2020/08/02/qkPjLtFhSBbc5Jg.png" style="zoom:80%;" /></p><p><img src="https://i.loli.net/2020/08/02/tsXNZ5BjGRgQkl4.png" style="zoom:80%;" /><imgsrc="https://i.loli.net/2020/08/02/wciIgKYJRubGkyL.png" /></p><p><img src="https://i.loli.net/2020/08/02/wciIgKYJRubGkyL.png" style="zoom:80%;" /></p><p><img src="https://i.loli.net/2020/08/02/NOdTbaUk4XlSvr2.png" style="zoom:80%;" /><imgsrc="https://i.loli.net/2020/08/02/9SifoWJrd4QDLqt.png" /></p><p><img src="https://i.loli.net/2020/08/02/3OCpgB6jxXiAHZf.png" style="zoom:80%;" /></p><p>http://gvc.mofcom.gov.cn/gvc/index.shtml</p><p>全球价值链研究网站！</p><p><img src="https://i.loli.net/2020/08/02/mRW3qPGIXnS5BTd.png" style="zoom:80%;" /></p><p>Q：如果以增加值核算，中美、中欧的贸易顺差是？？？杨翠红研究员人文，这样中国贸易顺差将下降50%</p><p><img src="https://i.loli.net/2020/08/02/InicHtDKPBLxdme.png" style="zoom:80%;" /></p><p><img src="https://i.loli.net/2020/08/02/4hbTfzCY6sJUjlp.png" style="zoom:80%;" /></p><h4id="中美贸易摩擦的经济影响-基于贸易增加值的解读">2.2中美贸易摩擦的经济影响-基于贸易增加值的解读</h4><p><img src="https://i.loli.net/2020/08/02/DCN1EMglpjFB3tm.png" style="zoom:80%;" /></p><h4id="四万亿投资计划对我国经济的影响">2.3四万亿投资计划对我国经济的影响</h4><p><img src="https://i.loli.net/2020/08/02/mjkQZa8TYMxo4XI.png" style="zoom:67%;" /></p><p><img src="https://i.loli.net/2020/08/02/ReSLbjEZfDXVi8s.png" style="zoom:80%;" /></p><p><img src="https://i.loli.net/2020/08/02/Ng6AmJo54LKZWjd.png" style="zoom:80%;" /></p><p><img src="https://i.loli.net/2020/08/02/H5WuKjbNwiYr2m7.png" style="zoom:67%;" /></p><p>延伸：</p><p><img src="https://i.loli.net/2020/08/02/hdOokKrSQlD47jR.png" style="zoom:80%;" /></p><h4 id="价格模拟与预测中的应用">2.4价格模拟与预测中的应用</h4><p>很难</p><p><img src="https://i.loli.net/2020/08/02/YNJuBpL38QcGW5l.png" style="zoom:80%;" /></p><p><img src="https://i.loli.net/2020/08/02/eHYAh9cp6Er3BUu.png" style="zoom:80%;" /></p><p><img src="https://i.loli.net/2020/08/02/S8fpduJDUxHLEMK.png" style="zoom:80%;" /></p><p><img src="https://i.loli.net/2020/08/02/WIkC68SaqVYrotD.png" style="zoom:80%;" /></p><p><img src="https://i.loli.net/2020/08/02/tzcSMgmT4jiReVb.png" style="zoom:80%;" /></p><p>投入产出模型与预测：</p><p><img src="https://i.loli.net/2020/08/02/iBVNnXCuMRh5L6S.png" style="zoom:80%;" /></p><p>预测需要外生输入！</p><h3 id="注意事项">3注意事项</h3><h4 id="时效性">3.1时效性</h4><p><img src="https://i.loli.net/2020/08/02/px2gGCDZ95a7IAv.png" style="zoom:80%;" /></p><p>年度化！欧盟、OECD</p><h4 id="异质性">3.2异质性</h4><p>特别是企业异质性</p><h3 id="qa"><strong>Q&amp;A</strong>：</h3><p>Q1：EIO与IO分析的区别；</p><p>A1：环境投入产出表，将IO扩展到环境领域。现在是，在IO中增加环境账户，编一个环境排放矩阵！</p><p>Q2：市级投入产出表的编制进展；</p><p>A2：河北编制了13个城市的IO表。青岛编制过某一个年份。国家统计局要求省级编，但对市没有要求。</p><p>Q3：供应链和价值链的根本区别；省级IO的状况，IO在气候变化领域；哪里能拿到省级的IO表。</p><p>A3：省级的IO表，从07年起，国家统计局公开出版，附电子版。可以和各省统计局联系。三链：价值链是核算的结果，前边为产业链、供应链。气候变化领域，主要有温室气体排放、气候谈判（生产者责任、消费者责任、共享责任）。</p><p>Q4：可以用环境的结果替代增加值部分吗？</p><p>A4：不能。实际上是两个问题，xx是外生的。</p><p>Q5：竞争型与非竞争型表的区别；</p><p>A5：源于日本。竞争型的IO表不区分国内品和进口品的中间投入，非竞争型区分。国际上不怎么提，一般区分。（日本会不会有教程？）</p><p>Q6：目前刻画疫情可以用哪些数据；</p><p>A6：IO是后端，需要知道前端的变化。OECD、IMF有相关报告。</p><p>Q7：环境投入扩展表里环境排放的间接排放有间接消耗乘数，能源消耗表有吗；</p><p>A7：一样的。</p><p>Q8：MRIO有2007 2010 2012？如何转换年份；有2015年吗？</p><p>A8：2015年还没出，地理所刘卫东团队在编MRIO，李善同、石敏俊也在编。10年的，刘卫东老师有一本书。补充，关大博有2015年，CEADs。</p><p>Q9：全球表有近些年的数据的表吗？</p><p>A9：ADB（亚洲开发银行），OECD15年，今年可能发布到2018年，WIOD暂未有更新。EUR有2015年。</p>]]></content>
    
    
    
    <tags>
      
      <tag>MRIO</tag>
      
      <tag>投入产出分析</tag>
      
      <tag>Input-Output</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MATLAB学习笔记（四） 基础绘图Basic Plotting structure and File access</title>
    <link href="/2020/08/01/MATLAB%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E5%9B%9B%EF%BC%89%20%E5%9F%BA%E7%A1%80%E7%BB%98%E5%9B%BE/"/>
    <url>/2020/08/01/MATLAB%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E5%9B%9B%EF%BC%89%20%E5%9F%BA%E7%A1%80%E7%BB%98%E5%9B%BE/</url>
    
    <content type="html"><![CDATA[<h3 id="基础">1基础</h3><h4 id="plot">1.1plot()</h4><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs matlab">ploy(x,y)plots each vector pairs (x,y)<br><span class="hljs-built_in">plot</span>(y) plots each vector pairs (x,y),where x=[<span class="hljs-number">1</span>…n], n=<span class="hljs-built_in">length</span>(y) 默认横轴为<span class="hljs-number">1.2</span><span class="hljs-number">.3</span><span class="hljs-number">.4</span>...<br><span class="hljs-built_in">plot</span>(<span class="hljs-built_in">cos</span>(<span class="hljs-number">0</span>:<span class="hljs-built_in">pi</span>/<span class="hljs-number">20</span>:<span class="hljs-number">2</span>*<span class="hljs-built_in">pi</span>));第一个图！<br></code></pre></td></tr></table></figure><p>一幅图中多个曲线：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs matlab"><span class="hljs-built_in">hold</span> on<br><span class="hljs-built_in">plot</span>(<span class="hljs-built_in">cos</span>(<span class="hljs-number">0</span>:<span class="hljs-built_in">pi</span>/<span class="hljs-number">20</span>:<span class="hljs-number">2</span>*<span class="hljs-built_in">pi</span>));<br><span class="hljs-built_in">plot</span>(<span class="hljs-built_in">sin</span>(<span class="hljs-number">0</span>:<span class="hljs-built_in">pi</span>/<span class="hljs-number">20</span>:<span class="hljs-number">2</span>*<span class="hljs-built_in">pi</span>));<br><span class="hljs-built_in">hold</span> off<br><br>也可以<br><br>x = <span class="hljs-number">0</span>:<span class="hljs-built_in">pi</span>/<span class="hljs-number">100</span>:<span class="hljs-number">2</span>*<span class="hljs-built_in">pi</span>;<br>y = <span class="hljs-built_in">sin</span>(x);<br>y2 = <span class="hljs-built_in">sin</span>(x<span class="hljs-number">-.25</span>);<br>y3 = <span class="hljs-built_in">sin</span>(x<span class="hljs-number">-.5</span>);<br><span class="hljs-built_in">plot</span>(x,y,x,y2,x,y3)<br><br>标识<br><span class="hljs-built_in">legend</span>(<span class="hljs-string">&#x27;sin(x)&#x27;</span>,<span class="hljs-string">&#x27;sin(x-.25)&#x27;</span>,<span class="hljs-string">&#x27;sin(x-.5)&#x27;</span>)<br></code></pre></td></tr></table></figure><h4 id="plot-style">1.2plot style</h4><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs matlab"><span class="hljs-built_in">plot</span>(x,y,<span class="hljs-string">&#x27;str&#x27;</span>) plots each vector pairs (x,y) using the format defined in str (check linespec)<br></code></pre></td></tr></table></figure><p><img src="https://i.loli.net/2020/08/01/m6WvyZ3Yr2Qwnkc.png" style="zoom:80%;" /></p><p>改变颜色、线条，也可以在绘图框：查看→绘图浏览器，手动更改！</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs matlab">x=<span class="hljs-number">0</span>:<span class="hljs-number">0.5</span>:<span class="hljs-number">4</span>*<span class="hljs-built_in">pi</span>;<br>y=<span class="hljs-built_in">sin</span>(x); h=<span class="hljs-built_in">cos</span>(x); w=<span class="hljs-number">1.</span>/(<span class="hljs-number">1</span>+<span class="hljs-built_in">exp</span>(-x));<br>g=(<span class="hljs-number">1</span>/(<span class="hljs-number">2</span>*<span class="hljs-built_in">pi</span>*<span class="hljs-number">2</span>)^<span class="hljs-number">0.5</span>).*<span class="hljs-built_in">exp</span>((<span class="hljs-number">-1.</span>*(x<span class="hljs-number">-2</span>*<span class="hljs-built_in">pi</span>).^<span class="hljs-number">2</span>)./(<span class="hljs-number">2</span>*<span class="hljs-number">2</span>^<span class="hljs-number">2</span>));<br><span class="hljs-built_in">plot</span>(x,y,<span class="hljs-string">&#x27;bd-&#x27;</span>,x,h,<span class="hljs-string">&#x27;gp:&#x27;</span>,x,w,<span class="hljs-string">&#x27;ro-&#x27;</span>,x,g,<span class="hljs-string">&#x27;c^-&#x27;</span>);<br><br><span class="hljs-built_in">legend</span>(<span class="hljs-string">&#x27;sin(x)&#x27;</span>,<span class="hljs-string">&#x27;cos(x)&#x27;</span>,<span class="hljs-string">&#x27;Sigmoid&#x27;</span>,<span class="hljs-string">&#x27;Gauss function&#x27;</span>);加标识<br></code></pre></td></tr></table></figure><h4 id="title-and-label">1.3title() and label()</h4><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs matlab">x = <span class="hljs-number">0</span>:<span class="hljs-number">0.1</span>:<span class="hljs-number">2</span>*<span class="hljs-built_in">pi</span>; y1 = <span class="hljs-built_in">sin</span>(x); y2 = <span class="hljs-built_in">exp</span>(-x);<br><span class="hljs-built_in">plot</span>(x, y1, <span class="hljs-string">&#x27;--*&#x27;</span>, x, y2, <span class="hljs-string">&#x27;:o&#x27;</span>);<br>xlabel(<span class="hljs-string">&#x27;t = 0 to 2\pi&#x27;</span>);x轴标题，\为转义字符<br>ylabel(<span class="hljs-string">&#x27;values of sin(t) and e^&#123;-x&#125;&#x27;</span>)y轴标题<br>title(<span class="hljs-string">&#x27;Function Plots of sin(t) and e^&#123;-x&#125;&#x27;</span>);加图名<br><span class="hljs-built_in">legend</span>(<span class="hljs-string">&#x27;sin(t)&#x27;</span>,<span class="hljs-string">&#x27;e^&#123;-x&#125;&#x27;</span>);加图标<br></code></pre></td></tr></table></figure><h4 id="text-and-annotataion">1.4text() and annotataion()</h4><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs matlab">x = <span class="hljs-built_in">linspace</span>(<span class="hljs-number">0</span>,<span class="hljs-number">3</span>); y = x.^<span class="hljs-number">2.</span>*<span class="hljs-built_in">sin</span>(x); <span class="hljs-built_in">plot</span>(x,y);<br>line([<span class="hljs-number">2</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">0</span>,<span class="hljs-number">2</span>^<span class="hljs-number">2</span>*<span class="hljs-built_in">sin</span>(<span class="hljs-number">2</span>)]);<br>str = <span class="hljs-string">&#x27;$$ \int_&#123;0&#125;^&#123;2&#125; x^2\sin(x) dx $$&#x27;</span>;latex语法<br>text(<span class="hljs-number">0.25</span>,<span class="hljs-number">2.5</span>,str,<span class="hljs-string">&#x27;Interpreter&#x27;</span>,<span class="hljs-string">&#x27;latex&#x27;</span>);显示字符串的位置，解释器latex<br>annotation(<span class="hljs-string">&#x27;arrow&#x27;</span>,<span class="hljs-string">&#x27;X&#x27;</span>,[<span class="hljs-number">0.32</span>,<span class="hljs-number">0.5</span>],<span class="hljs-string">&#x27;Y&#x27;</span>,[<span class="hljs-number">0.6</span>,<span class="hljs-number">0.4</span>]);箭头起终位置<br></code></pre></td></tr></table></figure><h4 id="figure-adjustment">1.5figure adjustment</h4><p><img src="https://i.loli.net/2020/08/01/jiRlvwI5qDZ6gpP.png" style="zoom:80%;" /></p><p><strong>属性检查器</strong>可以更改很多绘图对象！</p><h3 id="更多自定义">2更多自定义</h3><p><img src="https://i.loli.net/2020/08/01/vK5GSPZsQaf7iLn.png" style="zoom:80%;" /></p><h4 id="设定边界">2.1设定边界</h4><p><img src="https://i.loli.net/2020/08/01/UrTphAX5Ne3zMwC.png" style="zoom:80%;" /></p><p>各种自定义，但用属性编辑器调整，更为直观！</p><h4 id="多图">2.2多图</h4><p>figure命令,</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs matlab">x = <span class="hljs-number">-10</span>:<span class="hljs-number">0.1</span>:<span class="hljs-number">10</span>;<br>y1 = x.^<span class="hljs-number">2</span> - <span class="hljs-number">8</span>;<br>y2 = <span class="hljs-built_in">exp</span>(x);<br><span class="hljs-built_in">figure</span>, <span class="hljs-built_in">plot</span>(x,y1);<br><span class="hljs-built_in">figure</span>, <span class="hljs-built_in">plot</span>(x,y2);<br></code></pre></td></tr></table></figure><p>Figure Position and Size 有点像css</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs matlab"><span class="hljs-built_in">figure</span>(<span class="hljs-string">&#x27;Position&#x27;</span>, [left, bottom, width, height]);<br></code></pre></td></tr></table></figure><p>多图合一：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs matlab">subplot(m, n,<span class="hljs-number">1</span>);<br></code></pre></td></tr></table></figure><p><img src="https://i.loli.net/2020/08/01/cBTfr2zmJpM3yDF.png" style="zoom:67%;" /></p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs matlab">t = <span class="hljs-number">0</span>:<span class="hljs-number">0.1</span>:<span class="hljs-number">2</span>*<span class="hljs-built_in">pi</span>; x = <span class="hljs-number">3</span>*<span class="hljs-built_in">cos</span>(t); y = <span class="hljs-built_in">sin</span>(t);<br>subplot(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>); <span class="hljs-built_in">plot</span>(x, y); axis normal<br>subplot(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>); <span class="hljs-built_in">plot</span>(x, y); axis square<br>subplot(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>); <span class="hljs-built_in">plot</span>(x, y); axis equal<br>subplot(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>); <span class="hljs-built_in">plot</span>(x, y); axis equal tight<br></code></pre></td></tr></table></figure><p><img src="https://i.loli.net/2020/08/01/X6ayoqYjC27iLZO.png" style="zoom:80%;" /></p><h4 id="一些功能">2.3一些功能</h4><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs matlab">grid on/off Make the grid visible or invisible<br>box on/off Make the box visible or invisible<br>axis on/off Make the axes visible or invisible<br>axis normal Automatically adjust the aspect ratio of the axes<br>and the relative scaling of the data units<br>axis square Make the current axes region square<br>axis equal Set the aspect ratio so that the data units are the<br>same in every direction<br>axis equal tight Set the axis limits to the range of the data<br>axis image Let the <span class="hljs-built_in">plot</span> box fits tightly around the data<br>axis ij Place the origin of the coordinate system in the<br>upper left corner<br>axis xy Place the origin in the lower left corner<br></code></pre></td></tr></table></figure><h4 id="保存">2.4保存</h4><p><img src="https://i.loli.net/2020/08/01/VG9UWl4MACOpn7K.png" style="zoom:80%;" /></p><p>print 输出高解析度图片！</p>]]></content>
    
    
    
    <tags>
      
      <tag>MRIO</tag>
      
      <tag>MATLAB</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MATLAB学习笔记（三） 数据或变量的类型转换与存取 Data structure and File access</title>
    <link href="/2020/07/31/MATLAB%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89%20%E6%95%B0%E6%8D%AE%E6%88%96%E5%8F%98%E9%87%8F%E7%9A%84%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E4%B8%8E%E5%AD%98%E5%8F%96/"/>
    <url>/2020/07/31/MATLAB%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89%20%E6%95%B0%E6%8D%AE%E6%88%96%E5%8F%98%E9%87%8F%E7%9A%84%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E4%B8%8E%E5%AD%98%E5%8F%96/</url>
    
    <content type="html"><![CDATA[<h3 id="数据或变量的类型转换">1数据或变量的类型转换</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs matlab">double() Convert to double precision<br>single() Convert to single precision<br>int8() Convert to <span class="hljs-number">8</span>-bit signed integer<br>int16() Convert to <span class="hljs-number">16</span>-bit signed integer<br>int32() Convert to <span class="hljs-number">32</span>-bit signed integer<br>int64() Convert to <span class="hljs-number">64</span>-bit signed integer<br>uint8() Convert to <span class="hljs-number">8</span>-bit unsigned integer<br>uint16() Convert to <span class="hljs-number">16</span>-bit unsigned integer<br>uint32() Convert to <span class="hljs-number">32</span>-bit unsigned integer<br>uint64() Convert to <span class="hljs-number">64</span>-bit unsigned integer<br></code></pre></td></tr></table></figure><p>例：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs matlab">A = <span class="hljs-number">20</span><br>B = int8(<span class="hljs-number">20</span>)<br>B = int8(A)<br></code></pre></td></tr></table></figure><h4 id="字符-characterchar">1.1字符 character（char）</h4><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-built_in">s1</span> = <span class="hljs-string">&#x27;h&#x27;</span>    将字母h指定到<span class="hljs-built_in">s1</span>，注意要家单引号<br>whos<br>uint16(<span class="hljs-built_in">s1</span>)  将<span class="hljs-built_in">s1</span>还原成 ASCII码<br></code></pre></td></tr></table></figure><h4 id="字符串-string">1.2字符串 string</h4><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">s1</span> = <span class="hljs-string">&#x27;Example&#x27;</span><span class="hljs-comment">;</span><br><span class="hljs-attr">s2</span> = <span class="hljs-string">&#x27;String&#x27;</span><span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure><p>字符串可以组合变换：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs matlab">s3 = [s1 s2];横向组合<br>s4 = [s1; s2];纵向组合，此处会显示“要串联的数组的维度不一致”。<br></code></pre></td></tr></table></figure><h4 id="logical-operations-and-assignments">1.3Logical Operations andAssignments</h4><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs tap">str = &#x27;aardvark&#x27;;<br>str(3)会显示出“r”，即依据字符串的第三个字母索引<br>&#x27;a&#x27; == str结果显示   “1  <span class="hljs-number"> 1 </span> <span class="hljs-number"> 0 </span> <span class="hljs-number"> 0 </span> <span class="hljs-number"> 0 </span> <span class="hljs-number"> 1 </span> <span class="hljs-number"> 0 </span>  0”  此处两个等号，为逻辑判断，这里是将字母a与字符串每一序位的字母相比较<br></code></pre></td></tr></table></figure><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs matlab">str(str == <span class="hljs-string">&#x27;a&#x27;</span>) = <span class="hljs-string">&#x27;Z&#x27;</span>这里，就是将字符串中a字母替换成z，即，一个等号为赋值<br></code></pre></td></tr></table></figure><p>strcmp（）比较两个字符串是否相同：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-selector-tag">a</span> = <span class="hljs-string">&#x27;asdf&#x27;</span><br>b=<span class="hljs-string">&#x27;zxcv&#x27;</span><br><span class="hljs-function"><span class="hljs-title">strcmp</span><span class="hljs-params">(a,b)</span></span><br></code></pre></td></tr></table></figure><p>将字符串倒序，以下三种方式皆可：</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">s2</span> = fliplr(s1)<br><span class="hljs-attr">s2</span> = reverse(s1)<br><span class="hljs-attr">s2</span> = s1(end:-<span class="hljs-number">1</span>:<span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure><h4 id="structure">1.4structure</h4><p>一种存储异构数据的方法，相当于python中的字典？<strong>结构体数组</strong>？</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs matlab">student.name = <span class="hljs-string">&#x27;John Doe&#x27;</span>;<br>student.id = <span class="hljs-string">&#x27;jdo2@sfu.ca&#x27;</span>;<br>student.number = <span class="hljs-number">301073268</span>;<br>student.grade = [<span class="hljs-number">100</span>, <span class="hljs-number">75</span>, <span class="hljs-number">73</span>; <span class="hljs-number">95</span>, <span class="hljs-number">91</span>, <span class="hljs-number">85.5</span>; <span class="hljs-number">100</span>, <span class="hljs-number">98</span>, <span class="hljs-number">72</span>];<br>student<br><br>结果不会直接显示分数， 输入 student.grade会全部显示<br></code></pre></td></tr></table></figure><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs matlab">student(<span class="hljs-number">2</span>).name = <span class="hljs-string">&#x27;Ann Lane&#x27;</span>;<br>student(<span class="hljs-number">2</span>).id = <span class="hljs-string">&#x27;aln4@sfu.ca&#x27;</span>;<br>student(<span class="hljs-number">2</span>).number = <span class="hljs-number">301078853</span>;<br>student(<span class="hljs-number">2</span>).grade = [<span class="hljs-number">95</span> <span class="hljs-number">100</span> <span class="hljs-number">90</span>; <span class="hljs-number">95</span> <span class="hljs-number">82</span> <span class="hljs-number">97</span>; <span class="hljs-number">100</span> <span class="hljs-number">85</span> <span class="hljs-number">100</span>];<br>student(<span class="hljs-number">2</span>).grade(<span class="hljs-number">3</span>)找出第二个学生的第三项成绩（注意从上到下、从左到右数）<br></code></pre></td></tr></table></figure><p><img src="https://i.loli.net/2020/07/31/9J5mfQDxOjzdKCv.png" style="zoom:50%;" /></p><figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs smali">cell2struct Convert cell<span class="hljs-built_in"> array </span>to structure<span class="hljs-built_in"> array</span><br><span class="hljs-built_in"></span>fieldnames Field names of structure,<span class="hljs-built_in"> or </span>public fields of object<br>getfield Field of structure<span class="hljs-built_in"> array</span><br><span class="hljs-built_in"></span>isfield Determine whether input is structure<span class="hljs-built_in"> array </span>field<br>isstruct Determine whether input is structure<span class="hljs-built_in"> array</span><br><span class="hljs-built_in"></span>orderfields Order fields of structure<span class="hljs-built_in"> array</span><br><span class="hljs-built_in"></span>rmfield Remove fields from structure<br>setfield Assign values to structure<span class="hljs-built_in"> array </span>field<br>struct Create structure<span class="hljs-built_in"> array</span><br><span class="hljs-built_in"></span>struct2cell Convert structure to cell<span class="hljs-built_in"> array</span><br><span class="hljs-built_in"></span>structfun Apply function to each field of scalar structure<br></code></pre></td></tr></table></figure><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">fieldnames</span><span class="hljs-params">(student)</span></span>列出数据组有哪些类<br><span class="hljs-function"><span class="hljs-title">rmfield</span><span class="hljs-params">(student,<span class="hljs-string">&#x27;id&#x27;</span>)</span></span>删除id这一类<br></code></pre></td></tr></table></figure><h4 id="nesting-structures嵌套结构">1.5Nesting Structures嵌套结构</h4><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs prolog"><span class="hljs-symbol">A</span> = struct(<span class="hljs-string">&#x27;data&#x27;</span>, [<span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">7</span>; <span class="hljs-number">8</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span>], <span class="hljs-string">&#x27;nest&#x27;</span>, struct(<span class="hljs-string">&#x27;testnum&#x27;</span>, <span class="hljs-string">&#x27;Test 1&#x27;</span>, <span class="hljs-string">&#x27;xdata&#x27;</span>, [<span class="hljs-number">4</span> <span class="hljs-number">2</span> <span class="hljs-number">8</span>],<span class="hljs-string">&#x27;ydata&#x27;</span>, [<span class="hljs-number">7</span> <span class="hljs-number">1</span> <span class="hljs-number">6</span>]));<br><span class="hljs-symbol">A</span>(<span class="hljs-number">2</span>).data = [<span class="hljs-number">9</span> <span class="hljs-number">3</span> <span class="hljs-number">2</span>; <span class="hljs-number">7</span> <span class="hljs-number">6</span> <span class="hljs-number">5</span>];<br><span class="hljs-symbol">A</span>(<span class="hljs-number">2</span>).nest.testnum = <span class="hljs-string">&#x27;Test 2&#x27;</span>;<br><span class="hljs-symbol">A</span>(<span class="hljs-number">2</span>).nest.xdata = [<span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">2</span>];<br><span class="hljs-symbol">A</span>(<span class="hljs-number">2</span>).nest.ydata = [<span class="hljs-number">5</span> <span class="hljs-number">0</span> <span class="hljs-number">9</span>];<br><span class="hljs-symbol">A</span>.nest<br></code></pre></td></tr></table></figure><h4 id="cell-array单元数组">1.6cell array单元数组</h4><p>分块指定</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs matlab">A(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>)=&#123;[<span class="hljs-number">1</span> <span class="hljs-number">4</span> <span class="hljs-number">3</span>; <span class="hljs-number">0</span> <span class="hljs-number">5</span> <span class="hljs-number">8</span>; <span class="hljs-number">7</span> <span class="hljs-number">2</span> <span class="hljs-number">9</span>]&#125;;<br>A(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)=&#123;<span class="hljs-string">&#x27;Anne Smith&#x27;</span>&#125;;<br>A(<span class="hljs-number">2</span>,<span class="hljs-number">1</span>)=&#123;<span class="hljs-number">3</span>+<span class="hljs-number">7</span><span class="hljs-built_in">i</span>&#125;;<br>A(<span class="hljs-number">2</span>,<span class="hljs-number">2</span>)=&#123;-<span class="hljs-built_in">pi</span>:<span class="hljs-built_in">pi</span>:<span class="hljs-built_in">pi</span>&#125;;<br>A<br>或<br>A&#123;<span class="hljs-number">1</span>,<span class="hljs-number">1</span>&#125;=[<span class="hljs-number">1</span> <span class="hljs-number">4</span> <span class="hljs-number">3</span>; <span class="hljs-number">0</span> <span class="hljs-number">5</span> <span class="hljs-number">8</span>; <span class="hljs-number">7</span> <span class="hljs-number">2</span> <span class="hljs-number">9</span>];<br>A&#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>&#125;=<span class="hljs-string">&#x27;Anne Smith&#x27;</span>;<br>A&#123;<span class="hljs-number">2</span>,<span class="hljs-number">1</span>&#125;=<span class="hljs-number">3</span>+<span class="hljs-number">7</span><span class="hljs-built_in">i</span>;<br>A&#123;<span class="hljs-number">2</span>,<span class="hljs-number">2</span>&#125;=-<span class="hljs-built_in">pi</span>:<span class="hljs-built_in">pi</span>:<span class="hljs-built_in">pi</span>;<br>A<br></code></pre></td></tr></table></figure><p>执行结果如下：</p><p><img src="https://i.loli.net/2020/07/31/mTOUBIWH1CF2Dw9.png" style="zoom:50%;" /></p><p>读取时需要使用大括号：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs matlab">A&#123;<span class="hljs-number">1</span>,<span class="hljs-number">1</span>&#125;<br>A&#123;<span class="hljs-number">1</span>,<span class="hljs-number">1</span>&#125;(<span class="hljs-number">3</span>)<br></code></pre></td></tr></table></figure><p>cell array functions:</p><figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs smali">cell Create cell<span class="hljs-built_in"> array</span><br><span class="hljs-built_in"></span>cell2mat Convert cell<span class="hljs-built_in"> array </span>to numeric<span class="hljs-built_in"> array</span><br><span class="hljs-built_in"></span>cell2struct Convert cell<span class="hljs-built_in"> array </span>to structure<span class="hljs-built_in"> array</span><br><span class="hljs-built_in"></span>celldisp Cell<span class="hljs-built_in"> array </span>contents<br>cellfun Apply function to each cell in cell<span class="hljs-built_in"> array</span><br><span class="hljs-built_in"></span>cellplot Graphically display structure of cell<span class="hljs-built_in"> array</span><br><span class="hljs-built_in"></span>cellstr Create cell<span class="hljs-built_in"> array </span>of strings from character<span class="hljs-built_in"> array</span><br><span class="hljs-built_in"></span>iscell Determine whether input is cell<span class="hljs-built_in"> array</span><br><span class="hljs-built_in"></span>mat2cell Convert<span class="hljs-built_in"> array </span>to cell<span class="hljs-built_in"> array </span>with different sized cells<br>num2cell Convert<span class="hljs-built_in"> array </span>to cell<span class="hljs-built_in"> array </span>with consistently sized cells<br>struct2cell Convert structure to cell array<br></code></pre></td></tr></table></figure><p>matrix与cell的转换：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-selector-tag">a</span> = <span class="hljs-built_in">magic</span>(<span class="hljs-number">3</span>)magic表示魔法矩阵，每行每列以及对角线之和相等<br><span class="hljs-selector-tag">b</span> = <span class="hljs-built_in">num2cell</span>(a)<br>c = <span class="hljs-built_in">mat2cell</span>(<span class="hljs-selector-tag">a</span>, <span class="hljs-selector-attr">[1 1 1]</span>, <span class="hljs-number">3</span>)  <span class="hljs-number">3</span>表示将三个column放一起<br></code></pre></td></tr></table></figure><h4 id="multidimensional-array多维数组">1.7MultidimensionalArray多维数组</h4><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs dns"><span class="hljs-keyword">A</span>&#123;<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>&#125; = [<span class="hljs-number">1 2;4 5</span>]<span class="hljs-comment">;</span><br><span class="hljs-keyword">A</span>&#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>&#125; = &#x27;Name&#x27;<span class="hljs-comment">;</span><br><span class="hljs-keyword">A</span>&#123;<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>&#125; = <span class="hljs-number">2</span>-<span class="hljs-number">4</span>i<span class="hljs-comment">;</span><br><span class="hljs-keyword">A</span>&#123;<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>&#125; = <span class="hljs-number">7</span><span class="hljs-comment">;</span><br><span class="hljs-keyword">A</span>&#123;<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>&#125; = &#x27;Name2&#x27;<span class="hljs-comment">;</span><br><span class="hljs-keyword">A</span>&#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>&#125; = <span class="hljs-number">3</span><span class="hljs-comment">;</span><br><span class="hljs-keyword">A</span>&#123;<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>&#125; = <span class="hljs-number">0</span>:<span class="hljs-number">1</span>:<span class="hljs-number">3</span><span class="hljs-comment">;</span><br><span class="hljs-keyword">A</span>&#123;<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>&#125; = [<span class="hljs-number">4</span> <span class="hljs-number">5</span>]&#x27;<span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure><p><img src="https://i.loli.net/2020/07/31/eg9IZTMObGqypAi.png" style="zoom: 50%;" /><imgsrc="https://i.loli.net/2020/07/31/IxUscMYaPDVjZCy.png" /></p><p><img src="https://i.loli.net/2020/07/31/IxUscMYaPDVjZCy.png" style="zoom:50%;" /></p><p>也可以用cat命令：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">A</span>=[<span class="hljs-number">1</span> <span class="hljs-number">2</span>;<span class="hljs-number">3</span> <span class="hljs-number">4</span>]; B=[<span class="hljs-number">5</span> <span class="hljs-number">6</span>;<span class="hljs-number">7</span> <span class="hljs-number">8</span>];<br><span class="hljs-attribute">C</span>=cat(<span class="hljs-number">1</span>,A,B) <span class="hljs-number">1</span>为纵向合并，即row<br><span class="hljs-attribute">C</span>=cat(<span class="hljs-number">2</span>,A,B) <span class="hljs-number">2</span>为横向合并，即column<br><span class="hljs-attribute">C</span>=cat(<span class="hljs-number">3</span>,A,B)<span class="hljs-number">3</span>为高维合并，即layer<br></code></pre></td></tr></table></figure><p>如图所示：</p><p><img src="https://i.loli.net/2020/07/31/5dqNHgJxoSzIm4w.png" style="zoom:80%;" /></p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs matlab">A&#123;<span class="hljs-number">1</span>,<span class="hljs-number">1</span>&#125; = [<span class="hljs-number">1</span> <span class="hljs-number">2</span>;<span class="hljs-number">4</span> <span class="hljs-number">5</span>];<br>A&#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>&#125; = <span class="hljs-string">&#x27;Name&#x27;</span>;<br>A&#123;<span class="hljs-number">2</span>,<span class="hljs-number">1</span>&#125; = <span class="hljs-number">2</span><span class="hljs-number">-4</span><span class="hljs-built_in">i</span>;<br>A&#123;<span class="hljs-number">2</span>,<span class="hljs-number">2</span>&#125; = <span class="hljs-number">7</span>;<br>B&#123;<span class="hljs-number">1</span>,<span class="hljs-number">1</span>&#125; = <span class="hljs-string">&#x27;Name2&#x27;</span>;<br>B&#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>&#125; = <span class="hljs-number">3</span>;<br>B&#123;<span class="hljs-number">2</span>,<span class="hljs-number">1</span>&#125; = <span class="hljs-number">0</span>:<span class="hljs-number">1</span>:<span class="hljs-number">3</span>;<br>B&#123;<span class="hljs-number">2</span>,<span class="hljs-number">2</span>&#125; = [<span class="hljs-number">4</span> <span class="hljs-number">5</span>]&#x27;;<br>C = <span class="hljs-built_in">cat</span>(<span class="hljs-number">3</span>, A, B)<br></code></pre></td></tr></table></figure><p><strong>reshape</strong></p><p>Returns a new array with assigned rows and columns</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs matlab">A = &#123;<span class="hljs-string">&#x27;James Bond&#x27;</span>, [<span class="hljs-number">1</span> <span class="hljs-number">2</span>;<span class="hljs-number">3</span> <span class="hljs-number">4</span>;<span class="hljs-number">5</span> <span class="hljs-number">6</span>]; <span class="hljs-built_in">pi</span>, <span class="hljs-built_in">magic</span>(<span class="hljs-number">5</span>)&#125;<br>C = <span class="hljs-built_in">reshape</span>(A,<span class="hljs-number">1</span>,<span class="hljs-number">4</span>)   将<span class="hljs-number">2</span>x2矩阵转成<span class="hljs-number">1</span>x4矩阵<br></code></pre></td></tr></table></figure><h4 id="checking-variable-and-variable-status检查变量类型">1.8CheckingVariable And Variable Status检查变量类型</h4><figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs smali">isinteger Determine<span class="hljs-built_in"> if </span>input is integer<span class="hljs-built_in"> array</span><br><span class="hljs-built_in"></span>islogical Determine<span class="hljs-built_in"> if </span>input is logical<span class="hljs-built_in"> array</span><br><span class="hljs-built_in"></span>isnan Detect an element that isnot a number (NaN)<br>isnumeric Determine<span class="hljs-built_in"> if </span>input is numeric<span class="hljs-built_in"> array</span><br><span class="hljs-built_in"></span>isprime Detect prime elements of<span class="hljs-built_in"> array</span><br><span class="hljs-built_in"></span>isreal Determine<span class="hljs-built_in"> if </span>all<span class="hljs-built_in"> array </span>elements are real numbers<br>iscell Determine<span class="hljs-built_in"> if </span>input is cell<span class="hljs-built_in"> array</span><br><span class="hljs-built_in"></span>ischar Determine<span class="hljs-built_in"> if </span>input is character<span class="hljs-built_in"> array</span><br><span class="hljs-built_in"></span>isempty Determine<span class="hljs-built_in"> if </span>input is empty<span class="hljs-built_in"> array</span><br><span class="hljs-built_in"></span>isequal Determine<span class="hljs-built_in"> if </span>arrays are numerically equal<br>isfloat Determine<span class="hljs-built_in"> if </span>input is floating-point<span class="hljs-built_in"> array</span><br><span class="hljs-built_in"></span>isglobal Determine<span class="hljs-built_in"> if </span>input is global variable<br>ishandle Detect valid graphics object handles<br>isinf Detect infinite elements of array<br></code></pre></td></tr></table></figure><h3 id="file-access">2File access</h3><h4 id="save">2.1save</h4><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs matlab">clear; a = <span class="hljs-built_in">magic</span>(<span class="hljs-number">4</span>);<br>save mydata1.mat<br>save mydata2.mat -ascii   存成ASCII可以用记事本打开<br><br>save(filename,<span class="hljs-string">&#x27;var&#x27;</span>)可以存储特定变量，当然也可以鼠标右键另存为<br></code></pre></td></tr></table></figure><h4 id="load">2.2load</h4><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">load</span><span class="hljs-params">(<span class="hljs-string">&#x27;mydata1.mat&#x27;</span>)</span></span><br><span class="hljs-function"><span class="hljs-title">load</span><span class="hljs-params">(<span class="hljs-string">&#x27;mydata2.mat&#x27;</span>,<span class="hljs-string">&#x27;-ascii&#x27;</span>)</span></span><br></code></pre></td></tr></table></figure><h4 id="xlsread">2.3xlsread()</h4><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs matlab">Score = xlsread(<span class="hljs-string">&#x27;04Score.xlsx&#x27;</span>)默认读数值部分<br>Score = xlsread(<span class="hljs-string">&#x27;04Score.xlsx&#x27;</span>, <span class="hljs-string">&#x27;B2:D4&#x27;</span>)指定行列<br></code></pre></td></tr></table></figure><h4 id="xlswrite">2.4xlswrite()</h4><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs matlab">M = <span class="hljs-built_in">mean</span>(Score&#x27;)&#x27;;<br>xlswrite(<span class="hljs-string">&#x27;04Score.xlsx&#x27;</span>, M, <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;E2:E4&#x27;</span>);   顺序分别是文件名、变量名、sheet、写入的位置<br>xlswrite(<span class="hljs-string">&#x27;04Score.xlsx&#x27;</span>, &#123;<span class="hljs-string">&#x27;Mean&#x27;</span>&#125;, <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;E1&#x27;</span>);  将单元E1写成<span class="hljs-built_in">mean</span><br></code></pre></td></tr></table></figure><h4 id="获取文本">2.5获取文本</h4><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs matlab">[Score Header] = xlsread(<span class="hljs-string">&#x27;04Score.xlsx&#x27;</span>)<br></code></pre></td></tr></table></figure><h4 id="low-level-file-io-functions">2.6Low-level File I/OFunctions</h4><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">fopen Open <span class="hljs-built_in">file</span>, <span class="hljs-keyword">or</span> obtain information about <span class="hljs-built_in">open</span> <span class="hljs-built_in">files</span><br>fclose Close <span class="hljs-literal">one</span> <span class="hljs-keyword">or</span> all <span class="hljs-built_in">open</span> <span class="hljs-built_in">files</span><br>fscanf Read data <span class="hljs-built_in">from</span> <span class="hljs-keyword">text</span> <span class="hljs-built_in">file</span><br>fprintf Write data <span class="hljs-built_in">to</span> <span class="hljs-keyword">text</span> <span class="hljs-built_in">file</span><br>feof Test <span class="hljs-keyword">for</span> <span class="hljs-keyword">end</span>-<span class="hljs-keyword">of</span>-<span class="hljs-built_in">file</span><br></code></pre></td></tr></table></figure><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs matlab">fid = fopen(<span class="hljs-string">&#x27;[filename]&#x27;</span>, <span class="hljs-string">&#x27;[permission]&#x27;</span>);<br></code></pre></td></tr></table></figure><p>Writing Sine Values into A File:</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs matlab">x = <span class="hljs-number">0</span>:<span class="hljs-built_in">pi</span>/<span class="hljs-number">10</span>:<span class="hljs-built_in">pi</span>; y = <span class="hljs-built_in">sin</span>(x); fid = fopen(<span class="hljs-string">&#x27;sinx.txt&#x27;</span>,<span class="hljs-string">&#x27;w&#x27;</span>);<br><span class="hljs-keyword">for</span> <span class="hljs-built_in">i</span>=<span class="hljs-number">1</span>:<span class="hljs-number">11</span><br>fprintf(fid,<span class="hljs-string">&#x27;%5.3f %8.4f\n&#x27;</span>, x(<span class="hljs-built_in">i</span>), y(<span class="hljs-built_in">i</span>));<br><span class="hljs-keyword">end</span><br>fclose(fid); <span class="hljs-built_in">type</span> sinx.txt<br></code></pre></td></tr></table></figure><p><img src="https://i.loli.net/2020/07/31/47Ss52jHwhLTvdx.png" style="zoom:80%;" /></p><p><img src="https://i.loli.net/2020/07/31/TsHG25o6trUfNSX.png" style="zoom:80%;" /><imgsrc="https://i.loli.net/2020/07/31/KtYH9DGyhEMNQB3.png" /></p>]]></content>
    
    
    
    <tags>
      
      <tag>MRIO</tag>
      
      <tag>MATLAB</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MATLAB学习笔记（二） 编写脚本与m文件</title>
    <link href="/2020/07/28/MATLAB%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89%20%E7%BC%96%E5%86%99%E8%84%9A%E6%9C%AC%E4%B8%8Em%E6%96%87%E4%BB%B6/"/>
    <url>/2020/07/28/MATLAB%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89%20%E7%BC%96%E5%86%99%E8%84%9A%E6%9C%AC%E4%B8%8Em%E6%96%87%E4%BB%B6/</url>
    
    <content type="html"><![CDATA[<h3 id="脚本script">1.脚本script</h3><h4 id="第一个脚本">1.1第一个脚本</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-keyword">for</span> <span class="hljs-attribute">i</span>=1:10<br><span class="hljs-attribute">x</span>=linspace(0,10,101);<br>plot(x,sin(x+i));<br><span class="hljs-built_in">print</span>(gcf,<span class="hljs-string">&#x27;-deps&#x27;</span>,strcat(<span class="hljs-string">&#x27;plot&#x27;</span>,num2str(i),<span class="hljs-string">&#x27;.ps&#x27;</span>));<br>end<br></code></pre></td></tr></table></figure><p>Run，快捷键为F5。</p><p>善用上方的插入、查找功能！</p><p>Ctrl+R，注释；Ctrl+T，取消注释。<strong>%百分号为注释符！</strong></p><p>%%，两对百分比符号之间的为“节”，可以单独运行节，利于debug！但“运行”按钮还是执行整个脚本。</p><p><img src="https://i.loli.net/2020/07/28/5JlvPKcgIroH1XD.png" /></p><p><img src="https://i.loli.net/2020/07/28/8scpXx6iB5kVKNz.png" /></p><p>进入debug模式时，运行按钮会变成继续，鼠标放置到中断点时会显示内容！</p><p>Ctrl+I，智能缩进！</p><h4 id="structured-programming">1.2Structured programming</h4><p><img src="https://i.loli.net/2020/07/28/tfg1Eh7nibNaD69.png" /></p><p>逻辑运算符 Relation（logical） operator</p><p><img src="https://i.loli.net/2020/07/28/Yv6sG7PyhkFlTiO.png" /></p><h5 id="if-elseif-else">1.2.1 if elseif else</h5><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs maxima">a = <span class="hljs-number">3</span>;<br><span class="hljs-keyword">if</span> <span class="hljs-built_in">rem</span>(a, <span class="hljs-number">2</span>) == <span class="hljs-number">0</span><br><span class="hljs-built_in">disp</span>(&#x27;a <span class="hljs-built_in">is</span> <span class="hljs-built_in">even</span>&#x27;)<br><span class="hljs-keyword">else</span><br><span class="hljs-built_in">disp</span>(&#x27;a <span class="hljs-built_in">is</span> <span class="hljs-built_in">odd</span>&#x27;)<br>end<br></code></pre></td></tr></table></figure><p>rem(a, 2) 表示求a除以2的余数 rem=remainder； odd为奇数</p><h5 id="switch">1.2.2 switch</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python">switch input_num %比如<span class="hljs-number">5</span><br><span class="hljs-keyword">case</span> -<span class="hljs-number">1</span><br>disp(<span class="hljs-string">&#x27;negative 1&#x27;</span>);<br><span class="hljs-keyword">case</span> <span class="hljs-number">0</span><br>disp(<span class="hljs-string">&#x27;zero&#x27;</span>);<br><span class="hljs-keyword">case</span> <span class="hljs-number">1</span><br>disp(<span class="hljs-string">&#x27;positive 1&#x27;</span>);<br>otherwise<br>disp(<span class="hljs-string">&#x27;other value&#x27;</span>);<br>end<br></code></pre></td></tr></table></figure><h5 id="wihle">1.2.3 wihle</h5><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-keyword">while</span> expression<br>statement<br>end<br><br>n = <span class="hljs-number">1</span>;<br><span class="hljs-function"><span class="hljs-keyword">while</span> <span class="hljs-title">prod</span><span class="hljs-params">(<span class="hljs-number">1</span>:n)</span> &lt; 1e100</span><br><span class="hljs-function">n </span>= n + <span class="hljs-number">1</span>;<br>end<br><br>n %表示输出最后的n，不然不输出内容<br></code></pre></td></tr></table></figure><p>prod 为求乘函数，示例为n的阶乘。</p><p>1e100 表示1*10的100次方，此例n+1=70</p><p>练习：计算1+2+3+...+999</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-attribute">s</span>=0;<br><span class="hljs-attribute">n</span>=1; <br><span class="hljs-keyword">while</span> n&lt;1000 <br>    <span class="hljs-attribute">s</span>=s+n;<br>    <span class="hljs-attribute">n</span>=n+1; <br>end<br>disp(s)<br></code></pre></td></tr></table></figure><p>也可以这么写：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-selector-tag">a</span> = <span class="hljs-selector-attr">[1:999]</span><br><span class="hljs-function"><span class="hljs-title">sum</span><span class="hljs-params">(a)</span></span><br></code></pre></td></tr></table></figure><h5 id="for">1.2.4 for</h5><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">for</span> n = <span class="hljs-number">1</span>:<span class="hljs-number">10</span><br><span class="hljs-attribute">a</span>(n) = <span class="hljs-number">2</span>^n<br><span class="hljs-attribute">end</span><br><span class="hljs-attribute">disp</span>(a)<br></code></pre></td></tr></table></figure><p>输出奇数次方：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">for</span> n=<span class="hljs-number">1</span>:<span class="hljs-number">2</span>:<span class="hljs-number">10</span><br>    <span class="hljs-attribute">a</span>((n+<span class="hljs-number">1</span>)/<span class="hljs-number">2</span>) = <span class="hljs-number">2</span>^n<br><span class="hljs-attribute">end</span><br><span class="hljs-attribute">disp</span>(a)<br></code></pre></td></tr></table></figure><h5 id="break">1.2.5 break</h5><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs lua">x = <span class="hljs-number">2</span>; k = <span class="hljs-number">0</span>; <span class="hljs-built_in">error</span> = inf;<br>error_threshold = <span class="hljs-number">1e-32</span>;<br><span class="hljs-keyword">while</span> <span class="hljs-built_in">error</span> &gt; error_threshold<br>    <span class="hljs-keyword">if</span> k &gt; <span class="hljs-number">100</span><br>        <span class="hljs-keyword">break</span><br>    <span class="hljs-keyword">end</span><br>    x = x - <span class="hljs-built_in">sin</span>(x)/<span class="hljs-built_in">cos</span>(x);<br>    <span class="hljs-built_in">error</span> = <span class="hljs-built_in">abs</span>(x - <span class="hljs-built_in">pi</span>);<br>    k = k + <span class="hljs-number">1</span>;<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><h4 id="预先分配内存与运算时间">1.3 预先分配内存与运算时间</h4><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs matlab"><span class="hljs-comment">%%</span><br>tic<br><span class="hljs-keyword">for</span> ii = <span class="hljs-number">1</span>:<span class="hljs-number">2000</span><br>    <span class="hljs-keyword">for</span> jj = <span class="hljs-number">1</span>:<span class="hljs-number">2000</span><br>        A(ii,jj) = ii + jj;<br>    <span class="hljs-keyword">end</span><br><span class="hljs-keyword">end</span><br>toc<br><span class="hljs-comment">%%</span><br>历时 <span class="hljs-number">2.989049</span> 秒。<br><br><span class="hljs-comment">%%</span><br>tic<br>A = <span class="hljs-built_in">zeros</span>(<span class="hljs-number">2000</span>, <span class="hljs-number">2000</span>);<br><span class="hljs-keyword">for</span> ii = <span class="hljs-number">1</span>:<span class="hljs-built_in">size</span>(A,<span class="hljs-number">1</span>)<br>    <span class="hljs-keyword">for</span> jj = <span class="hljs-number">1</span>:<span class="hljs-built_in">size</span>(A,<span class="hljs-number">2</span>)<br>        A(ii,jj) = ii + jj;<br>    <span class="hljs-keyword">end</span><br><span class="hljs-keyword">end</span><br>toc<br><span class="hljs-comment">%%</span><br>历时 <span class="hljs-number">0.026128</span> 秒。<br></code></pre></td></tr></table></figure><p>close all 关闭所有图形</p><p>Ctrl+C，停止命令</p><p>... 换行号</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs abnf"><span class="hljs-attribute">A</span> <span class="hljs-operator">=</span> [<span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span><span class="hljs-comment">; ...</span><br><span class="hljs-number">4</span> <span class="hljs-number">5</span> <span class="hljs-number">6</span>]<br>与↓相同（新版本可以直接换行）<br><span class="hljs-attribute">A</span> <span class="hljs-operator">=</span> [<span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span><span class="hljs-comment">; 4 5 6]</span><br></code></pre></td></tr></table></figure><h3 id="函数">2.函数</h3><figure class="highlight isbl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs isbl"><span class="hljs-function"><span class="hljs-title">edit</span>(<span class="hljs-title">which</span>(<span class="hljs-string">&#x27;mean.m&#x27;</span>))</span><br></code></pre></td></tr></table></figure><p>调出mean的用法:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br></pre></td><td class="code"><pre><code class="hljs python">function y = mean(x,dim,flag,flag2)<br>%MEAN   Average <span class="hljs-keyword">or</span> mean value.<br>%   S = MEAN(X) <span class="hljs-keyword">is</span> the mean value of the elements <span class="hljs-keyword">in</span> X <span class="hljs-keyword">if</span> X <span class="hljs-keyword">is</span> a vector. <br>%   For matrices, S <span class="hljs-keyword">is</span> a row vector containing the mean value of each <br>%   column. <br>%   For N-D arrays, S <span class="hljs-keyword">is</span> the mean value of the elements along the first <br>%   array dimension whose size does <span class="hljs-keyword">not</span> equal <span class="hljs-number">1.</span><br>%<br>%   MEAN(X,<span class="hljs-string">&#x27;all&#x27;</span>) <span class="hljs-keyword">is</span> the mean of <span class="hljs-built_in">all</span> elements <span class="hljs-keyword">in</span> X.<br>%<br>%   MEAN(X,DIM) takes the mean along the dimension DIM of X.<br>%<br>%   MEAN(X,VECDIM) operates on the dimensions specified <span class="hljs-keyword">in</span> the vector <br>%   VECDIM. For example, MEAN(X,[<span class="hljs-number">1</span> <span class="hljs-number">2</span>]) operates on the elements contained<br>%   <span class="hljs-keyword">in</span> the first <span class="hljs-keyword">and</span> second dimensions of X.<br>%<br>%   S = MEAN(...,TYPE) specifies the <span class="hljs-built_in">type</span> <span class="hljs-keyword">in</span> which the mean <span class="hljs-keyword">is</span> performed, <br>%   <span class="hljs-keyword">and</span> the <span class="hljs-built_in">type</span> of S. Available options are:<br>%<br>%   <span class="hljs-string">&#x27;double&#x27;</span>    -  S has <span class="hljs-keyword">class</span> <span class="hljs-title class_">double</span> <span class="hljs-keyword">for</span> <span class="hljs-built_in">any</span> <span class="hljs-built_in">input</span> X<br>%   <span class="hljs-string">&#x27;native&#x27;</span>    -  S has the same <span class="hljs-keyword">class</span> <span class="hljs-title class_">as</span> X<br>%   <span class="hljs-string">&#x27;default&#x27;</span>   -  If X <span class="hljs-keyword">is</span> floating point, that <span class="hljs-keyword">is</span> double <span class="hljs-keyword">or</span> single,<br>%                  S has the same <span class="hljs-keyword">class</span> <span class="hljs-title class_">as</span> X. If X <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> floating point, <br>%                  S has <span class="hljs-keyword">class</span> <span class="hljs-title class_">double</span>.<br>%<br>%   S = MEAN(...,NANFLAG) specifies how NaN (Not-A-Number) values are <br>%   treated. The default <span class="hljs-keyword">is</span> <span class="hljs-string">&#x27;includenan&#x27;</span>:<br>%<br>%   <span class="hljs-string">&#x27;includenan&#x27;</span> - the mean of a vector containing NaN values <span class="hljs-keyword">is</span> also NaN.<br>%   <span class="hljs-string">&#x27;omitnan&#x27;</span>    - the mean of a vector containing NaN values <span class="hljs-keyword">is</span> the mean <br>%                  of <span class="hljs-built_in">all</span> its non-NaN elements. If <span class="hljs-built_in">all</span> elements are NaN,<br>%                  the result <span class="hljs-keyword">is</span> NaN.<br>%<br>%   Example:<br>%       X = [<span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span>; <span class="hljs-number">3</span> <span class="hljs-number">3</span> <span class="hljs-number">6</span>; <span class="hljs-number">4</span> <span class="hljs-number">6</span> <span class="hljs-number">8</span>; <span class="hljs-number">4</span> <span class="hljs-number">7</span> <span class="hljs-number">7</span>]<br>%       mean(X,<span class="hljs-number">1</span>)<br>%       mean(X,<span class="hljs-number">2</span>)<br>%<br>%   Class support <span class="hljs-keyword">for</span> <span class="hljs-built_in">input</span> X:<br>%      <span class="hljs-built_in">float</span>: double, single<br>%      integer: uint8, int8, uint16, int16, uint32,<br>%               int32, uint64, int64<br>%<br>%   See also MEDIAN, STD, MIN, MAX, VAR, COV, MODE.<br><br>%   Copyright <span class="hljs-number">1984</span>-<span class="hljs-number">2018</span> The MathWorks, Inc.<br><br>isDimSet = nargin &gt; <span class="hljs-number">1</span> &amp;&amp; ((~ischar(dim) &amp;&amp; ~(isstring(dim) &amp;&amp; isscalar(dim))) || ...<br>    (~isInvalidText(dim) &amp;&amp; strncmpi(dim,<span class="hljs-string">&#x27;all&#x27;</span>,<span class="hljs-built_in">max</span>(strlength(dim), <span class="hljs-number">1</span>))));<br>isFlag2Set = nargin &gt;= <span class="hljs-number">4</span>;<br><br><span class="hljs-keyword">if</span> nargin == <span class="hljs-number">1</span> || (nargin == <span class="hljs-number">2</span> &amp;&amp; isDimSet)<br>    <br>    flag = <span class="hljs-string">&#x27;default&#x27;</span>;<br>    omitnan = false;<br>    <br><span class="hljs-keyword">else</span> % nargin &gt;= <span class="hljs-number">3</span> || (nargin == <span class="hljs-number">2</span> &amp;&amp; ~isDimSet)<br>        <br>    <span class="hljs-keyword">if</span> nargin == <span class="hljs-number">2</span><br>        flag = dim;<br>    elseif nargin == <span class="hljs-number">3</span><br>        <span class="hljs-keyword">if</span> ~isDimSet<br>            flag2 = dim;<br>            isFlag2Set = true;<br>        end<br>    elseif nargin == <span class="hljs-number">4</span> &amp;&amp; ~isDimSet<br>        error(message(<span class="hljs-string">&#x27;MATLAB:mean:nonNumericSecondInput&#x27;</span>));<br>    end<br>    <br>    <span class="hljs-keyword">if</span> ~isFlag2Set<br>        flag2 = <span class="hljs-string">&#x27;&#x27;</span>;<br>    end<br>    <br>    [flag, omitnan] = parseInputs(flag, flag2, isFlag2Set);<br>        <br>end<br><br><span class="hljs-keyword">if</span> ~isDimSet<br>    % preserve backward compatibility <span class="hljs-keyword">with</span> <span class="hljs-number">0x0</span> empty<br>    <span class="hljs-keyword">if</span> isequal(x,[])<br>        y = <span class="hljs-built_in">sum</span>(x,flag)./<span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">return</span><br>    end<br>    dim = find(size(x)~=<span class="hljs-number">1</span>,<span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">if</span> isempty(dim)<br>        dim = <span class="hljs-number">1</span>;<br>    end<br><span class="hljs-keyword">else</span><br>    <span class="hljs-keyword">if</span> isempty(dim)<br>        error(message(<span class="hljs-string">&#x27;MATLAB:mean:nonNumericSecondInput&#x27;</span>));<br>    end<br>end<br><br><span class="hljs-keyword">if</span> ~isobject(x) &amp;&amp; isinteger(x)<br>    % accumulation flag may still be partial<br>    isnative = strncmpi(flag, <span class="hljs-string">&#x27;native&#x27;</span>, <span class="hljs-built_in">max</span>(<span class="hljs-number">1</span>, strlength(flag)));<br>    <span class="hljs-keyword">if</span> intmin(<span class="hljs-keyword">class</span>(x)) == <span class="hljs-number">0</span>  % unsigned integers<br>        y = <span class="hljs-built_in">sum</span>(x,dim,flag);<br>        <span class="hljs-keyword">if</span> (isnative &amp;&amp; <span class="hljs-built_in">all</span>(y(:) &lt; intmax(<span class="hljs-keyword">class</span>(x)))) || ...<br>                (~isnative &amp;&amp; <span class="hljs-built_in">all</span>(y(:) &lt;= flintmax))<br>            % no precision lost, can use the <span class="hljs-built_in">sum</span> result<br>            y = y./mysize(x,dim);<br>        <span class="hljs-keyword">else</span>  % throw away <span class="hljs-keyword">and</span> recompute<br>            y = intmean(x,dim,isnative);<br>        end<br>    <span class="hljs-keyword">else</span>  % signed integers<br>        ypos = <span class="hljs-built_in">sum</span>(<span class="hljs-built_in">max</span>(x,<span class="hljs-number">0</span>),dim,flag);<br>        yneg = <span class="hljs-built_in">sum</span>(<span class="hljs-built_in">min</span>(x,<span class="hljs-number">0</span>),dim,flag);<br>        <span class="hljs-keyword">if</span> (isnative &amp;&amp; <span class="hljs-built_in">all</span>(ypos(:) &lt; intmax(<span class="hljs-keyword">class</span>(x))) &amp;&amp; ...<br>                <span class="hljs-built_in">all</span>(yneg(:) &gt; intmin(<span class="hljs-keyword">class</span>(x)))) || ...<br>                (~isnative &amp;&amp; <span class="hljs-built_in">all</span>(ypos(:) &lt;= flintmax) &amp;&amp; ...<br>                <span class="hljs-built_in">all</span>(yneg(:) &gt;= -flintmax))<br>            % no precision lost, can use the <span class="hljs-built_in">sum</span> result<br>            y = (ypos+yneg)./mysize(x,dim);<br>        <span class="hljs-keyword">else</span>  % throw away <span class="hljs-keyword">and</span> recompute<br>            y = intmean(x,dim,isnative);<br>        end<br>    end<br><span class="hljs-keyword">else</span><br>    <span class="hljs-keyword">if</span> omitnan     <br>        % Compute <span class="hljs-built_in">sum</span> <span class="hljs-keyword">and</span> number of NaNs<br>        m = <span class="hljs-built_in">sum</span>(x, dim, flag, <span class="hljs-string">&#x27;omitnan&#x27;</span>);<br>        nr_nonnan = mysize(x, dim) - matlab.internal.math.countnan(x, dim);<br>        % Divide by the number of non-NaNs.<br>        y = m ./ nr_nonnan;<br>    <span class="hljs-keyword">else</span><br>        y = <span class="hljs-built_in">sum</span>(x, dim, flag) ./ mysize(x,dim);<br>    end<br>end<br>    <br>end<br><br><br>function y = intmean(x, dim, isnative)<br>% compute the mean of integer vector<br><br>ysiz = size(x);<br><span class="hljs-keyword">if</span> ischar(dim) || isstring(dim)<br>    x = x(:);<br><span class="hljs-keyword">else</span><br>    dim = reshape(dim, <span class="hljs-number">1</span>, []);<br>    dim = <span class="hljs-built_in">min</span>(dim, ndims(x)+<span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">max</span>(dim)&gt;length(ysiz)<br>        ysiz(end+<span class="hljs-number">1</span>:<span class="hljs-built_in">max</span>(dim)) = <span class="hljs-number">1</span>;<br>    end<br>    tf = false(size(ysiz));<br>    tf(dim) = true;<br>    r = find(~tf);<br>    perm = [find(tf), r];<br>    x = permute(x, perm);<br>    x = reshape(x,[prod(ysiz(dim)), prod(ysiz(r))]);<br>    ysiz(dim) = <span class="hljs-number">1</span>;<br>end<br><br>xclass = <span class="hljs-keyword">class</span>(x);<br><span class="hljs-keyword">if</span> ~isnative<br>    outclass = <span class="hljs-string">&#x27;double&#x27;</span>;<br><span class="hljs-keyword">else</span><br>    outclass = xclass;<br>end<br><br><span class="hljs-keyword">if</span> intmin(xclass) == <span class="hljs-number">0</span><br>    accumclass = <span class="hljs-string">&#x27;uint64&#x27;</span>;<br><span class="hljs-keyword">else</span><br>    accumclass = <span class="hljs-string">&#x27;int64&#x27;</span>;<br>end<br>xsiz = size(x);<br>xlen = cast(xsiz(<span class="hljs-number">1</span>),accumclass);<br><br>y = zeros([<span class="hljs-number">1</span> xsiz(<span class="hljs-number">2</span>:end)],outclass);<br>ncolumns = prod(xsiz(<span class="hljs-number">2</span>:end));<br>int64input = isa(x,<span class="hljs-string">&#x27;uint64&#x27;</span>) || isa(x,<span class="hljs-string">&#x27;int64&#x27;</span>);<br><br><span class="hljs-keyword">for</span> <span class="hljs-built_in">iter</span> = <span class="hljs-number">1</span>:ncolumns<br>    xcol = cast(x(:,<span class="hljs-built_in">iter</span>),accumclass);<br>    <span class="hljs-keyword">if</span> int64input<br>        xr = rem(xcol,xlen);<br>        ya = <span class="hljs-built_in">sum</span>((xcol-xr)./xlen,<span class="hljs-number">1</span>,<span class="hljs-string">&#x27;native&#x27;</span>);<br>        xcol = xr;<br>    <span class="hljs-keyword">else</span><br>        ya = zeros(accumclass);<br>    end<br>    xcs = cumsum(xcol);<br>    ind = find(xcs == intmax(accumclass) | (xcs == intmin(accumclass) &amp; (xcs &lt; <span class="hljs-number">0</span>)) , <span class="hljs-number">1</span>);<br>    <br>    <span class="hljs-keyword">while</span> (~isempty(ind))<br>        remain = rem(xcs(ind-<span class="hljs-number">1</span>),xlen);<br>        ya = ya + (xcs(ind-<span class="hljs-number">1</span>) - remain)./xlen;<br>        xcol = [remain; xcol(ind:end)];<br>        xcs = cumsum(xcol);<br>        ind = find(xcs == intmax(accumclass) | (xcs == intmin(accumclass) &amp; (xcs &lt; <span class="hljs-number">0</span>)), <span class="hljs-number">1</span>);<br>    end<br>    <br>    <span class="hljs-keyword">if</span> ~isnative<br>        remain = rem(xcs(end),xlen);<br>        ya = ya + (xcs(end) - remain)./xlen;<br>        % The latter two conversions to double never lose precision <span class="hljs-keyword">as</span><br>        % values are less than FLINTMAX. The first conversion may lose<br>        % precision.<br>        y(<span class="hljs-built_in">iter</span>) = double(ya) + double(remain)./double(xlen);<br>    <span class="hljs-keyword">else</span><br>        y(<span class="hljs-built_in">iter</span>) = cast(ya + xcs(end) ./ xlen, outclass);<br>    end<br>end<br><span class="hljs-keyword">if</span> ~isscalar(y)<br>    y = reshape(y,ysiz);<br>end<br><br>end<br><br><br>function [flag, omitnan] = parseInputs(flag, flag2, isFlag2Set)<br>% Process flags, <span class="hljs-keyword">return</span> boolean omitnan <span class="hljs-keyword">and</span> string flag<br><br>    <span class="hljs-keyword">if</span> isInvalidText(flag)<br>        error(message(<span class="hljs-string">&#x27;MATLAB:mean:invalidFlags&#x27;</span>));<br>    end<br>    <span class="hljs-keyword">if</span> isstring(flag)<br>        flag = char(flag);<br>    end<br>    s = strncmpi(flag, &#123;<span class="hljs-string">&#x27;omitnan&#x27;</span>, <span class="hljs-string">&#x27;includenan&#x27;</span>&#125;, <span class="hljs-built_in">max</span>(length(flag), <span class="hljs-number">1</span>));<br>    <br>    <span class="hljs-keyword">if</span> ~isFlag2Set<br>        omitnan = s(<span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">any</span>(s)<br>           flag = <span class="hljs-string">&#x27;default&#x27;</span>;<br>        end<br>    <span class="hljs-keyword">else</span><br>        <span class="hljs-keyword">if</span> isInvalidText(flag2)<br>            error(message(<span class="hljs-string">&#x27;MATLAB:mean:invalidFlags&#x27;</span>));<br>        end<br>        <span class="hljs-keyword">if</span> isstring(flag2)<br>            flag2 = char(flag2);<br>        end<br>        s2 = strncmpi(flag2, &#123;<span class="hljs-string">&#x27;omitnan&#x27;</span>, <span class="hljs-string">&#x27;includenan&#x27;</span>&#125;, <span class="hljs-built_in">max</span>(length(flag2), <span class="hljs-number">1</span>));<br>        <br>        % Make sure one flag <span class="hljs-keyword">is</span> <span class="hljs-keyword">from</span> the <span class="hljs-built_in">set</span> &#123;<span class="hljs-string">&#x27;omitnan&#x27;</span>, <span class="hljs-string">&#x27;includenan&#x27;</span>&#125;,<br>        % <span class="hljs-keyword">while</span> the other <span class="hljs-keyword">is</span> <span class="hljs-keyword">from</span> &#123;<span class="hljs-string">&#x27;default&#x27;</span>, <span class="hljs-string">&#x27;double&#x27;</span>, <span class="hljs-string">&#x27;native&#x27;</span>&#125;.        <br>        <span class="hljs-keyword">if</span> ~xor( <span class="hljs-built_in">any</span>(s), <span class="hljs-built_in">any</span>(s2) )<br>            error(message(<span class="hljs-string">&#x27;MATLAB:mean:invalidFlags&#x27;</span>));<br>        end<br>        <br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">any</span>(s) % flag contains <span class="hljs-string">&#x27;includenan&#x27;</span> <span class="hljs-keyword">or</span> <span class="hljs-string">&#x27;omitnan&#x27;</span><br>            omitnan = s(<span class="hljs-number">1</span>);<br>            flag = flag2;<br>        <span class="hljs-keyword">else</span><br>            omitnan = s2(<span class="hljs-number">1</span>);<br>        end<br>    end<br>end<br><br>function tf = isInvalidText(<span class="hljs-built_in">str</span>)<br>tf = (ischar(<span class="hljs-built_in">str</span>) &amp;&amp; ~isrow(<span class="hljs-built_in">str</span>)) || ...<br>     (isstring(<span class="hljs-built_in">str</span>) &amp;&amp; ~(isscalar(<span class="hljs-built_in">str</span>) &amp;&amp; (strlength(<span class="hljs-built_in">str</span>) &gt; <span class="hljs-number">0</span>)));<br>end<br><br>function s = mysize(x, dim)<br><span class="hljs-keyword">if</span> isnumeric(dim) || islogical(dim)<br>    <span class="hljs-keyword">if</span> isscalar(dim)<br>        s = size(x,dim);<br>    <span class="hljs-keyword">else</span><br>        s = size(x,dim(<span class="hljs-number">1</span>));<br>        <span class="hljs-keyword">for</span> i = <span class="hljs-number">2</span>:length(dim)<br>            s = s * size(x,dim(i));<br>        end<br>    end<br><span class="hljs-keyword">else</span><br>    s = numel(x);<br>end<br><br>end<br></code></pre></td></tr></table></figure><h4 id="自定义函数">2.1自定义函数</h4><p>如，新建自由落体运动的计算公式：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs matlab"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">x</span> = <span class="hljs-title">freebody</span><span class="hljs-params">(x0,v0,t)</span></span><br><span class="hljs-comment">% calculation of free falling</span><br><span class="hljs-comment">% x0: initial displacement in m</span><br><span class="hljs-comment">% v0: initial velocity in m/sec</span><br><span class="hljs-comment">% t: the elapsed time in sec</span><br><span class="hljs-comment">% x: the depth of falling in m</span><br>x = x0 + v0.*t + <span class="hljs-number">1</span>/<span class="hljs-number">2</span>*<span class="hljs-number">9.8</span>*t.*t;   <span class="hljs-comment">%此处选择点乘，可以多组数据一起运算（向量同样适用）</span><br></code></pre></td></tr></table></figure><p>需要将文件保存成与函数名相同的名称！</p><p>此时左下角会出现函数名！</p><h4 id="functions-with-multiple-inputs-and-outputs">2.2Functions withMultiple Inputs and Outputs</h4><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">function</span> [a F] = acc(<span class="hljs-built_in">v2</span>,<span class="hljs-built_in">v1</span>,t2,t1,m)<br>a = (<span class="hljs-built_in">v2</span>-<span class="hljs-built_in">v1</span>)./(t2-t1)<span class="hljs-comment">;</span><br>F = m.*a<span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-selector-attr">[Acc Force]</span> = <span class="hljs-built_in">acc</span>(<span class="hljs-number">20</span>,<span class="hljs-number">10</span>,<span class="hljs-number">5</span>,<span class="hljs-number">4</span>,<span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure><h4 id="function-default-variables">2.3Function Default Variables</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs routeros">function [volume]=pillar(<span class="hljs-keyword">Do</span>,Di,height)<br><span class="hljs-keyword">if</span> <span class="hljs-attribute">nargin</span>==2,<br><span class="hljs-attribute">height</span>=1;<br>end<br><span class="hljs-attribute">volume</span>=abs(Do.^2-Di.^2).*height*pi/4;<br></code></pre></td></tr></table></figure><h4 id="function-handles">2.4Function Handles</h4><p>函数指针？</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">f</span> = @(x) exp(-<span class="hljs-number">2</span>*x);<br><span class="hljs-attribute">x</span> = <span class="hljs-number">0</span>:<span class="hljs-number">0</span>.<span class="hljs-number">1</span>:<span class="hljs-number">2</span>;<br><span class="hljs-attribute">plot</span>(x, f(x));<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>MRIO</tag>
      
      <tag>MATLAB</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MATLAB学习笔记（一） 基础输入</title>
    <link href="/2020/07/27/MATLAB%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89%20%E5%9F%BA%E7%A1%80%E8%BE%93%E5%85%A5/"/>
    <url>/2020/07/27/MATLAB%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89%20%E5%9F%BA%E7%A1%80%E8%BE%93%E5%85%A5/</url>
    
    <content type="html"><![CDATA[<h3 id="赋值">1.赋值</h3><h4 id="基础">1.1基础</h4><p>matlab中，可以用类似于python中的方法赋值，不需要宣告，如：</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf"><span class="hljs-attribute">A</span><span class="hljs-operator">=</span><span class="hljs-number">10</span> 将<span class="hljs-number">10</span>赋值给A<br></code></pre></td></tr></table></figure><p>Note：赋值时，代数区分大小写；变量只能以字母开头，不能以数字开头（如2A）</p><h4 id="数据类型">1.2数据类型</h4><p>默认是双精度（double）</p><p>命令：who（输出已有变量） 和 whos（输出已有变量及数据类型）</p><h4 id="matlab关键字">1.3MATLAB关键字</h4><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs makefile">ans<br><span class="hljs-section">i,j: complex number</span><br><span class="hljs-section">Inf: ∞</span><br><span class="hljs-section">eps: 2.2204e-016   极小数</span><br><span class="hljs-section">NaN: not a number</span><br><span class="hljs-section">pi: π</span><br></code></pre></td></tr></table></figure><p>To list keywords： <figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs autoit"><span class="hljs-built_in">iskeyword</span><br></code></pre></td></tr></table></figure></p><p>一般不允许关键词被赋值，不要将keyword赋值成变量</p><p>不当赋值举例：</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs 1c"><span class="hljs-built_in">cos</span>=&#x27;This string.&#x27;;<br><span class="hljs-built_in">cos</span>(<span class="hljs-number">8</span>)<br></code></pre></td></tr></table></figure><p>输出的是“This string”的第八个字符（计入空格）</p><p>clear cos 可以清除cos这个var</p><p>MATLAB变量优先级如下： Calling priority</p><p><img src="https://i.loli.net/2020/07/26/DmCEwXe3icxt5J6.png" style="zoom:50%;" /></p><h4 id="更改显示格式-format">1.4更改显示格式 format</h4><p><img src="https://i.loli.net/2020/07/26/iTd9sRFmQwLnYKW.png" /></p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver"><span class="hljs-literal">pi</span><br><span class="hljs-number">3.1416</span><br><br><span class="hljs-built_in">format</span> <span class="hljs-keyword">long</span><br><span class="hljs-number">3.141592653589793</span><br></code></pre></td></tr></table></figure><h4 id="一些小命令">1.5一些小命令</h4><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs makefile">; 命令的结果后面加分号，不显示运算结果<br><span class="hljs-section">↑:展示上一条命令，同理↓</span><br><span class="hljs-section">clc: 清空命令窗口</span><br><span class="hljs-section">clear: 清空workspace（工作区）</span><br><span class="hljs-section">who: variables in the workspace</span><br><span class="hljs-section">whos: variable information of the workspace</span><br></code></pre></td></tr></table></figure><h3id="array输入矩阵matrix或向量vector">2.Array：输入矩阵matrix或向量vector</h3><h4 id="向量输入">2.1向量输入</h4><p>横向量row：</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf"><span class="hljs-attribute">a</span> <span class="hljs-operator">=</span> [<span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span>]<br></code></pre></td></tr></table></figure><p>列向量column：</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf"><span class="hljs-attribute">b</span> <span class="hljs-operator">=</span> [<span class="hljs-number">1</span><span class="hljs-comment">; 2; 3; 4]</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">试试看<span class="hljs-selector-tag">a</span>*<span class="hljs-selector-tag">b</span> 与 <span class="hljs-selector-tag">b</span>*<span class="hljs-selector-tag">a</span><br></code></pre></td></tr></table></figure><h4 id="矩阵输入-semicolon-分号">2.2矩阵输入 semicolon 分号</h4><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf"><span class="hljs-attribute">A</span> <span class="hljs-operator">=</span> [<span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span><span class="hljs-comment">; 4 5 6; 7 8 9]</span><br></code></pre></td></tr></table></figure><p>index 索引出矩阵或向量中特定位置的数：变量+括号，A(5)</p><p><strong>列为主向量</strong></p><p>方法一： A（row, column） 即指定行数、列数，如A(3,2)，输出8</p><p>方法二：列为主向量：A（8），从上到下，从左到右数第八个数</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">A</span>(<span class="hljs-number">8</span>)<br><span class="hljs-attribute">A</span>([<span class="hljs-number">1</span> <span class="hljs-number">3</span> <span class="hljs-number">5</span>])<br><span class="hljs-attribute">A</span>([<span class="hljs-number">1</span> <span class="hljs-number">3</span>; <span class="hljs-number">1</span> <span class="hljs-number">4</span>]) 第一行为第<span class="hljs-number">1</span>、<span class="hljs-number">3</span>个数，第二行为第<span class="hljs-number">1</span>、<span class="hljs-number">4</span>个数<br><span class="hljs-attribute">A</span>(<span class="hljs-number">3</span>,<span class="hljs-number">2</span>)  第三行第二个数<br><span class="hljs-attribute">A</span>([<span class="hljs-number">1</span> <span class="hljs-number">3</span>],<span class="hljs-meta"> [1 3])   取交集，前为row，后为column，一三行与一三列的交集</span><br></code></pre></td></tr></table></figure><p>可以用上面的方法给已生成的矩阵中的元素赋值（替换数值）</p><p><img src="https://i.loli.net/2020/07/27/fOmonwGxeLu5qJt.png" /></p><p><img src="https://i.loli.net/2020/07/27/BDEmqih8klGrNgO.png" style="zoom: 33%;" /></p><p>妙用交集：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">A</span>(<span class="hljs-selector-attr">[1 2]</span>, <span class="hljs-selector-attr">[1 2 3]</span>)<br></code></pre></td></tr></table></figure><p>也可以：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">A</span><span class="hljs-params">(<span class="hljs-number">3</span>,:)</span></span>  表示第三行<br><span class="hljs-function"><span class="hljs-title">A</span><span class="hljs-params">(<span class="hljs-number">3</span>,:)</span></span> = <span class="hljs-selector-attr">[]</span>  将第三行删去<br></code></pre></td></tr></table></figure><p>同理，可以用此法增删列！</p><h4 id="colon-operator">2.3Colon Operator</h4><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">a</span> = [<span class="hljs-number">1</span>:<span class="hljs-number">100</span>]   输入a为<span class="hljs-number">1</span>-<span class="hljs-number">100</span>的行向量,其实就是差距为<span class="hljs-number">1</span><br><span class="hljs-attr">a</span> = [<span class="hljs-number">1</span>:<span class="hljs-number">2</span>:<span class="hljs-number">99</span>]  输入<span class="hljs-number">1</span>-<span class="hljs-number">99</span>之间的奇数，第一个数为一，间隔为<span class="hljs-number">2</span>的等差数列<br></code></pre></td></tr></table></figure><p>语法如下：</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-keyword">j:k </span>→ [<span class="hljs-keyword">j, </span><span class="hljs-keyword">j+1, </span><span class="hljs-keyword">j+2,..., </span><span class="hljs-keyword">j+m]</span><br><span class="hljs-keyword"></span><span class="hljs-keyword">j:i:k </span>→ [<span class="hljs-keyword">j, </span><span class="hljs-keyword">j+i, </span><span class="hljs-keyword">j+2i, </span>..., <span class="hljs-keyword">j+m*i]</span><br></code></pre></td></tr></table></figure><p>也可以混用：</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">B</span> = [<span class="hljs-number">1</span>:<span class="hljs-number">5</span><span class="hljs-comment">; 2:3:15; -2:0.5:0]</span><br></code></pre></td></tr></table></figure><p><img src="https://i.loli.net/2020/07/27/LOKIDqa7npTFieU.png" style="zoom: 50%;" /></p><p>也可以输出有规律的字符串：</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">a</span> = <span class="hljs-string">&#x27;a&#x27;</span>:<span class="hljs-number">2</span>:<span class="hljs-string">&#x27;z&#x27;</span><br></code></pre></td></tr></table></figure><h4 id="矩阵增减">2.4矩阵增减</h4><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs abnf"><span class="hljs-attribute">A</span><span class="hljs-operator">=</span>[<span class="hljs-number">1</span> <span class="hljs-number">2</span><span class="hljs-comment">; 3 4]</span><br><span class="hljs-attribute">B</span><span class="hljs-operator">=</span>[<span class="hljs-number">9</span> <span class="hljs-number">9</span><span class="hljs-comment">; 9 9]</span><br><span class="hljs-attribute">F</span><span class="hljs-operator">=</span>[A B]  横向相加  <br><span class="hljs-attribute">F</span><span class="hljs-operator">=</span>[A<span class="hljs-comment">;B]  纵向相接</span><br></code></pre></td></tr></table></figure><h4 id="矩阵运算">2.5矩阵运算</h4><p><img src="https://i.loli.net/2020/07/27/Iedi3gjKkorzpE1.png" /></p><p><img src="https://i.loli.net/2020/07/27/NRqZtJEPLY5HuDs.png" /></p><p>注：点乘 . 对应位置相乘; '为转置</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc"><span class="hljs-bullet">. </span>点乘<br>&#x27; 转置<br></code></pre></td></tr></table></figure><h4 id="特殊矩阵">2.6特殊矩阵</h4><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">linspace</span><span class="hljs-params">()</span></span>: linear spaced vectors<br><span class="hljs-function"><span class="hljs-title">eye</span><span class="hljs-params">(n)</span></span>: n*n identity matrix  单位矩阵<br><span class="hljs-function"><span class="hljs-title">zeros</span><span class="hljs-params">(n1,n2)</span></span>: n1*n2 zero matrix<br><span class="hljs-function"><span class="hljs-title">ones</span><span class="hljs-params">(n1,n2)</span></span>: n1*n2 matrix with every entry as <span class="hljs-number">1</span><br><span class="hljs-function"><span class="hljs-title">diag</span><span class="hljs-params">()</span></span>: diagonal matrix 对角矩阵<br><span class="hljs-function"><span class="hljs-title">rand</span><span class="hljs-params">()</span></span>: uniformly distributed random numbers<br></code></pre></td></tr></table></figure><p>linspace(1, 2, 6) →输出1-2之间的6个等间距矩阵（此处间距为0.2）</p><p>diag([2 3 4]) →输出对角线为2 3 4的对角矩阵</p><h4 id="matrix-function">2.7Matrix Function</h4><p>如： <span class="math display">\[\begin{equation}       %开始数学环境\left[                 %左括号  \begin{array}{ccc}   %该矩阵一共3列，每一列都居中放置    1 &amp; 2 &amp; 3\\  %第一行元素    4 &amp; 5 &amp; 6\\  %第二行元素    7 &amp; 8 &amp; 9\\  %第三行元素  \end{array}\right]                 %右括号\end{equation}\]</span></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">max</span><span class="hljs-params">(A)</span></span>  取每一列的最大值<br><span class="hljs-function"><span class="hljs-title">sort</span><span class="hljs-params">(A)</span></span> 将A中的每一列元素按大小排序<br><span class="hljs-function"><span class="hljs-title">max</span><span class="hljs-params">(max((A)</span></span>) 取所有元素的最大值<br><span class="hljs-function"><span class="hljs-title">sortrows</span><span class="hljs-params">(A)</span></span>  默认依据第一列的数值按升序移动每一行，如果第一列的数值有相同的，依次往右比较<br><span class="hljs-function"><span class="hljs-title">min</span><span class="hljs-params">(A)</span></span><br><span class="hljs-function"><span class="hljs-title">size</span><span class="hljs-params">(A)</span></span> 输出矩阵的行数与列数<br><span class="hljs-function"><span class="hljs-title">sum</span><span class="hljs-params">(A)</span></span>  将每一列加总<br><span class="hljs-function"><span class="hljs-title">length</span><span class="hljs-params">(A)</span></span> <br><span class="hljs-function"><span class="hljs-title">mean</span><span class="hljs-params">(A)</span></span>  输出每一列的平均值<br><span class="hljs-function"><span class="hljs-title">find</span><span class="hljs-params">(A)</span></span>  如： <span class="hljs-built_in">find</span>(A==<span class="hljs-number">5</span>)  找到矩阵中的第几个位置为<span class="hljs-number">5</span>，从上到下，从左到右<br></code></pre></td></tr></table></figure><p><img src="https://i.loli.net/2020/07/27/nWeo98gz4OhYAPC.png" /></p>]]></content>
    
    
    
    <tags>
      
      <tag>MRIO</tag>
      
      <tag>MATLAB</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>投入产出分析学习笔记（一） 北师大讲座</title>
    <link href="/2020/07/23/%E6%8A%95%E5%85%A5%E4%BA%A7%E5%87%BA%E5%88%86%E6%9E%90%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89%20%E5%8C%97%E5%B8%88%E5%A4%A7%E8%AE%B2%E5%BA%A7/"/>
    <url>/2020/07/23/%E6%8A%95%E5%85%A5%E4%BA%A7%E5%87%BA%E5%88%86%E6%9E%90%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89%20%E5%8C%97%E5%B8%88%E5%A4%A7%E8%AE%B2%E5%BA%A7/</url>
    
    <content type="html"><![CDATA[<p>Resource：https://www.bilibili.com/video/BV1tV411k7Mv?from=search&amp;seid=6441224671028534611</p><h3 id="基本概念">1.基本概念</h3><h4 id="来源">1.1来源</h4><p>又称“部门平衡”分析，或称“产业联系”分析，最早由Leontief提出。主要通过编制投入产出表及建立相应的数学模型，反映经济系统各个部门（产业）之间的相互关系。</p><h4 id="应用">1.2应用</h4><p>自20世纪60年代以来，投入产出分析被地理学家广泛应用于区域产业构成分析，区域相互作用分析，以及资源利用与环境保护研究等各个方面。<strong>是做区域变化、全球变化研究、碳排放问题等的利器！</strong></p><h4 id="基本概念-1">1.3基本概念</h4><ul><li>投入：指一项经济活动中的各种消耗。包括物质和非物质产品消耗；有形和无形产品消耗。</li><li>产出：指生产活动的成果及分配使用去向、流向。（包括：物质和非物质产品、实物和服务产品）</li><li>投入产出表：指反映各种产品生产投入来源和分配去向的一种棋盘式表格。（矩阵表）</li><li>投入产出数学模型：指用数学模型（方程式）体现投入产出表所反映的经济内容的一组线性代数方程组。</li><li>作用：反映各部门、各产业生产与分配使用、生产与消耗之间的平衡关系。因此也称为部门联系平衡法。</li></ul><p><img src="https://i.loli.net/2020/07/23/TjN6ROebr1u5lQi.png" /></p><h3 id="投入产出模型基本原理">2.投入产出模型基本原理</h3><h4 id="模型分类">2.1模型分类</h4><ul><li>实物型投入产出表：以各种产品为对象，以不同的实物计量单位编制出来的；</li><li>价值型投入产出表：将整个经济系统划分为若干个子系统——生产部门，并以货币为计量单位。不仅能够反映各部门产品的实物运动过程，而且能够描述各部门产品的价值流动过程。</li></ul><p><img src="https://i.loli.net/2020/07/23/DLYGOwi3oNtxWy2.png" /></p><p><strong>横向为产出、纵向为投入</strong></p><p>假设部门1为农业，部门2为电力，则X<sub>21</sub>的含义为，为满足农业部门的生产，电力部门的中间投入是多少；</p><p>E<sub>1</sub>是为满足经济系统的中间使用，农业部门的总投入为多少；</p><p>C<sub>1</sub>则为部门1所需要的的全部投入；</p><p>y<sub>2</sub>表示电力部门的直接消耗总量；</p><p>x<sub>1</sub>为第一行的加和，即E<sub>1</sub>+y<sub>1</sub>；</p><p>新创造价值即附加价值：</p><p>v<sub>1</sub>即为农业部门的附加投入</p><ul><li>行平衡关系：中间需求（Z）+ 最终使用（y）= 总产出（X）</li><li>列平衡关系：中间投入（Y）+ 增加值 （v）= 总投入（X）</li></ul><p><img src="https://i.loli.net/2020/07/23/7jmDsdOackxoNlI.png" /></p><p><img src="https://i.loli.net/2020/07/23/FPIHgpBw2skA6Zv.png" /></p><p><strong>直接消耗系数</strong>。核心方程，产品分配方程组</p><p><img src="https://i.loli.net/2020/07/23/tc4of3Wzr2KLAPb.png" /></p><p>举个例子：</p><p>买一包泡面，Y就是个人对这包泡面的直接消费，但通过（I-A）<sup>-1</sup>，可以追溯这包泡面的各项中间投入，如农业的小麦生产，工业中的外包装加工，运输投入、贸易等。</p><p><img src="https://i.loli.net/2020/07/23/vWRx73c4lQDjGXB.png" /></p><p>上图中，间接投入为一产品多次贸易的间接投入（系统）。<strong>L</strong>为Leontief逆矩阵。</p><p><img src="https://i.loli.net/2020/07/23/6w1HlucMzTOFG9p.png" /></p><p><img src="https://i.loli.net/2020/07/23/h4KyMq7jYNZizwp.png" /></p><p><img src="https://i.loli.net/2020/07/23/nOefiMFkqsjICJm.png" /></p><p>按行建立模型较多。</p><h3 id="环境扩展投入产出模型">3.环境扩展投入产出模型</h3><p><img src="https://i.loli.net/2020/07/23/lxdfsbMtRAOC1ZV.png" /></p><p>以碳排放为例，家庭取暖、燃烧等直接排放，电能、学习、社交等的间接碳排。（上图为学术交流中碳排放）</p><p>步长概念，如飞机，步长为2.</p><h4 id="作用与目的">3.1作用与目的</h4><ul><li>对资源利用、环境排放问题的研究，通常忽视了资源利用、排放过程中各个产业部门之间的相互联系；</li><li>投入产出分析则是联系经济活动与环境污染和保护问题的一种行之有效的研究方法。在20世纪70年代初期，Leontief曾运用投入产出模型，对环境污染与治理问题作了研究。</li></ul><h4 id="环境扩展的投入产出表">3.2环境扩展的投入产出表</h4><p><img src="https://i.loli.net/2020/07/23/NRJxh3n68Zb4Amc.png" /></p><p>C<sub>1</sub>为整个农业部门需要的资源消耗</p><p><img src="https://i.loli.net/2020/07/23/5hRqlF3PMkfDT1G.png" /></p><p><img src="https://i.loli.net/2020/07/23/qHO9UXfQp1Gibkv.png" /></p><p><img src="https://i.loli.net/2020/07/23/lrIZ2R5unGK69fs.png" /></p><h3 id="模型实际应用训练">4.模型实际应用训练</h3><p>呜呜呜，没有数据。</p><p>见excel</p>]]></content>
    
    
    
    <tags>
      
      <tag>MRIO</tag>
      
      <tag>投入产出分析</tag>
      
      <tag>Input-Output</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>六月的雨</title>
    <link href="/2020/06/14/%E5%85%AD%E6%9C%88%E7%9A%84%E9%9B%A8/"/>
    <url>/2020/06/14/%E5%85%AD%E6%9C%88%E7%9A%84%E9%9B%A8/</url>
    
    <content type="html"><![CDATA[<p>似乎是，亲自经历了一场，最难毕业季。</p><p>没有头绪，没有激情，没有未来。</p><p>一切会好起来吗？</p><p>我还年轻吗？</p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/img/CMtchPW1UD2lbej.jpg" /></p>]]></content>
    
    
    
    <tags>
      
      <tag>友人</tag>
      
      <tag>雨</tag>
      
      <tag>工作</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>本站全面启用SM.MS图床服务</title>
    <link href="/2020/06/04/%E6%9C%AC%E7%AB%99%E5%85%A8%E9%9D%A2%E5%90%AF%E7%94%A8SM.MS%E5%9B%BE%E5%BA%8A%E6%9C%8D%E5%8A%A1/"/>
    <url>/2020/06/04/%E6%9C%AC%E7%AB%99%E5%85%A8%E9%9D%A2%E5%90%AF%E7%94%A8SM.MS%E5%9B%BE%E5%BA%8A%E6%9C%8D%E5%8A%A1/</url>
    
    <content type="html"><![CDATA[<p>原网页大部分图片存于github repo，部分图片应用PicGo图床。</p><p>首页大图等，对网站加载速度有较大影响，此次相关图片全面链接到SM.MS图床，应用PicGoApp作为上传介质，网页加载速度有了较大改观。</p><p>祈祷SM.MS能稳定存活下去！</p><p><img src="/img/3EtO5TI1SWd6cjg.png" /></p>]]></content>
    
    
    
    <tags>
      
      <tag>图床</tag>
      
      <tag>SM.MS</tag>
      
      <tag>PicGo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>疫情后房地产市场政策与走势</title>
    <link href="/2020/05/25/%E7%96%AB%E6%83%85%E5%90%8E%E6%88%BF%E5%9C%B0%E4%BA%A7%E5%B8%82%E5%9C%BA%E6%94%BF%E7%AD%96%E4%B8%8E%E8%B5%B0%E5%8A%BF/"/>
    <url>/2020/05/25/%E7%96%AB%E6%83%85%E5%90%8E%E6%88%BF%E5%9C%B0%E4%BA%A7%E5%B8%82%E5%9C%BA%E6%94%BF%E7%AD%96%E4%B8%8E%E8%B5%B0%E5%8A%BF/</url>
    
    <content type="html"><![CDATA[<p>讲座笔记</p><p>主讲人：邓宏乾教授</p><p>平台：哔哩哔哩直播间</p><p>时间2020年4月25日晚</p><figure><img src="https://i.loli.net/2020/05/25/D6vaeBgAUTEMWrn.jpg"alt="92533656a61af49e867692ec189f13a" /><figcaptionaria-hidden="true">92533656a61af49e867692ec189f13a</figcaption></figure><p>邓院长的讲座，依旧每个字都能看懂，但联系上下文就听不懂了！</p><p>PS：由于未及时进入直播间，开场前十多分钟的内容有所遗漏，抱歉。</p><p>邓院长引用了太多数据，诸多地方不宜纯文字记录，所以本文多用截图，敬请见谅。</p><h3 id="一疫情对房地产市场的影响">一、疫情对房地产市场的影响</h3><figure><img src="https://i.loli.net/2020/05/25/bMuS5HqiNY8T9Vh.png"alt="image-20200525185713659" /><figcaption aria-hidden="true">image-20200525185713659</figcaption></figure><p>邓老师对武汉房市的判断：短期内压力大，中长期看好。</p><p>咨询了部分地产界的朋友，不少声音对武汉预期房市持乐观态度。</p><p><strong>物业</strong>：武汉房地产公布了一批满意物业名单，后期亦公布了部分群众不满意的物业服务名单。物业质量，未来会成为居民购房的重要考察指标（指标重视能持续多久？）</p><p><strong>交通</strong>：预期，非中心城区、交通便利的楼盘更受欢迎（疫情风险低）</p><ul><li>房价房租下跌的风险</li></ul><p>主要集中在较弱的三四线城市，这部分地方，受疫情影响，人们收入降低，投资观望情绪严重；同时，人口流动较弱，租赁市场受影响较大。</p><p>根本原因：三四线城市是人口流出地，受房改、旧城改造等行动，房价上升，疫情后，无持续上升动力</p><p>邓老师认为今年吃财政饭的公务员群体，会有大概率降薪（20%幅度）。</p><ul><li><p>房企债务风险（房企股权质押规模大）</p></li><li><p>房企净负债率高（到期债务规模大，未来两年到期超万亿）、一季度发债规模大。至四月八日，已有几十家房企被并购或清算</p></li><li><p>房企投资增长下跌的风险(回款下跌、土地市场冷淡、信贷受挫，新增贷款不得流入房地产开发领域)</p></li><li><p>个贷偿还受影响 、租金贷问题</p></li></ul><figure><img src="https://i.loli.net/2020/05/25/ex3SPAR27yQtGCV.png"alt="image-20200525191357572" /><figcaption aria-hidden="true">image-20200525191357572</figcaption></figure><figure><img src="https://i.loli.net/2020/05/25/iszROEtlrIDZq1A.png"alt="image-20200525191443774" /><figcaption aria-hidden="true">image-20200525191443774</figcaption></figure><h3 id="二房地产市场的主要问题">二、房地产市场的主要问题</h3><h4id="高房价与居民的住房支付能力不足">2.1高房价与居民的住房支付能力不足</h4><figure><img src="https://i.loli.net/2020/05/25/quvaixeZGVr1729.png"alt="image-20200525191524000" /><figcaption aria-hidden="true">image-20200525191524000</figcaption></figure><figure><img src="https://i.loli.net/2020/05/25/fZ2hBamrTGAOzlH.png"alt="image-20200525191621627" /><figcaption aria-hidden="true">image-20200525191621627</figcaption></figure><figure><img src="https://i.loli.net/2020/05/25/KmaRizLyCU68W9X.png"alt="image-20200525191652113" /><figcaption aria-hidden="true">image-20200525191652113</figcaption></figure><p>邓院长认为官方公布的19年武汉新房均价偏低</p><ul><li>租金收入比高（正常值不超过收入25%，30%为警戒线）</li></ul><figure><img src="https://i.loli.net/2020/05/25/XzwgbYvKCr9dFox.png"alt="image-20200525191835823" /><figcaption aria-hidden="true">image-20200525191835823</figcaption></figure><p>所有城市都超过25%</p><figure><img src="https://i.loli.net/2020/05/25/EkLRMVZTqJGI1w8.png"alt="image-20200525191941925" /><figcaption aria-hidden="true">image-20200525191941925</figcaption></figure><p>宏观调控拉高房价的怪圈</p><p>土地财政</p><figure><img src="https://i.loli.net/2020/05/25/fZ8OQKH1zcCaALw.png"alt="image-20200525192157347" /><figcaption aria-hidden="true">image-20200525192157347</figcaption></figure><p>若以城市来看（撇去农村），土地出让收入占财政收入比重更高，武汉19年为1.1倍。</p><p>这与我国的税制（分税制）和官员考核制度（GDP）有关</p><figure><img src="https://i.loli.net/2020/05/25/t1d8nZQYU7x6Kza.png"alt="image-20200525192522092" /><figcaption aria-hidden="true">image-20200525192522092</figcaption></figure><p>房地产绑架国民经济vs国民经济绑架房地产</p><p>投资拉动过大</p><figure><img src="https://i.loli.net/2020/05/25/D7GrIwEoYi6tfJg.png"alt="image-20200525193003927" /><figcaption aria-hidden="true">image-20200525193003927</figcaption></figure><p><strong>1998</strong>：把住宅产业培育成国民经济新的经济增长点和消费热点（1998年，住房分配货币化和社会化）东南亚金融危机</p><p><strong>2003</strong>：房地产业成为国民经济的支柱产业（SARS）</p><p><strong>2008</strong>：应对经济危机，四万亿，要求地方政府大力扶持房地产</p><p><strong>2015</strong>：股市暴跌，流动性（大水）涌入房市</p><p><strong>预期</strong>：为保增长，（新）基建投资仍然是主要手段</p><ul><li>货币宽松与流动性过剩（08年后，发大水）</li></ul><figure><img src="https://i.loli.net/2020/05/25/HtvZQgA1aXsepVu.png"alt="image-20200525193128810" /><figcaption aria-hidden="true">image-20200525193128810</figcaption></figure><figure><img src="https://i.loli.net/2020/05/25/cHzO2Joa4duNwlF.png"alt="image-20200525193327336" /><figcaption aria-hidden="true">image-20200525193327336</figcaption></figure><ul><li>房地产调控政策不稳定，改变了购房预期</li></ul><figure><img src="https://i.loli.net/2020/05/25/iuoBMjmVqACI3Xh.png"alt="image-20200525193452514" /><figcaption aria-hidden="true">image-20200525193452514</figcaption></figure><p>↑划重点，这部分要考的！</p><p>调控目标总是在 保增长、稳房价、扩就业中摇摆，增长动力不足，就放开房价；</p><p>15年取消限购限价后，房价报复性暴涨（一线城市、去化周期短，供给不足）</p><p>16年又开始限价 限离婚、限卖</p><h4 id="城市之间发展不平衡">2.2城市之间发展不平衡</h4><figure><img src="https://i.loli.net/2020/05/25/Ud7ePDWhVpLRHmQ.png"alt="image-20200525194130343" /><figcaption aria-hidden="true">image-20200525194130343</figcaption></figure><p>短期看政策、中期看产业、长期看人口</p><h4id="住房需求结构不合理重产权轻租赁">2.3住房需求结构不合理（重产权、轻租赁）</h4><p>疫情后，<strong>重产权情况可能加重</strong>。发达国家的住房自有率在50%左右，我国超过90%，职住不匹配。</p><p>城镇居民家庭总体财富70%+配置在住房上。</p><figure><img src="https://i.loli.net/2020/05/25/OXEp4j9eV1Tvoa7.png"alt="image-20200525194713393" /><figcaption aria-hidden="true">image-20200525194713393</figcaption></figure><figure><img src="https://i.loli.net/2020/05/25/wTCMUkzKxQislh1.png"alt="image-20200525194925364" /><figcaption aria-hidden="true">image-20200525194925364</figcaption></figure><p>疫情之后，租赁市场需要更多干预！</p><p>出租的收益过低，需要50年+才能收回投资</p><p>万科、远洋等进入租赁市场的企业，逐渐退出！</p><p>社会资本不care</p><p>政府应给予租赁主体减税、降税、补贴（租赁补贴缺乏发放途径）。</p><h4 id="住房投资需求与金融化过度">2.4住房投资需求与金融化过度</h4><figure><img src="https://i.loli.net/2020/05/25/dyHP7xOpu8kBeI9.png"alt="image-20200525195325873" /><figcaption aria-hidden="true">image-20200525195325873</figcaption></figure><p>防范房地产市场金融风险和明斯基时刻。</p><h3 id="三疫情后房地产市场政策判断">三、疫情后房地产市场政策判断</h3><h4 id="宏观经济政策分析">3.1宏观经济政策分析</h4><figure><img src="https://i.loli.net/2020/05/25/9rpGTePisO3fvNt.png"alt="image-20200525195725772" /><figcaption aria-hidden="true">image-20200525195725772</figcaption></figure><figure><img src="https://i.loli.net/2020/05/25/iuYeOB1tDjskzN4.png"alt="image-20200525195938041" /><figcaption aria-hidden="true">image-20200525195938041</figcaption></figure><figure><img src="https://i.loli.net/2020/05/25/OQbkSfuCvJwqrHx.png"alt="image-20200525200215403" /><figcaption aria-hidden="true">image-20200525200215403</figcaption></figure><p>贷款市场报价利率连续降低，预期未来仍有下降空间。</p><p>首套房基点低</p><figure><img src="https://i.loli.net/2020/05/25/HhFsBGictj4NM5g.png"alt="image-20200525200634878" /><figcaption aria-hidden="true">image-20200525200634878</figcaption></figure><figure><img src="https://i.loli.net/2020/05/25/Ki3bcC1jxmhd7XP.png"alt="image-20200525200739805" /><figcaption aria-hidden="true">image-20200525200739805</figcaption></figure><figure><img src="https://i.loli.net/2020/05/25/AGHs9XgRekh5pLq.png"alt="image-20200525200925996" /><figcaption aria-hidden="true">image-20200525200925996</figcaption></figure><h4 id="房地产政策走势判断">3.2房地产政策走势判断</h4><figure><img src="https://i.loli.net/2020/05/25/7gwNErulqLaKkCM.png"alt="image-20200525201119217" /><figcaption aria-hidden="true">image-20200525201119217</figcaption></figure><p>支持刚需房、改善性需求的释放（疫情后，必须将房地产作为拉动经济的工具使用）</p><figure><img src="https://i.loli.net/2020/05/25/nTiAVhJpKRfB3XP.png"alt="image-20200525201351390" /><figcaption aria-hidden="true">image-20200525201351390</figcaption></figure><p>房地产双向限价（限涨限跌）</p><p>3.9万个老旧小区改造</p><figure><img src="https://i.loli.net/2020/05/25/DKlqeyu73IGL6YX.png"alt="image-20200525201617865" /><figcaption aria-hidden="true">image-20200525201617865</figcaption></figure><p>供需两端同时调整</p><p>创新资金监管：对信誉好的企业，减少监管资金</p><figure><img src="https://i.loli.net/2020/05/25/YDm1o4ZW3cktp89.png"alt="image-20200525202037701" /><figcaption aria-hidden="true">image-20200525202037701</figcaption></figure><p>因城施策</p><h3 id="四未来房地产市场发展判断">四、未来房地产市场发展判断</h3><h4 id="总体判断">4.1总体判断</h4><figure><img src="https://i.loli.net/2020/05/25/4kUpunYlrR1wLDy.png"alt="image-20200525202115426" /><figcaption aria-hidden="true">image-20200525202115426</figcaption></figure><p>目前常住人口城市化率已达60%</p><figure><img src="https://i.loli.net/2020/05/25/7K9IExj6fOiVsDB.png"alt="image-20200525202420283" /><figcaption aria-hidden="true">image-20200525202420283</figcaption></figure><figure><img src="https://i.loli.net/2020/05/25/6w8DoZ9yueUiaOv.png"alt="image-20200525202601201" /><figcaption aria-hidden="true">image-20200525202601201</figcaption></figure><figure><img src="https://i.loli.net/2020/05/25/1gpIJjHeSvEb2ts.png"alt="image-20200525202619532" /><figcaption aria-hidden="true">image-20200525202619532</figcaption></figure><p>4.2未来发展趋势</p><figure><img src="https://i.loli.net/2020/05/25/3x4HRKgLwrAozXm.png"alt="image-20200525202759445" /><figcaption aria-hidden="true">image-20200525202759445</figcaption></figure><figure><img src="https://i.loli.net/2020/05/25/uQLGYTEwtWoCI6K.png"alt="image-20200525203016080" /><figcaption aria-hidden="true">image-20200525203016080</figcaption></figure><figure><img src="https://i.loli.net/2020/05/25/iClfX5yMLZ9bsEN.png"alt="image-20200525203206922" /><figcaption aria-hidden="true">image-20200525203206922</figcaption></figure><figure><img src="https://i.loli.net/2020/05/25/oJjmX149eaACVrM.png"alt="image-20200525203322678" /><figcaption aria-hidden="true">image-20200525203322678</figcaption></figure><p>Q&amp;A：</p><ol type="1"><li>有同学认为三四线城市房价会上涨（疫情影响小？）</li></ol><p>答：区域中心城市周围三四线城市没有问题，但其他城市，缺乏人口支撑</p><ol start="2" type="1"><li>深圳房价出现上涨的原因</li></ol><p>答：深圳有两千多万人，但深圳市区住房总量只占48%，关外城中村占52%（1500万人），政策放松后需求得到释放</p><ol start="3" type="1"><li>LPR会不会被套牢</li></ol><p>答：不会。疫情的影响具有长期性</p><ol start="4" type="1"><li>武汉房价走势</li></ol><p>答：武汉目前均价不高（相比同级别城市），2w左右，三环以内还有一定上涨空间。</p><ol start="5" type="1"><li>租赁商铺如何稳住</li></ol><p>答：政府减税、双向</p><ol start="6" type="1"><li>房地产泡沫会破灭吗</li></ol><p>答：不会。随着全球范围内的货币宽松，人们会选择将资产配置到实体住房上。</p><ol start="7" type="1"><li>集体建设用地入市效应</li></ol><p>答：有待观察</p><ol start="8" type="1"><li>小产权房问题</li></ol><p>答：总量有20亿+平方米，分类合法化、逐步合法化。非永久基本农田、可调整的规划中，会被合法化。</p>]]></content>
    
    
    
    <tags>
      
      <tag>笔记</tag>
      
      <tag>疫情</tag>
      
      <tag>房地产</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>狩猎天空</title>
    <link href="/2020/05/15/%E7%8B%A9%E7%8C%8E%E5%A4%A9%E7%A9%BA/"/>
    <url>/2020/05/15/%E7%8B%A9%E7%8C%8E%E5%A4%A9%E7%A9%BA/</url>
    
    <content type="html"><![CDATA[<figure><img src="https://i.loli.net/2020/05/15/GjXMBVREFvwOt5P.jpg"alt="33ab3c7e50bd102cc6b9ba1d145c9aa" /><figcaptionaria-hidden="true">33ab3c7e50bd102cc6b9ba1d145c9aa</figcaption></figure><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image/img/aHpuW4soUcwvxBq.jpg" /></p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image/img/onL6FKBiCqapmQD.jpg" /></p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image/img/IBTXes2KixMN7rJ.jpg" /></p><figure><img src="https://i.loli.net/2020/05/15/zjGwVQa94KxPEri.jpg"alt="IMG_20200416_190452" /><figcaption aria-hidden="true">IMG_20200416_190452</figcaption></figure><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image/img/2TdlSVJLej8FmPc.jpg" /></p>]]></content>
    
    
    
    <tags>
      
      <tag>天空</tag>
      
      <tag>彩虹</tag>
      
      <tag>照片</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>如果可以忘记</title>
    <link href="/2020/05/13/%E5%A6%82%E6%9E%9C%E8%83%BD%E5%BF%98%E8%AE%B0%E5%B0%B1%E5%A5%BD%E4%BA%86/"/>
    <url>/2020/05/13/%E5%A6%82%E6%9E%9C%E8%83%BD%E5%BF%98%E8%AE%B0%E5%B0%B1%E5%A5%BD%E4%BA%86/</url>
    
    <content type="html"><![CDATA[<p>每天</p><p>都被强烈的不真实感包裹</p><p>如果可以忘记就好了</p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image/img/ZgnWrQXko3ND71F.jpg" /></p>]]></content>
    
    
    
    <tags>
      
      <tag>梦魇</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>专卖店四人组再聚首</title>
    <link href="/2020/05/11/%E4%B8%93%E5%8D%96%E5%BA%97%E5%9B%9B%E4%BA%BA%E7%BB%84%E5%86%8D%E8%81%9A%E9%A6%96/"/>
    <url>/2020/05/11/%E4%B8%93%E5%8D%96%E5%BA%97%E5%9B%9B%E4%BA%BA%E7%BB%84%E5%86%8D%E8%81%9A%E9%A6%96/</url>
    
    <content type="html"><![CDATA[<p>14年的暑假，高考结束的第二天找兼职，凭着高中四年积累的“搞机”知识，进入OPPO当起了暑期临促，就这样，开启了和OPPO、专卖店的奇妙缘分。</p><p>一开始其实不在专卖店，而在专卖店对面的店子，后来调到专卖店。据说调来之前，还和好姐杠了一下，哈哈。</p><p>和周姐、好姐、力哥相识，是很幸运的事情，而这神奇的缘分竞持续至今，还会延续很久很久~</p><p>今晚聚餐，杨林哥也来了，好姐一家四位，她儿女双全，真的美满。周姐也是，两个儿子，可爱的凡哥还在安庆一中的重点班上，真的强！</p><p>力哥在海南当兵，海军，他和杨林哥一样，都是军人了！</p><p>已经过去六年，却感觉周姐好姐越来越年轻，今天刚见到周姐，感觉她皮肤好好，而好姐呢，染了头发，蓬松的刘海，似少女。（这哪是两个孩子的母亲呀！）</p><p>会是彼此超级棒的朋友，缘分会天长地久！</p>]]></content>
    
    
    
    <tags>
      
      <tag>专卖店</tag>
      
      <tag>OPPO</tag>
      
      <tag>聚会</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>换源记录</title>
    <link href="/2020/05/11/%E6%8D%A2%E6%BA%90%E6%9B%B4%E6%96%B0/"/>
    <url>/2020/05/11/%E6%8D%A2%E6%BA%90%E6%9B%B4%E6%96%B0/</url>
    
    <content type="html"><![CDATA[<p>先前在同门师兄的介绍下，get了半年阿里云的ECS，但是我的域名没有备案，应该无法使用。此外，阿里云终究是要收费的，故此，寻找一项稳定的博客存储仓库成为刚需。</p><p>简单试用了一下<a href="https://gitee.com/">码云</a>，可以无缝Forkgithub仓库，但是，速度很慢很不稳定。搜寻得知vercel平台（原名zeit），服务器据说在台湾，试用了一下，速度很快，最低的延迟只有50ms。</p><p>vercel具有诸多优点：</p><ul><li>无缝链接github repo，本地deploy之后，vercel能即刻同步</li><li>设置页面简洁、人性化</li><li>免费</li></ul><p>故此，本博客暂存到vercel服务器，但同时保留githubpage，github.io页面与vercel页面同时定向至<ahref="https://yuzhangnju.me/">yuzhangnju.me</a>。</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/img/image-20200511172822078.png"alt="image-20200511172822078" /><figcaption aria-hidden="true">image-20200511172822078</figcaption></figure><p>对比github page，优势巨大！</p><p>PS：今晚专卖店四人组，时隔多年再聚首，期待！</p>]]></content>
    
    
    
    <tags>
      
      <tag>Github</tag>
      
      <tag>zeit</tag>
      
      <tag>vercel</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>警惕因果推断中的可能陷阱</title>
    <link href="/2020/04/23/%E8%AD%A6%E6%83%95%E5%9B%A0%E6%9E%9C%E6%8E%A8%E6%96%AD%E4%B8%AD%E7%9A%84%E5%8F%AF%E8%83%BD%E9%99%B7%E9%98%B1/"/>
    <url>/2020/04/23/%E8%AD%A6%E6%83%95%E5%9B%A0%E6%9E%9C%E6%8E%A8%E6%96%AD%E4%B8%AD%E7%9A%84%E5%8F%AF%E8%83%BD%E9%99%B7%E9%98%B1/</url>
    
    <content type="html"><![CDATA[<h4 id="一引言">一、引言</h4><p>如果社会学科的最终归途是社会科学，那么其经验研究必须经历一场“可信性革命”<a href="#" title="Angrist J D, Pischke J S. The credibility revolution in empirical economics: How better research design is taking the con out of econometrics[J]. Journal of economic perspectives, 2010, 24(2): 3-30."><sup>[1]</sup></a>，即在研究范式上，特别是政策效果评估研究上，向自然科学的实验方法靠拢。但出于伦理要求和研究设计的限制，我们很难严格地选取处理组与控制组进行对照实验，大多数情形下只能利用观测数据而非实验数据进行因果推断。为向“大样本随机双盲对照实验”的黄金判则逼近，社会学科（尤其是经济学）的研究者们基于潜在因果框架开发了一系列“准实验方法”用以进行因果推断，主要有匹配方法、双重差分法、合成控制法和断点回归设计<a href="#" title="赵西亮. 基本有用的计量经济学: 北京大学出版社, 2017."><sup>[2]</sup></a>。</p><p>遵循着“国外理论→国外验证→国内引进→国内验证”的学术生产基本轨迹，准实验方法在国内日渐流行。且随着知识付费的接受程度越来越高，我们常常可以在一些微信公号的文章页发现抓人眼球的焦虑感制造机式标题，下拉后发现是xx方法的培训课程推广，准实验方法的教学是其中的重要内容，然而这些方法有着严苛的假设条件和检验程序，使用时需要识别可能的因果陷阱。</p><p>下面回到我的老本行，基于一个房地产领域的政策效果评估案例，提出其中可能存在的因果推断陷阱。</p><h4 id="二案例阐释">二、案例阐释</h4><p>对房产税开征及潜在政策效果的讨论在大陆处于观点争鸣之势，随着2011年上海和重庆成为两个房产税开征试点城市，相关讨论有了实验落脚点。本文选取的案例聚焦于房产税对产业转移的影响<a href="#" title="刘友金,曾小明.房产税对产业转移的影响:来自重庆和上海的经验证据[J].中国工业经济,2018(11):98-116."><sup>[3]</sup></a>，作者重点运用合成控制法对这一复杂效果进行了解析。</p><p>（一）Gaps &amp; Issues</p><p>现有研究关注到了房价上升对产业转移的影响，具体而言：</p><p>一种观点认为：</p><blockquote><p>房价上升促使了产业在区域间转移。Rabe and Taylor（2012）、Murphy etal.（2006）等认为房价上涨会抑制劳动力流入，引起企业实际负担的成本增加，对非房地产业产生挤出效应而引发产业转移。高波等（2012）研究发现，在地区间相对工资、交通成本等其他条件不变的情况下，城市相对房价上升，将促使东、中部地区城市低附加值的产业向外转移，高端制造业和第三产业得到相应发展。邵挺和范剑勇（2010）的研究认为，大型城市的房价过快上涨是长三角地区制造业产业转移的重要原因。</p></blockquote><p>另一种观点认为：</p><blockquote><p>房价上升对产业转移的影响存在“倒U型”关系。房价的适度上涨会通过集聚效应促进第二产业和第三产业的发展，过高的房价会对第二产业造成挤出效应，抑制其就业和产出，但与第三产业的就业和产出呈正相关关系（席艳玲，2013）。陈晓和张文杰（2017）的研究也得出类似结论，认为房价对产业转移的影响存在“倒U型”关系，只有当相对房价超过某一临界值，才会对第二产业的就业产生挤出效应，但对第三产业的就业和产出具有促进作用。</p></blockquote><p>以上研究结论并不一致，且并未直接涉及房产税对产业转移作用的讨论，而房产税与企业生产成本及企业投资决策紧密相关。</p><p>理论上，房产税政策对产业转移的影响主要有两条路径：</p><p>房产税影响企业生产成本：</p><blockquote><p>房产税通过降低企业生产成本，促进产业向本地转移。企业的生产成本包括劳动力成本、用地成本和信贷成本三个方便。在用人上，房价会影响劳动力流动，如驱赶低端劳动力，使中高技能劳动力成为房奴，以此改变企业的用人结构，影响企业创新；在用地方面，显然，过高的房价将推升城市的整体地价水平，企业的用地成本也将随之提升；在资金成本方面，由于房地产业过度繁荣降低了流向实体经济的信贷资金，其他产业的资金使用成本会有所上升。基于此，本地企业会寻求低成本空间，引发产业向外转移。而房产税可以增加住房拥有者的持有成本和保养成本，降低住房空置率和增加供给，抑制房价平抑地价，缓解企业的转移压力。</p></blockquote><p>房产税影响企业投资取向：</p><blockquote><p>房产税通过影响企业的投资取向，促使资本向生产部门转移。在房价非理性上涨的情形下，本地企业会倾向于将投资方向转移至房地产业，减少生产性投资，在地区层面表现为以制造业为代表的实体产业相对产值或相对就业减少。而房产税通过对房价的调节，可以减少房地产市场的泡沫，降低资源错配。企业不愿面临进入房地产业的高成本，会将更多资金投入实体产业。</p></blockquote><p>综上，房产税对产业变动的影响表现为区域间产业转移和区域内产业结构调整两个层面。</p><p>本文需要解析的研究问题是：</p><ul><li>房产税政策是否对产业转移产生影响</li><li>不同的政策设计及其不同的实施条件对产业转移的影响有何差异</li></ul><p>（二）Data &amp; methodology</p><p>原文的研究设计如下：</p><figure><img src="/img/image-20200423191928778.png"alt="image-20200423191928778" /><figcaption aria-hidden="true">image-20200423191928778</figcaption></figure><figure><img src="/img/image-20200423192012884.png"alt="image-20200423192012884" /><figcaption aria-hidden="true">image-20200423192012884</figcaption></figure><figure><img src="/img/image-20200423192056896.png"alt="image-20200423192056896" /><figcaption aria-hidden="true">image-20200423192056896</figcaption></figure><p>具体而言：文章的实证目标是用其他城市的加权平均来模拟房产税政策实施城市未征收房产税时的产业转移情况，然后与征收房产税后真实的产业转移情况进行对比来估计房产税征收对产业转移的影响。作者选取了国家统计局确定的35个大中城市作为样本，其中上海、重庆为处理组，其余33个城市为控制组。</p><p>指标：文章的被解释变量是产业和就业的变动，借鉴前人做法，使用相对产值和相对就业率来衡量产业转移的变化情况，分别用城市工业和服务业（第三产业）的产值或从业人数除以所有样本城市的平均值得到。选取了尽可能多的控制变量，包括相对工资、人均GDP、财政支出占GDP比重、人口密度、年末金融机构存款余额、医院卫生院床位数、国际互联网用户数。其中，相对工资代表企业的劳动力成本；人均GDP用来代表城市的劳动生产率；财政支出占GDP比重表示政府对市场的干预程度；人口密度代表城市产生的集聚效应；年末金融机构存款余额、医院卫生院床位数和国际互联网用户数分别代表城市的金融、医疗卫生情况和信息基础设施情况。</p><p>数据来源：历年《中国城市统计年鉴》和国家统计局网站。</p><p>（三）Results &amp; Conclusions</p><figure><img src="/img/image-20200423193004542.png"alt="image-20200423193004542" /><figcaption aria-hidden="true">image-20200423193004542</figcaption></figure><figure><img src="/img/image-20200423193025762.png"alt="image-20200423193025762" /><figcaption aria-hidden="true">image-20200423193025762</figcaption></figure><ul><li>在房价水平相对较低、处于工业化中期的重庆开征一定强度的房产税，对工业、服务业的相对产值和相对就业率均具有“促增作用”，这种“促增作用”在统计上具有显著性，在时间上具有持续性，总体表现为有效促进了产业转入；</li><li>在房价已经很高、处于工业化后期的上海开征强度较低的房产税，却降低了工业和服务业的相对产值，增加了服务业的相对就业率，没有改变已经形成的产业转出态势，但也没有达到“腾笼换鸟”的理想预期。</li></ul><p>（四）Robustness checks</p><p>作者进行了稳健性检验、安慰剂检验和其他外生冲击干扰性检验，结果稳健，不具备安慰剂效应，排除其他外生冲击干扰。</p><p>具体文章见：</p><blockquote><p>刘友金,曾小明.房产税对产业转移的影响:来自重庆和上海的经验证据[J].中国工业经济,2018(11):98-116.</p></blockquote><h4id="三可能的陷阱解析政策的长期放置">三、可能的陷阱解析——政策的长期放置</h4><p>（一）房产税对房价的影响确切吗</p><p>文章的核心理论为：房产税影响房价进而影响产业变动</p><figure><img src="/img/image-20200423194819055.png"alt="image-20200423194819055" /><figcaption aria-hidden="true">image-20200423194819055</figcaption></figure><p>从作用路径看，<strong>房产税对房价确切的平抑作用</strong>是全文的前提，然而外界对这一前提本身存在诸多质疑。</p><p>若房产税不能有效调节房价？</p><figure><img src="/img/image-20200423201805969.png"alt="image-20200423201805969" /><figcaption aria-hidden="true">image-20200423201805969</figcaption></figure><p>出于技术角度的需要，作者在文章中引用了两条房产税对房价具有抑制作用的文献，但对与此相悖的研究结论选择回避，如房产税对房价的抑制作用具有局限性且预期比房产税对房价影响更大（况伟大等，2012），开征房产税能在短期内降低房价,但是有可能拉高未来长期的房价（王敏等，2013）。</p><p>上述（包括作者引用的文献）关于房产税对房价影响的研究基本在2013年以前完成，处于政策的短期效应内，在2020年回看相关研究，则可能发现既有研究的一些问题。</p><p>对于重庆的样本，本文提出：</p><p><strong>重庆房产税试点对当地房价的短期抑制作用是领导人身份特征作用的代理</strong></p><p>即，真正在短期内抑制房价的不是房产税，而是地区行政长官，我们来看一幅图：</p><figure><img src="/img/image-20200423202910621.png"alt="image-20200423202910621" /><figcaption aria-hidden="true">image-20200423202910621</figcaption></figure><ul><li>2010年起，黄奇帆先生开始任重庆市行政机关一把手</li><li>2011年起，重庆市开启房产税征收试点工作</li><li>2010年-2016年，重庆市房产均价上涨13.8%</li><li>2010年-2016年，房产税生效、黄奇帆先生<strong>在任</strong></li><li>2017年-2020年初，重庆市房产均价上涨52.8%</li><li>2017年-2020年初，房产税生效、黄奇帆先生<strong>离任</strong></li></ul><p>理论解读：</p><ul><li>领导人身份特征在管理学界已有诸多研究，如上市公司高管身份与政治关联、对财税的影响等</li><li>黄奇帆先生曾任全国人民代表大会财政经济委员会副主任委员，具有深厚的经济理论功底，其身份特征与其他城市的领导人相比具有特殊性</li><li>黄奇帆先生任上，地票制度得以进一步发展，同时政府采取了提高房企进驻重庆的门槛、限制房企数量等诸多措施调控地价和房价</li><li>黄奇帆先生离任后，相关政策的实际执行发生了变动</li></ul><p>综上，在黄奇帆先生任期内，出于领导人的身份效应，重庆市实施了一揽子的控地价限房价政策（包括房产税征收试点），重庆市房产均价波动较小；黄奇帆先生离任仅三年，重庆市房价大幅反弹，此时原有的房产税对房价抑制作用的大小存在疑问。</p><p><strong>将房产税单项政策等同于一揽子政策簇，高估了房产税对房价的抑制作用。</strong></p><p>注：2015年我国股票市场经历了一轮过山车，低谷来临时，流动性暂时退出股市进驻方式，2015年-2016年，全国多数二线城市迎来房价经历了一轮暴涨。外部变动会加大房产税、领导人身份对房价影响的复杂性。</p><p>（二）<strong>对合成控制法过程的疑问</strong></p><p>1.<strong>合成素材的数量</strong></p><p>作者认为文章选用的合成控制法，依据多个与实验组结构相似的样本制造控制对象，可以减少主观误差。此处的“多个”为两个或三个，此时，政策时点前的合成易符合实验对象的数据走势，由于合成素材较少且变异性较大，政策试点之后易发生合成对象与实验对象走势出现分歧的现象，少样本的合成，天然有利于处理效应的解释；</p><figure><img src="/img/image-20200423205417521.png"alt="image-20200423205417521" /><figcaption aria-hidden="true">image-20200423205417521</figcaption></figure><p>2.<strong>对合成对象过程疑问</strong></p><p>以文章的图1（a）为例，作者选取了以下变量用于合成虚拟重庆的相对工业总产值：</p><figure><img src="/img/image-20200423210259574.png"alt="image-20200423210259574" /><figcaption aria-hidden="true">image-20200423210259574</figcaption></figure><p>作者提到用来构造实验对象样本的权重由程序选定，相对客观，确实如此，但合成中的变量选定确是主观操作，如，可能人为删除一些变量，改变合成效果</p><figure><img src="/img/image-20200423210846348.png"alt="image-20200423210846348" /><figcaption aria-hidden="true">image-20200423210846348</figcaption></figure><p>在删除“工业相对就业率(2006) 工业相对就业率(2008)工业相对就业率(2010)”三个变量后，发现合成效果变差了，表明可以通过改变用来合成变量调节合成效果。</p><blockquote><p>事实上，如果加入xx变量的滞后项，会较大地提升合成效果。</p></blockquote><p>3.<strong>对安慰剂检验效果的疑问</strong></p><p>在合成对象的合成素材较少且变异性较大，合成过程中可以主观更改用来合成的变量组合的情况下，安慰剂检验的通过似乎是必然的。</p><h4 id="四总结">四、总结</h4><p>本文仅基于文本和程序过程，对该案例提出可能的疑问，疑问不代表否定。</p><p>对于这类疑问，将评估对象的政策期延长，或许会得出截然相反的结论。</p><p>准实验方法中的DID、RDD亦存在类似的因果推断陷阱，如再分配效应会高估政策效果，外溢效应会使得政策效果被低估<a href="#" title="范子英.如何科学评估经济政策的效应?[J].财经智库,2018,3(03):42-64+142-143."><sup>[4]</sup></a>。相关截取如下：</p><figure><img src="/img/image-20200423212047842.png"alt="image-20200423212047842" /><figcaption aria-hidden="true">image-20200423212047842</figcaption></figure><figure><img src="/img/image-20200423212103842.png"alt="image-20200423212103842" /><figcaption aria-hidden="true">image-20200423212103842</figcaption></figure><figure><img src="/img/image-20200423212117148.png"alt="image-20200423212117148" /><figcaption aria-hidden="true">image-20200423212117148</figcaption></figure><figure><img src="/img/image-20200423212133308.png"alt="image-20200423212133308" /><figcaption aria-hidden="true">image-20200423212133308</figcaption></figure><p><strong>References</strong></p><p>[1] Angrist J D, Pischke J S. The credibility revolution in empiricaleconomics: How better research design is taking the con out ofeconometrics[J]. Journal of economic perspectives, 2010, 24(2):3-30.</p><p>[2] 赵西亮. 基本有用的计量经济学: 北京大学出版社, 2017.</p><p>[3]刘友金,曾小明.房产税对产业转移的影响:来自重庆和上海的经验证据[J].中国工业经济,2018(11):98-116.</p><p>[4]范子英.如何科学评估经济政策的效应?[J].财经智库,2018,3(03):42-64+142-143.</p>]]></content>
    
    
    
    <tags>
      
      <tag>因果推断</tag>
      
      <tag>笔记</tag>
      
      <tag>准实验方法</tag>
      
      <tag>房产税</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>并不永久的“永久基本农田”</title>
    <link href="/2020/04/16/%E8%80%95%E5%9C%B0%E4%BF%9D%E6%8A%A4%E6%94%BF%E7%AD%96%E7%9A%84%E8%BD%AC%E5%9E%8B/"/>
    <url>/2020/04/16/%E8%80%95%E5%9C%B0%E4%BF%9D%E6%8A%A4%E6%94%BF%E7%AD%96%E7%9A%84%E8%BD%AC%E5%9E%8B/</url>
    
    <content type="html"><![CDATA[<h2id="并不永久的永久基本农田耕地保护政策转型讲座笔记">并不永久的“永久基本农田”——《耕地保护政策转型》讲座笔记</h2><p>主讲人：吴宇哲（浙江大学公共管理学院）</p><p>日期：2020年4月15日</p><p>平台：腾讯会议</p><p>主题：耕地保护政策的转型——兼谈全球疫情爆发的应对</p><p><img src="/img/image-20200415160200032.png" alt="image-20200415160200032" style="zoom:50%;" /></p><h4 id="为什么要保护耕地">为什么要保护耕地？</h4><p>“人多地少”是中国的基本国情之一，为缓解人地矛盾，我国的发展基于以下两条基本路径：</p><ul><li>出口劳动密集型的轻工业品</li><li>进口土地依赖型的农产品</li></ul><p>两条路径，分别应对“人多”和“地少”。我们思考两条路径之外的其他可能选择，如大规模粮食进口，仔细考虑之后会发现，粮食进口面临着粮食安全的基本威胁，即：</p><ul><li>民以食为天，粮袋子不能握在别人手中</li><li>粮食禁运的可能（疫情之下，粮食禁运成为公共话题之一）</li></ul><p>于此，讨论耕地保护的话题具体现实紧迫性。</p><p>耕地保护，保什么，为什么保，怎么保？主讲人将基于耕地保护转型的几个基本阶段，尝试对上述问题做出回答。</p><h4 id="保什么特殊时期的粮食安全">保什么：特殊时期的粮食安全</h4><p>在当前经济发展和粮食供应结构（口粮基本自给、饲料粮部分进口）的背景下，我国的耕地保护，最重要的目的是保护特殊时期的粮食安全，可能的特殊时期如下：</p><ul><li>灾害：填四川、走西口、闯关东、下南洋</li><li>人口高峰：2030年人口高峰15.5亿人（预测），按人均一亩的标准，我国需永久基本农田15.5亿亩</li><li>粮食禁运等重要公共事件的应对：不可预测，如此次疫情、中美贸易战（大豆、玉米等被卡脖子）</li></ul><h4id="怎么保对耕地保护政策转型的历史考察">怎么保：对耕地保护政策转型的历史考察</h4><h4 id="一保数量耕地总量动态平衡">（一）保数量：耕地总量动态平衡</h4><p>​1995年莱斯特·布朗发布《谁来养活中国》，引发了国际社会对中国粮食问题的关注，也引发了国内高层对我国耕地资源本底和粮食生产能力的进一步关注。1996年开始，原国家土地管理局开始对全国66个城市进行卫星遥感监测，发现这些地区的建设用地严重超标，已对耕地资源造成实质损害，此后，国家短暂采取冻结建设用地审批权的办法抑制耕地侵占。</p><p>​1997年，《中共中央、国务院关于进一步加强土地管理切实保护耕地的通知》（中发[1997]11号）发布，迈出耕地保护的新步伐。次年，《土地管理法》修改完成，于1999年开始实施，“耕地总量动态平衡”成为98版《土地管理法》显示度最高的术语。然而，“耕地总量动态平衡”这一措施或理念带来了一系列问题。服从字面意义，我们从两个方面解读“耕地总量动态平衡”，首先是总量的确定，经过一系列协商，最后耕地红线定位在18亿亩，这个数据，据说是温总理干涉的结果；其次是采取何种措施达成平衡，实践的办法是“占补平衡”，即”占多少补多少“。客观上，耕地占补平衡增加了耕地占用的成本，尤其在建设用地指标采取自上而下的控制情形下，对于遏制耕地锐减具有重要意义。但占补平衡在实践中的可操作性过强，构成一把双刃剑，其使得基层落实上级政策具备更高的主动意愿倾向，也导致耕地保护政策后期的转型困难。具体而言：</p><ol type="1"><li><p>占补平衡不符合经济学原理</p><p>​在经济学上，劣等地是指人们为了满足某一用途而必须开发利用的最后一级适宜圈。对耕地占补平衡不是人们根据市场规律自发去开发的，而是在一定的制度下被动产生的，这样它可能会超越最后一级适宜圈，也就是超越了某一用途的无租边际——所“补”的耕地可能连劣等地的条件都不够，因为超越了无租边际后，土地收益为负数。“以劣补优”，即以山地、坡耕地补充被侵占的优质耕地。</p></li><li><p>占补平衡可能导致生态负效益</p><p>​耕地开发所涉及的原始地类，无非是荒草地、水塘、滩涂，或者林地、湖泊。林地、湖泊的开垦，我们已经在多次的洪涝灾害中的得到了教训。以浙江省为例，“上山入海”——山上林地与沿海滩涂是补充耕地的最直接来源。而以上两点的分析，恰恰是我们现在和未来耕地保护转向注重质量与注重生态的重要依据。</p></li><li><p>占补平衡学理上是“双重开发”</p><ul><li><p>耕地被开发为建设用地</p></li><li><p>生态用地被开发为耕地（上山入海）</p><p>双重开发的必要性存在疑问。</p></li></ul></li><li><p>单纯强调数量保护，出现耕地基数不相容的尴尬</p><p>​依据2008年国土资源公报，2008年全国耕地为18.26亿亩，到2013年，依据二调结果，全国2012年耕地总量为20.27亿亩。这种背景下，18亿亩耕地保护红线的提法理应淡化，否则多余了2亿亩耕地为何还要补充？动态平衡并不平衡，是过剩了2亿亩。（主讲人认为，此时的耕地保护红线应转移到15.46亿亩永久基本农田上来）</p></li></ol><h4id="二保数量与保质量相结合永久基本农田">（二）保数量与保质量相结合：永久基本农田</h4><ul><li><h5 id="何为永久基本农田">何为永久基本农田</h5><ul><li>我国二千多年前就有表述“上田，夫食九人。下田，夫食五人”。可见，优质耕地的保护尤为重要，而“永久基本农田”就是当前优质耕地保护的抓手。</li><li>“永久基本农田”早在2008年十七届三中全会《中共中央关于推进农村改革发展若干重大问题的决定》中就明确提出，但是这个工作的实质性推进是2014年国土资源部与农业部两部委联合发文关于《关于进一步做好永久基本农田划定工作的通知》。</li><li>2016年《全国土地利用总体规划纲要（2006~2020年）调整方案》将原先的全国==15.60亿亩==基本农田调整==15.46亿亩==，要求保护任务落实到用途管制分区，落实到图斑地块。</li></ul><blockquote><p>从15.60到15.46，减少的1400万亩，说是永久，其实并不永久。</p></blockquote></li><li><h5id="怎样保护永久基本农田以控制规划为抓手">怎样保护永久基本农田——以控制规划为抓手</h5><p>​基于规划理论，区域空间规划模式可分为发展规划模式和控制规划模式。发展规划，即目标在于区域发展，需要安排哪些空间要被开发，设定被开发的类型、强度和时序；控制规划即规定哪些空间不能被开发，设定被保护的类型、等级、年限。永久基本农田划定显然属于控制规划的范畴。</p><p>​如果基本农田严格采取控制规划模式，那么耕地占补平衡的政策也就多余了，或者说，只有这样我们才能真正保护优质耕地，否则，以后即使画了生态红线，我们也一定会出台“林地占补平衡政策”或“湿地占补平衡政策”。</p></li><li><h5id="永久基本农田与一般农田动态平衡的转型">永久基本农田与一般农田——动态平衡的转型</h5><p>​从政策上而言，永久基本农田无疑是对基本农田概念的一种强化，其划定要求更加严格，监管措施更加严厉。永久基本农田政策是基本农田政策失效之后的一种“亡羊补牢”。基本农田是耕地中质量较高的耕地，占到耕地数量的80%及以上。而永久基本农田是必须保障不变更用途的耕地。如果永久基本农田能够保障不变动，那么大部分的粮食可以得到保障，剩下的粮食可以交给市场配置。</p><p>​ 此时，一般农田与永久基本农田的功能、保护强度，都有所不同：</p><ul><li><p>永久基本农田：控规，严格管控，任何情况下都不能动</p></li><li><p>一般农田：占用审批制度</p></li></ul><p>​相关政策结合：（1）一般农田占用实行经济补偿，这部分款项不再用于耕地数量的开发，而是可用于提升永久基本农田的质量，或用于对西部的转移支付，提升西部的农田质量，服务于乡村振兴精准扶贫等；（2）与土地整治、高标准农田建设等相对接，原有的高标准农田建设在一般农田上，而规划一改，这部分被整治的耕地用于建设开发，造成严重的资源浪费，若将高标准农田建设与永久基本农田结合起来，则可以将土地整治的效益固定下来。</p></li><li><h5 id="时限">时限</h5><p>​永久基本农田并不永久，但其应当有个保护时限，这个时限应为2030年，因：（1）2030与《全国国土规划纲要（2016-2030）》时间吻合；（2）根据我国人口年龄结构与生育观念，预计到2030年我国人口数量将到最高峰。人口数量最高峰也就是我国粮食安全的最最关键时期。</p></li></ul><h4id="三保生态生态文明为导向的耕地保护政策创新">（三）保生态——生态文明为导向的耕地保护政策创新</h4><p>​十九大报告强调永久基本农田同时，强调建立耕地草原森林河流湖泊休养生息制度，指出扩大退耕还林还草和扩大轮作休耕试点，以生态文明为导向，建立市场化、多元化生态补偿机制。可以想象，2035年基本实现社会主义现代化的中国，那时的人口已经度过的高峰，粮食安全的重要性将被生态安全所取代。</p><p>​2017年中共中央、国务院《关于加强耕地保护和改进占补平衡的意见》提出了耕地保护数量、质量、生态三位一本的基本意图：</p><ul><li>数量保护：考虑保护政策改革的路径依赖</li><li>数量与质量相结合：提高粮食综合生产能力，保障国家粮食安全</li><li>生态保护：此处又有两层意图，<ul><li>保护耕地本身就是保护生态</li><li>耕地数量保护不能忽略对生态的负面效应</li></ul></li></ul><h5 id="耕保如何创新">2030耕保如何创新</h5><ul><li>到2030年，对于永久基本农田，仍应坚持采用严格的用途管制，而且那个时候由于城市化以进入稳定期，建设占用耕地的压力已不是非常大，永久基本农田保护理应继续实施</li><li>除了局部地区由于认识局限导致的错误划分(如生态敏感区进入永久基本农田)需进行修改调整，也即退耕还林还草。永久基本农田的轮作休耕应该广泛式推进，保护地力，减少化肥农药的使用</li><li>对于一般农田，依据用途管制可以审批后占用，但是必须提供双重经济补充<ul><li>在永久基本农田区提升质量</li><li>与之同时，重点在于林地或湿地的生态维护，使得生态效应得到提升</li></ul></li></ul><p>Q&amp;A：</p><p>（1）问：永久基本农田可以切割吗？</p><p>​答：可以。基于强举证原则，如xx永久基本农田区水源无法保证、发生重点污染事件、土地沙化等事件，可以进行切割。</p><p>（2）问：生态修复与永久基本农田的冲突</p><p>​ 答：生态红线优于永久基本农田</p>]]></content>
    
    
    
    <tags>
      
      <tag>笔记</tag>
      
      <tag>讲座</tag>
      
      <tag>耕地</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Typora基础笔记</title>
    <link href="/2020/04/11/Typora%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/"/>
    <url>/2020/04/11/Typora%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h2 id="一简介">一、简介</h2><p><ahref="https://www.typora.io/">Typora</a>是一款支持Markdown语法的文本编辑器，有着“书写即美学”的美誉，将文字敲出时即完成排版<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><spanclass="hint--top hint--rounded"aria-label="https://www.bilibili.com/video/BV1ox411y7Mc?from=search&amp;seid=4186236951465042906">[1]</span></a></sup>，它有诸多优点：</p><ul><li>解放鼠标操作，专注书写（严格来说这是Markdown语法的优势？）</li><li>所写所见即所得，上传到网页一般不会发生排版变化</li><li>极简设计，有种类似于<code>oneplus无负担的快</code>的感觉</li><li>没有源代码和生成后对照模式，书写更为专注</li><li>相比其他编辑器，Typora支持较多的快捷键</li><li>丰富的主题、帮助和其他自定义设置</li><li>易于导出和分享</li></ul><h2 id="二基础语法">二、基础语法</h2><h3 id="一多级标题">（一）多级标题</h3><p>在原生的Markdown语法中，多级标题通过 <code>#</code>加空格实现，如：</p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs clean"># 一级标题<br>## 二级标题<br>### 三级标题<br></code></pre></td></tr></table></figure><p><code>#</code>的个数表示标题级别，Typora最多支持六级标题，以上操作可以通过<code>Ctrl+（1~6）</code>实现，数字表示标题级别，如：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">Ctrl</span>+<span class="hljs-number">1</span> 一级标题<br><span class="hljs-attribute">Ctrl</span>+<span class="hljs-number">2</span> 二级标题<br><span class="hljs-attribute">Ctrl</span>+<span class="hljs-number">3</span> 三级标题，以此类推，效果↓<br></code></pre></td></tr></table></figure><h6 id="image-20200411193702341"><imgsrc="/img/image-20200411193702341.png"alt="image-20200411193702341" /></h6><blockquote><p>Typora支持快捷键调节标题级别，通过<code>Ctrl+（=/-）</code>实现</p></blockquote><h3 id="二突出特殊显示">（二）突出/特殊显示</h3><ul><li><em>斜体</em>：<code>*要斜体的文本*</code>，在要斜体的文本前后各输入一个*，快捷键为<code>Ctrl+I</code></li><li><strong>加粗</strong>：<code>**要加粗的文本**</code>，在要加粗的文本前后各输入两个*，快捷键为<code>Ctrl+B</code></li><li><strong><em>粗斜</em></strong>：<code>***要加粗的斜体***</code>，在要加粗的斜体文本前后各输入三个***</li><li>==高亮==：<code>==高亮==</code>，在要高亮的文本前后各输入两个=</li><li><del>删除</del>：<code>~~删除~~</code>，在要画删除线的文本前后各输入两个~，快捷键为<code>Alt+Shift+5</code></li><li><u>下划线</u>：<code>&lt;u&gt;下划线&lt;/u&gt;</code>，注意斜杠/，文本前后分别为<code>&lt;u&gt;</code>和<code>&lt;/u&gt;</code>，快捷键为<code>Ctrl+U</code></li><li><code>代码</code>：即在两个`反引号（英文输入状态下Esc键下方按键）之间插入想展示的内容，快捷键为<code>Ctrl+Shift+反引号</code></li><li><spanclass="math display">\[e^x\]</span>：上标，^^，在两个小尖尖内输入需要上标的内容,如<code>e^x^</code></li><li><spanclass="math display">\[y_{t-1}\]</span>：下标，~~，在两个波浪号间输入需要下标的内容，如<code>y~t-1~</code></li></ul><blockquote><p>高亮在本博客无法正确显示，HTML高亮文本需要其他操作</p></blockquote><blockquote><p>部分功能，如高亮，需要在偏好设置（Markdown扩展语法）内启用</p></blockquote><blockquote><p>快捷键后接的内容通常是相应表示英文的首字母，如粗体Bold、斜体Italic</p></blockquote><blockquote><p>以上文本与符号连接处不能存在空格，否则语法无效，如<code>==高亮 ==</code>，无法正确高亮</p></blockquote><blockquote><p>若想展示带符号的标记语言或原文本，可通过在代码段内书写或在符号前插入反斜杠   转义实现</p></blockquote><h3 id="三列表">（三）列表</h3><h4 id="无序列表">1. 无序列表</h4><p>第二节的展示使用了无序列表，即没有顺序的标号，可通过 加号+空格 或减号+空格 或 星号+空格 实现，如：</p><ul><li>无序列表1</li><li>无序列表2<ul><li>无序列表2.1<ul><li>无序列表2.1.1</li></ul></li></ul></li></ul><blockquote><p>说是无序，其实也不是那么无序，可通过缩进表示内容层级</p></blockquote><blockquote><p>快捷键为<code>Ctrl+Shift+[</code>，这个快捷键，说快捷其实并不快捷</p></blockquote><h4 id="有序列表">2. 有序列表</h4><p>即有顺序的列表，通过 数字+点+空格 实现，如：</p><ol type="1"><li><p>一级列表</p></li><li><p>二级列表</p><p>2.1 二级细分</p><p>2.2 二级细分</p><p>​ 2.2.1 二级再细分</p></li></ol><blockquote><p>不快捷的快捷键为<code>Ctrl+Shift+]</code></p></blockquote><blockquote><p>与无序列表类似，可通过缩进展示更多细分层级</p></blockquote><h4 id="任务列表">3. 任务列表</h4><p>即可以check的列表，语法为<code>- [ ]</code>，减号后、括号内和括号后各有一个空格，括号内输入x及表示勾选</p><ul class="task-list"><li><p><label><input type="checkbox" />今天要做运动</label></p></li><li><p><label><input type="checkbox"checked="" />晚上更新blog</label></p></li></ul><blockquote><p>勾选的操作也可以通过鼠标点击实现</p></blockquote><blockquote><p>类似地，任务列表也可以通过缩进表示更多细分层级且支持自动填充</p></blockquote><blockquote><p>任务列表在本博客网页会出错，Typora预览模式的效果如下：</p></blockquote><figure><img src="/img/image-20200411204423067.png"alt="image-20200411204423067" /><figcaption aria-hidden="true">image-20200411204423067</figcaption></figure><h3 id="四插入内容">（四）插入内容</h3><h4 id="表格">1. 表格</h4><p>​源代码为如下，快捷键为<code>Ctrl+T</code>，对齐可通过在第二行调整冒号的位置和个数实现</p><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">|<span class="hljs-string"> 姓名 </span>|<span class="hljs-string"> 年龄 </span>|<span class="hljs-string"> 职业 </span>|<br>|<span class="hljs-string"> :--- </span>|<span class="hljs-string"> :--: </span>|<span class="hljs-string"> ---: </span>|<br>|<span class="hljs-string"> Yui  </span>|<span class="hljs-string">  18  </span>|<span class="hljs-string"> 学生 </span>|<br></code></pre></td></tr></table></figure><p>​ 效果如下：</p><table><thead><tr class="header"><th style="text-align: left;">姓名</th><th style="text-align: center;">年龄</th><th style="text-align: right;">职业</th></tr></thead><tbody><tr class="odd"><td style="text-align: left;">Yui</td><td style="text-align: center;">18</td><td style="text-align: right;">学生</td></tr></tbody></table><p>​可直接在表格内填入相应内容，本博客的渲染器显示的表格与Typora预览模式有所不同</p><p>​ 调整对齐方式、更改行/列数等操作通过鼠标点击似乎更为快速</p><h4 id="图片">2. 图片</h4><p>一般而言，Typora插入图片主要有绝对位置、相对位置、图床链接（也可以算作相对位置，）三种方式，其语法为<code>![]()</code>，中括号内为图片名称，小括号内为图片位置或链接，再接"title"时，将光标移至图片可显示图片标签，快捷键为<code>Ctrl+Shift+I</code>，三种位置解释如下：</p><ul><li><p>绝对位置，即图片在本地的位置，可直接拉取或粘贴实现</p></li><li><p>相对位置，即Markdown文档和图片位置的相对不变即可，文件整体的移动不影响索引</p></li><li><p>图床链接，即将图片上传到相应的图床服务商，获取链接，也可以填入相关网络图片的链接</p></li></ul><p>建议使用相对位置或图床，此处以hexo为例，演示相对位置的操作：</p><ol type="1"><li>Typora软件中，格式→图像→全局图像设置，做如下设置，即指定复制路径到博客图片根目录并勾选相关内容</li></ol><figure><img src="/img/image-20200411165759287.png" title="图像设置"alt="image-20200411165759287" /><figcaption aria-hidden="true">image-20200411165759287</figcaption></figure><ol start="2" type="1"><li>引用网络相关图片，按语法填入名称和位置即可</li></ol><h4 id="超链接">3. 超链接</h4><ul><li><p>如本博客地址<ahref="https://yuzhang.pages.dev/">yuzhang.pages.dev</a>，点击即可跳转，其语法为中括号接小括号，<code>[]()</code>，中括号填入想要显示的字符，小括号内为链接地址。</p></li><li><p>设置点击原网址跳转，可写为：<code>&lt;https://yuzhang.pages.dev&gt;</code>，效果为<ahref="https://yuzhang.pages.dev"class="uri">https://yuzhang.pages.dev</a></p></li><li><p>给图片加超链接，即将插入图片与插入链接的语法结合起来，如点击下图可跳转至本博客的关于页（此处有错误暂不知如何处理）：</p><p>语法示例：<code>[![touxiang](/img/touxiang.jpg)](https://yuzhang.pages.dev/about/)</code></p></li></ul><p><a href="https://www.yuzhangnju.me/about/"><imgsrc="/img/touxiang.jpg" alt="touxiang" /></a></p><blockquote><p>各类链接可使用参考链接表示，放至文章末尾，使源代码模式下的正文内容更为简洁</p></blockquote><p>​ 如：<code>[bilibili][B站]</code>，显示为 <ahref="https://www.bilibili.com">bilibili</a></p><p>​ <code>[B站]: https://www.bilibili.com</code></p><h4 id="代码块">4. 代码块</h4><p>三个反引号或快捷键<code>Ctrl+Shift+K</code>，插入代码块，选择相应的语言名称可实现代码高亮:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">hexo clean<br>hexo g<br>hexo d<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;hello world&quot;</span>)<br></code></pre></td></tr></table></figure><h4 id="公式块">5. 公式块</h4><p>两对美元符号之间插入，或快捷键<code>Ctrl+Shift+M</code>：</p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs gams"><span class="hljs-symbol">$</span><span class="hljs-symbol">$</span><br>y=\alpha+\beta_1x_1+\beta_2x_2+...+\beta_&#123;n<span class="hljs-number">-1</span>&#125;x_&#123;n<span class="hljs-number">-1</span>&#125;+\beta_nx_n+u_i<br><span class="hljs-symbol">$</span><span class="hljs-symbol">$</span><br></code></pre></td></tr></table></figure><p><span class="math display">\[y=\alpha+\beta_1x_1+\beta_2x_2+...+\beta_{n-1}x_{n-1}+\beta_nx_n+u_i\]</span></p><p>此处可以选择引擎，本文应用的是latex语法和mathjax引擎，更多公式表达见脚注<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><spanclass="hint--top hint--rounded"aria-label="https://blog.csdn.net/mingzhuo_126/article/details/82722455">[2]</span></a></sup></p><h4 id="分割线">6. 分割线</h4><p>*+-，这三个符号三连都可以插入分割线（本博客主题内，+++不会出现分割线）</p><hr /><h4 id="emoji表情">7. emoji表情</h4><p>可以直接引入外部emoji，也可以使用 冒号+主题词+冒号的形式输入，如：</p><p><code>:love_letter:</code>，出现情书的emoji： :love_letter:</p><p>此功能在本博客网页无法显示，因此您看不到情书（本地可以看到）</p><h4 id="缩进">8. 缩进</h4><p>​ 缩进一个中文字符</p><p>​ <code>&amp;emsp; 中文字符</code></p><p>​ 缩进半个中文字符</p><p>​ <code>&amp;ensp; 中文字符</code></p><p>​ 缩进四分之一个中文字符</p><p>​ <code>&amp;nbsp; 中文字符</code></p><p>效果如下：</p><p>  中文字符</p><p>  中文字符</p><p>  中文字符</p><h2 id="三其他">三、其他</h2><p>Typora作为一款功能强大的编辑器，亦支持部分HTML语言，还有打字机模式、专注模式等辅助书写的功能<sup id="fnref:3" class="footnote-ref"><a href="#fn:3" rel="footnote"><spanclass="hint--top hint--rounded"aria-label="https://sspai.com/post/54912">[3]</span></a></sup>，期待后续的学习与应用。</p><p>但它也有一定的问题，如对脚注的支持似乎没有简书编辑器直观方便，部分格式在网页端会变形或不可用。</p><p>附：</p><p>一些Markdown资源</p><ul><li><a href="https://mdnice.com/"class="uri">https://mdnice.com/</a>，让微信排版变得更容易</li><li><a href="https://web.marp.app/"class="uri">https://web.marp.app/</a>，使用Markdown语法即时编写PPT</li></ul><p>Reference:</p><ol type="1"><li><p><ahref="https://www.bilibili.com/video/BV1ox411y7Mc?from=search&amp;seid=4186236951465042906"class="uri">https://www.bilibili.com/video/BV1ox411y7Mc?from=search&amp;seid=4186236951465042906</a></p></li><li><p><ahref="https://blog.csdn.net/mingzhuo_126/article/details/82722455"class="uri">https://blog.csdn.net/mingzhuo_126/article/details/82722455</a></p></li><li><p><a href="https://sspai.com/post/54912"class="uri">https://sspai.com/post/54912</a></p></li></ol><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1"class="footnote-text"><span>https://www.bilibili.com/video/BV1ox411y7Mc?from=search&amp;seid=4186236951465042906<a href="#fnref:1" rev="footnote" class="footnote-backref">↩︎</a></span></span></li><li><span id="fn:2"class="footnote-text"><span>https://blog.csdn.net/mingzhuo_126/article/details/82722455<a href="#fnref:2" rev="footnote" class="footnote-backref">↩︎</a></span></span></li><li><span id="fn:3" class="footnote-text"><span>https://sspai.com/post/54912<a href="#fnref:3" rev="footnote" class="footnote-backref">↩︎</a></span></span></li></ol></div></section>]]></content>
    
    
    
    <tags>
      
      <tag>Typora</tag>
      
      <tag>笔记</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>和母上大人逛超市</title>
    <link href="/2020/04/05/%E4%B8%8E%E6%AF%8D%E4%B8%8A%E5%A4%A7%E4%BA%BA%E9%80%9B%E8%B6%85%E5%B8%82/"/>
    <url>/2020/04/05/%E4%B8%8E%E6%AF%8D%E4%B8%8A%E5%A4%A7%E4%BA%BA%E9%80%9B%E8%B6%85%E5%B8%82/</url>
    
    <content type="html"><![CDATA[<p>受友人远程美食诱惑，今日决定去超市搜刮一番。</p><p>超市开在我曾经的家的方向，现在住的地方过去，比以前大概要远一公里。晚饭比较早，结束之后和母上大人出发。我们怀着各自的目的，我想的是酸奶，老妈想的是柴米油盐酱醋茶。</p><p>超市入口有工作人员拿着测温枪给进入的人量体温，而里面的人，处于“薛定谔”戴口罩的状态，有些人没戴口罩、有些人戴着口罩露出鼻子。电梯口的杨国福，里面有许多年轻人，好不热闹。疫情在这座小城市似乎没有留下什么实质印记。</p><p>年前老妈拿紫砂煲炖食物的时候，放快了热水，紫砂锅爆裂，这次在超市首先到的是厨具区，挑选了一个白色有点好看的，最后在网上搜了同款...哈哈。买了喜欢的汤包、馄饨，还想买虾饺，可是真的太贵了！对照着昨天友人的酸奶，买了同款附加抹茶味，美滋滋呀。在这个超市逛了好几次，终于发现了冰激凌柜，还以为这个小地方，超市里冬天不会设冰柜呢！感觉我离快乐越来越近了！但是，对话还是一如去年超市开业时：</p><p>老妈：你想吃什么，我付款；</p><p>我：冰激凌；</p><p>母上大人：滚！冬天绝对不会让你吃的。</p><p>为什么，明明冰激凌在冬天会更好吃呀，因为不容易化！可以慢慢品！没有发现可爱多那款，可是手中的这款，看起来也很美滋滋呀！等我某天，一个人悄咪咪过来！</p><p><imgsrc="https://cdn.jsdelivr.net/gh/yuzhangnju/image2022/img/XGtuOjE2RrfW1nB.jpg" /></p><p>今天有更多的学校公布了开学日期，南大网传在四月底才有第一批开学，等到我们中间层，可能要五月上旬了。在家里真的待到发霉，没有人际接触，每天都是单机的生活。</p><p>今天更新了博客“关于页”的链接，增加了B站的小电视图标，在群友的指导下，学会了使用阿里图库的css，bilibili，干杯！</p><p>还是要许下愿望，明天开始又是新的一周，我一定可以爱上学习！</p>]]></content>
    
    
    
    <tags>
      
      <tag>日记</tag>
      
      <tag>酸奶</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>愚人节记</title>
    <link href="/2020/04/01/%E6%84%9A%E4%BA%BA%E8%8A%82%E8%AE%B0/"/>
    <url>/2020/04/01/%E6%84%9A%E4%BA%BA%E8%8A%82%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<p>有一些人，需要避而远之。</p><p>愚人节。如果将年轻人、学生们打散，各自零落，似乎这种节日的氛围就消匿于无形，这是平凡的一天。</p><p>朋友圈里只有极个别纪念张国荣的动态，似乎是例行的仪式。B站有愚人节活动，但真的感知不强。</p><p>然而我们还是进入了充满谎言的四月。</p><p>今天一整天都在低效率地整理数据，扒年鉴，对数据，将以前的工作，重复一遍，检查更新。自己还有另一个工作没有开始，较为大量的数据清洗和格式转换，不清楚老师为什么要spss格式的，stata不香吗？</p><p>晚间的时候，依旧在整理数据，被一个奇男子加了微信，自称在本院研三，即将去PKU读博，明明录取方向是人文地理，非说自己是区经，在本院的导师保密、在P大的去向保密，又说我们师门比较闭塞，建议我多出去看看...跟上一级的师兄交流了一下，师兄传了关于“泰姬陵在泰国”的票圈动态给我，让我自行体会。确认了，是一朵大奇葩，避而远之。</p><p>再过不到两周，就是放寒假3个月的日子。继续着蹉跎与后悔，愚昧地浪费光阴。</p><p>珍惜时光，好好学习，会是愚人四月对自己说的谎言吗？</p><p>2020.4.1</p><p>本博客搭建完成之后，申请了三次的<ahref="https://education.github.com/pack">Github studentpack</a>终于放行，get一年的免费域名。<ahref="https://www.yuzhangnju.me/">yuzhangnju.me</a>，就是未来一年内的域名。配置ssl花了好久，但所幸成功。</p><p>我总是将时间花在这些庸碌的事情上。</p><p>我还是没有爱上学习。</p>]]></content>
    
    
    
    <tags>
      
      <tag>日记</tag>
      
      <tag>奇葩</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>建站初记</title>
    <link href="/2020/03/28/%E5%BB%BA%E7%AB%99%E5%88%9D%E8%AE%B0/"/>
    <url>/2020/03/28/%E5%BB%BA%E7%AB%99%E5%88%9D%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<p>一昼夜降温超过10℃，最低气温低于5℃，即为寒潮。</p><p>故此这两日气温骤降，可称为寒潮，算是，将高中地理课讲过的定义拿出来温习一遍。</p><p>这股冷空气据说来自西伯利亚，遥远的北国，在太阳直射点迈过赤道向北走的时候，仍然生成了强劲的冷高压。我所在的窗户朝北，于是，正面迎击，在被老妈教育并讥笑了两次之后，我的倔强终究抵不过倒春寒，乖乖地穿上了秋裤。</p><p>今天和友人交流了一些事情，依旧是繁复的家庭争执，持续了二三十年，不知如何才能画上休止符。以前无论何种情形，都不会将家想成负担的形状，如今却偶尔有这种想法，想抛弃，想逃离。我感觉自己逐渐变得世俗。</p><p>今天亦是惦记了很久的老爸的生日，三月初五。往年这个时候都在学校，给他寄一些小礼物，今年迫不得已在家，不清楚该准备什么，想着怎么简单怎么来。下午去了这个小城最美滋滋的一家糕点店，买了小蛋糕，有些私心，顺带给自己买了个千层，是草莓味的新品，未曾尝试。以前在这家店里，吃过抹茶千层和芒果千层，很棒的味道。老爸是个奇人，完全不领情，他说自己坚决不吃甜点...于是，小蛋糕只能孤单地躺在冰箱里，和老妈分享了千层，悻悻回到自己的房间。他说，只要我还记得他的生日就可以，不必要有任何其他的仪式。</p><p>依旧折腾了一整天的Hexo建站，更换了Fluid主题，不得不说，这个主题的功能和可用性比之前的好，materialdesign的设计也很好看，经过简单的个性化和配置即可上手。后期应该会有更多的个性化定制。此外，本主题的背景图似乎对移动设备的适应性一般，后续有必要进行优化。</p><p>在家待久了，好像有越来越多的戾气，有一种，想成为温柔的人，但却总是失败的无能狂怒。可能自己，不自觉被家庭的压抑气氛渲染了。很多时候，没能控制住自己的脾气，跟老妈说话的态度不好，说出了很冲的话，下一秒就后悔，如此往复。还是应该学着，多和自己交流，让自己，慢下来，慢下来，多想想。</p><p>整个寒假都很迷茫，离校前的计划依旧只是停留在脑海里的清单，我总是缺乏实践的动力。论文经历了退稿再投再退，手头的其他论文也是没有进展，抗拒写作。很喜欢学校，但不喜欢学习，这是很致命的事情。勇气真的不是一个抽象的词。</p><p>传说在遥远的中亚，有大片的向日葵花田，那是她曾经给我的名字之一。向阳而生，向上生长，是我渴望的样子啊。</p><p>依旧许下睡前愿望：明天要安心写论文，科研才是我的全部。</p><p>本文应用Typora软件使用Markdown语法编写，作为编程小白，第一次接触Markdown总觉得很新奇，而Markdown也如同它的名气，有足够的应用空间等待挖掘。如无意外，后续的部分日记会在本博客和Journeyapp上同步发布。</p><p>2020.3.28</p>]]></content>
    
    
    
    <tags>
      
      <tag>日记</tag>
      
      <tag>寒潮</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
